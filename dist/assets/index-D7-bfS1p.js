(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function a(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(r){if(r.ep)return;r.ep=!0;const u=a(r);fetch(r.href,u)}})();function Zg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xu={exports:{}},ws={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function Lv(){if(Ym)return ws;Ym=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(o,r,u){var f=null;if(u!==void 0&&(f=""+u),r.key!==void 0&&(f=""+r.key),"key"in r){u={};for(var p in r)p!=="key"&&(u[p]=r[p])}else u=r;return r=u.ref,{$$typeof:n,type:o,key:f,ref:r!==void 0?r:null,props:u}}return ws.Fragment=e,ws.jsx=a,ws.jsxs=a,ws}var Fm;function Gv(){return Fm||(Fm=1,Xu.exports=Lv()),Xu.exports}var c=Gv(),Zu={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function Vv(){if(Km)return he;Km=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function N(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function R(D,W,ie){this.props=D,this.context=W,this.refs=A,this.updater=ie||_}R.prototype.isReactComponent={},R.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},R.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function L(){}L.prototype=R.prototype;function V(D,W,ie){this.props=D,this.context=W,this.refs=A,this.updater=ie||_}var M=V.prototype=new L;M.constructor=V,E(M,R.prototype),M.isPureReactComponent=!0;var G=Array.isArray;function q(){}var k={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function $(D,W,ie){var le=ie.ref;return{$$typeof:n,type:D,key:W,ref:le!==void 0?le:null,props:ie}}function Z(D,W){return $(D.type,W,D.props)}function ae(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function Q(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ie){return W[ie]})}var Y=/\/+/g;function ne(D,W){return typeof D=="object"&&D!==null&&D.key!=null?Q(""+D.key):W.toString(36)}function ee(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(q,q):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function B(D,W,ie,le,pe){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var Ie=!1;if(D===null)Ie=!0;else switch(xe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(D.$$typeof){case n:case e:Ie=!0;break;case v:return Ie=D._init,B(Ie(D._payload),W,ie,le,pe)}}if(Ie)return pe=pe(D),Ie=le===""?"."+ne(D,0):le,G(pe)?(ie="",Ie!=null&&(ie=Ie.replace(Y,"$&/")+"/"),B(pe,W,ie,"",function(Aa){return Aa})):pe!=null&&(ae(pe)&&(pe=Z(pe,ie+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(Y,"$&/")+"/")+Ie)),W.push(pe)),1;Ie=0;var ct=le===""?".":le+":";if(G(D))for(var Oe=0;Oe<D.length;Oe++)le=D[Oe],xe=ct+ne(le,Oe),Ie+=B(le,W,ie,xe,pe);else if(Oe=N(D),typeof Oe=="function")for(D=Oe.call(D),Oe=0;!(le=D.next()).done;)le=le.value,xe=ct+ne(le,Oe++),Ie+=B(le,W,ie,xe,pe);else if(xe==="object"){if(typeof D.then=="function")return B(ee(D),W,ie,le,pe);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function te(D,W,ie){if(D==null)return D;var le=[],pe=0;return B(D,le,"","",function(xe){return W.call(ie,xe,pe++)}),le}function de(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(ie){(D._status===0||D._status===-1)&&(D._status=1,D._result=ie)},function(ie){(D._status===0||D._status===-1)&&(D._status=2,D._result=ie)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var Me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Re={map:te,forEach:function(D,W,ie){te(D,function(){W.apply(this,arguments)},ie)},count:function(D){var W=0;return te(D,function(){W++}),W},toArray:function(D){return te(D,function(W){return W})||[]},only:function(D){if(!ae(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return he.Activity=b,he.Children=Re,he.Component=R,he.Fragment=a,he.Profiler=r,he.PureComponent=V,he.StrictMode=o,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,he.__COMPILER_RUNTIME={__proto__:null,c:function(D){return k.H.useMemoCache(D)}},he.cache=function(D){return function(){return D.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(D,W,ie){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var le=E({},D.props),pe=D.key;if(W!=null)for(xe in W.key!==void 0&&(pe=""+W.key),W)!F.call(W,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&W.ref===void 0||(le[xe]=W[xe]);var xe=arguments.length-2;if(xe===1)le.children=ie;else if(1<xe){for(var Ie=Array(xe),ct=0;ct<xe;ct++)Ie[ct]=arguments[ct+2];le.children=Ie}return $(D.type,pe,le)},he.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},he.createElement=function(D,W,ie){var le,pe={},xe=null;if(W!=null)for(le in W.key!==void 0&&(xe=""+W.key),W)F.call(W,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=W[le]);var Ie=arguments.length-2;if(Ie===1)pe.children=ie;else if(1<Ie){for(var ct=Array(Ie),Oe=0;Oe<Ie;Oe++)ct[Oe]=arguments[Oe+2];pe.children=ct}if(D&&D.defaultProps)for(le in Ie=D.defaultProps,Ie)pe[le]===void 0&&(pe[le]=Ie[le]);return $(D,xe,pe)},he.createRef=function(){return{current:null}},he.forwardRef=function(D){return{$$typeof:p,render:D}},he.isValidElement=ae,he.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:de}},he.memo=function(D,W){return{$$typeof:g,type:D,compare:W===void 0?null:W}},he.startTransition=function(D){var W=k.T,ie={};k.T=ie;try{var le=D(),pe=k.S;pe!==null&&pe(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(q,Me)}catch(xe){Me(xe)}finally{W!==null&&ie.types!==null&&(W.types=ie.types),k.T=W}},he.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},he.use=function(D){return k.H.use(D)},he.useActionState=function(D,W,ie){return k.H.useActionState(D,W,ie)},he.useCallback=function(D,W){return k.H.useCallback(D,W)},he.useContext=function(D){return k.H.useContext(D)},he.useDebugValue=function(){},he.useDeferredValue=function(D,W){return k.H.useDeferredValue(D,W)},he.useEffect=function(D,W){return k.H.useEffect(D,W)},he.useEffectEvent=function(D){return k.H.useEffectEvent(D)},he.useId=function(){return k.H.useId()},he.useImperativeHandle=function(D,W,ie){return k.H.useImperativeHandle(D,W,ie)},he.useInsertionEffect=function(D,W){return k.H.useInsertionEffect(D,W)},he.useLayoutEffect=function(D,W){return k.H.useLayoutEffect(D,W)},he.useMemo=function(D,W){return k.H.useMemo(D,W)},he.useOptimistic=function(D,W){return k.H.useOptimistic(D,W)},he.useReducer=function(D,W,ie){return k.H.useReducer(D,W,ie)},he.useRef=function(D){return k.H.useRef(D)},he.useState=function(D){return k.H.useState(D)},he.useSyncExternalStore=function(D,W,ie){return k.H.useSyncExternalStore(D,W,ie)},he.useTransition=function(){return k.H.useTransition()},he.version="19.2.0",he}var $m;function _c(){return $m||($m=1,Zu.exports=Vv()),Zu.exports}var H=_c();const Hv=Zg(H);var Wu={exports:{}},Ss={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function Pv(){return Qm||(Qm=1,(function(n){function e(B,te){var de=B.length;B.push(te);e:for(;0<de;){var Me=de-1>>>1,Re=B[Me];if(0<r(Re,te))B[Me]=te,B[de]=Re,de=Me;else break e}}function a(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var te=B[0],de=B.pop();if(de!==te){B[0]=de;e:for(var Me=0,Re=B.length,D=Re>>>1;Me<D;){var W=2*(Me+1)-1,ie=B[W],le=W+1,pe=B[le];if(0>r(ie,de))le<Re&&0>r(pe,ie)?(B[Me]=pe,B[le]=de,Me=le):(B[Me]=ie,B[W]=de,Me=W);else if(le<Re&&0>r(pe,de))B[Me]=pe,B[le]=de,Me=le;else break e}}return te}function r(B,te){var de=B.sortIndex-te.sortIndex;return de!==0?de:B.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var y=[],g=[],v=1,b=null,w=3,N=!1,_=!1,E=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function M(B){for(var te=a(g);te!==null;){if(te.callback===null)o(g);else if(te.startTime<=B)o(g),te.sortIndex=te.expirationTime,e(y,te);else break;te=a(g)}}function G(B){if(E=!1,M(B),!_)if(a(y)!==null)_=!0,q||(q=!0,Q());else{var te=a(g);te!==null&&ee(G,te.startTime-B)}}var q=!1,k=-1,F=5,$=-1;function Z(){return A?!0:!(n.unstable_now()-$<F)}function ae(){if(A=!1,q){var B=n.unstable_now();$=B;var te=!0;try{e:{_=!1,E&&(E=!1,L(k),k=-1),N=!0;var de=w;try{t:{for(M(B),b=a(y);b!==null&&!(b.expirationTime>B&&Z());){var Me=b.callback;if(typeof Me=="function"){b.callback=null,w=b.priorityLevel;var Re=Me(b.expirationTime<=B);if(B=n.unstable_now(),typeof Re=="function"){b.callback=Re,M(B),te=!0;break t}b===a(y)&&o(y),M(B)}else o(y);b=a(y)}if(b!==null)te=!0;else{var D=a(g);D!==null&&ee(G,D.startTime-B),te=!1}}break e}finally{b=null,w=de,N=!1}te=void 0}}finally{te?Q():q=!1}}}var Q;if(typeof V=="function")Q=function(){V(ae)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ne=Y.port2;Y.port1.onmessage=ae,Q=function(){ne.postMessage(null)}}else Q=function(){R(ae,0)};function ee(B,te){k=R(function(){B(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(B){switch(w){case 1:case 2:case 3:var te=3;break;default:te=w}var de=w;w=te;try{return B()}finally{w=de}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(B,te){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var de=w;w=B;try{return te()}finally{w=de}},n.unstable_scheduleCallback=function(B,te,de){var Me=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Me+de:Me):de=Me,B){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=de+Re,B={id:v++,callback:te,priorityLevel:B,startTime:de,expirationTime:Re,sortIndex:-1},de>Me?(B.sortIndex=de,e(g,B),a(y)===null&&B===a(g)&&(E?(L(k),k=-1):E=!0,ee(G,de-Me))):(B.sortIndex=Re,e(y,B),_||N||(_=!0,q||(q=!0,Q()))),B},n.unstable_shouldYield=Z,n.unstable_wrapCallback=function(B){var te=w;return function(){var de=w;w=te;try{return B.apply(this,arguments)}finally{w=de}}}})(tc)),tc}var Xm;function jv(){return Xm||(Xm=1,ec.exports=Pv()),ec.exports}var nc={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function Bv(){if(Zm)return rt;Zm=1;var n=_c();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(y,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:y,containerInfo:g,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,rt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,v)},rt.flushSync=function(y){var g=f.T,v=o.p;try{if(f.T=null,o.p=2,y)return y()}finally{f.T=g,o.p=v,o.d.f()}},rt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(y,g))},rt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},rt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,b=p(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?o.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:N}):v==="script"&&o.d.X(y,{crossOrigin:b,integrity:w,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);o.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(y)},rt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=p(v,g.crossOrigin);o.d.L(y,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=p(g.as,g.crossOrigin);o.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(y)},rt.requestFormReset=function(y){o.d.r(y)},rt.unstable_batchedUpdates=function(y,g){return y(g)},rt.useFormState=function(y,g,v){return f.H.useFormState(y,g,v)},rt.useFormStatus=function(){return f.H.useHostTransitionStatus()},rt.version="19.2.0",rt}var Wm;function zv(){if(Wm)return nc.exports;Wm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nc.exports=Bv(),nc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function Ov(){if(ep)return Ss;ep=1;var n=jv(),e=_c(),a=zv();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(o(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(o(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var x=h.alternate;if(x===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===x.child){for(x=h.child;x;){if(x===s)return y(h),t;if(x===l)return y(h),i;x=x.sibling}throw Error(o(188))}if(s.return!==l.return)s=h,l=x;else{for(var S=!1,T=h.child;T;){if(T===s){S=!0,s=h,l=x;break}if(T===l){S=!0,l=h,s=x;break}T=T.sibling}if(!S){for(T=x.child;T;){if(T===s){S=!0,s=x,l=h;break}if(T===l){S=!0,l=x,s=h;break}T=T.sibling}if(!S)throw Error(o(189))}}if(s.alternate!==l)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function Q(t){return t===null||typeof t!="object"?null:(t=ae&&t[ae]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Y?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case R:return"Profiler";case A:return"StrictMode";case G:return"Suspense";case q:return"SuspenseList";case $:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case V:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case M:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:ne(t.type)||"Memo";case F:i=t._payload,t=t._init;try{return ne(t(i))}catch{}}return null}var ee=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Me=[],Re=-1;function D(t){return{current:t}}function W(t){0>Re||(t.current=Me[Re],Me[Re]=null,Re--)}function ie(t,i){Re++,Me[Re]=t.current,t.current=i}var le=D(null),pe=D(null),xe=D(null),Ie=D(null);function ct(t,i){switch(ie(xe,i),ie(pe,t),ie(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?pm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=pm(i),t=gm(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(le),ie(le,t)}function Oe(){W(le),W(pe),W(xe)}function Aa(t){t.memoizedState!==null&&ie(Ie,t);var i=le.current,s=gm(i,t.type);i!==s&&(ie(pe,t),ie(le,s))}function Vs(t){pe.current===t&&(W(le),W(pe)),Ie.current===t&&(W(Ie),ys._currentValue=de)}var Dl,Oc;function ai(t){if(Dl===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Dl=i&&i[1]||"",Oc=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dl+t+Oc}var Ul=!1;function ql(t,i){if(!t||Ul)return"";Ul=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(O){var z=O}Reflect.construct(t,[],X)}else{try{X.call()}catch(O){z=O}t.call(X.prototype)}}else{try{throw Error()}catch(O){z=O}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(O){if(O&&z&&typeof O.stack=="string")return[O.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),S=x[0],T=x[1];if(S&&T){var C=S.split(`
`),j=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var J=`
`+C[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{Ul=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ai(s):""}function hy(t,i){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return ql(t.type,!1);case 11:return ql(t.type.render,!1);case 1:return ql(t.type,!0);case 31:return ai("Activity");default:return""}}function Jc(t){try{var i="",s=null;do i+=hy(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ll=Object.prototype.hasOwnProperty,Gl=n.unstable_scheduleCallback,Vl=n.unstable_cancelCallback,my=n.unstable_shouldYield,py=n.unstable_requestPaint,St=n.unstable_now,gy=n.unstable_getCurrentPriorityLevel,Yc=n.unstable_ImmediatePriority,Fc=n.unstable_UserBlockingPriority,Hs=n.unstable_NormalPriority,yy=n.unstable_LowPriority,Kc=n.unstable_IdlePriority,xy=n.log,vy=n.unstable_setDisableYieldValue,Ma=null,Nt=null;function Mn(t){if(typeof xy=="function"&&vy(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Ma,t)}catch{}}var Tt=Math.clz32?Math.clz32:Sy,by=Math.log,wy=Math.LN2;function Sy(t){return t>>>=0,t===0?32:31-(by(t)/wy|0)|0}var Ps=256,js=262144,Bs=4194304;function si(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zs(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,x=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~x,l!==0?h=si(l):(S&=T,S!==0?h=si(S):s||(s=T&~t,s!==0&&(h=si(s))))):(T=l&~x,T!==0?h=si(T):S!==0?h=si(S):s||(s=l&~t,s!==0&&(h=si(s)))),h===0?0:i!==0&&i!==h&&(i&x)===0&&(x=h&-h,s=i&-i,x>=s||x===32&&(s&4194048)!==0)?i:h}function Ra(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ny(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var t=Bs;return Bs<<=1,(Bs&62914560)===0&&(Bs=4194304),t}function Hl(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Ia(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ty(t,i,s,l,h,x){var S=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(s=S&~s;0<s;){var J=31-Tt(s),X=1<<J;T[J]=0,C[J]=-1;var z=j[J];if(z!==null)for(j[J]=null,J=0;J<z.length;J++){var O=z[J];O!==null&&(O.lane&=-536870913)}s&=~X}l!==0&&Qc(t,l,0),x!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=x&~(S&~i))}function Qc(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Tt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Xc(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Tt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function Zc(t,i){var s=i&-i;return s=(s&42)!==0?1:Pl(s),(s&(t.suspendedLanes|i))!==0?0:s}function Pl(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function jl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wc(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Hm(t.type))}function ed(t,i){var s=te.p;try{return te.p=t,i()}finally{te.p=s}}var Rn=Math.random().toString(36).slice(2),it="__reactFiber$"+Rn,mt="__reactProps$"+Rn,Mi="__reactContainer$"+Rn,Bl="__reactEvents$"+Rn,Ey="__reactListeners$"+Rn,_y="__reactHandles$"+Rn,td="__reactResources$"+Rn,ka="__reactMarker$"+Rn;function zl(t){delete t[it],delete t[mt],delete t[Bl],delete t[Ey],delete t[_y]}function Ri(t){var i=t[it];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Mi]||s[it]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Nm(t);t!==null;){if(s=t[it])return s;t=Nm(t)}return i}t=s,s=t.parentNode}return null}function Ii(t){if(t=t[it]||t[Mi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Da(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function ki(t){var i=t[td];return i||(i=t[td]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(t){t[ka]=!0}var nd=new Set,id={};function oi(t,i){Di(t,i),Di(t+"Capture",i)}function Di(t,i){for(id[t]=i,t=0;t<i.length;t++)nd.add(i[t])}var Cy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ad={},sd={};function Ay(t){return Ll.call(sd,t)?!0:Ll.call(ad,t)?!1:Cy.test(t)?sd[t]=!0:(ad[t]=!0,!1)}function Os(t,i,s){if(Ay(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Js(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function rn(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function od(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function My(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,x=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(S){s=""+S,x.call(this,S)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(S){s=""+S},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ol(t){if(!t._valueTracker){var i=od(t)?"checked":"value";t._valueTracker=My(t,i,""+t[i])}}function ld(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=od(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ry=/[\n"\\]/g;function qt(t){return t.replace(Ry,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Jl(t,i,s,l,h,x,S,T){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),i!=null?S==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),i!=null?Yl(t,S,Ut(i)):s!=null?Yl(t,S,Ut(s)):l!=null&&t.removeAttribute("value"),h==null&&x!=null&&(t.defaultChecked=!!x),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ut(T):t.removeAttribute("name")}function rd(t,i,s,l,h,x,S,T){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.type=x),i!=null||s!=null){if(!(x!=="submit"&&x!=="reset"||i!=null)){Ol(t);return}s=s!=null?""+Ut(s):"",i=i!=null?""+Ut(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),Ol(t)}function Yl(t,i,s){i==="number"&&Ys(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ui(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ut(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ud(t,i,s){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Ut(s):""}function cd(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(o(92));if(ee(l)){if(1<l.length)throw Error(o(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Ut(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Ol(t)}function qi(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Iy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dd(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Iy.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function fd(t,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&dd(t,h,l)}else for(var x in i)i.hasOwnProperty(x)&&dd(t,x,i[x])}function Fl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ky=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(t){return Dy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function un(){}var Kl=null;function $l(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Li=null,Gi=null;function hd(t){var i=Ii(t);if(i&&(t=i.stateNode)){var s=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Jl(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+qt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(o(90));Jl(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&ld(l)}break e;case"textarea":ud(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Ui(t,!!s.multiple,i,!1)}}}var Ql=!1;function md(t,i,s){if(Ql)return t(i,s);Ql=!0;try{var l=t(i);return l}finally{if(Ql=!1,(Li!==null||Gi!==null)&&(qo(),Li&&(i=Li,t=Gi,Gi=Li=null,hd(i),t)))for(i=0;i<t.length;i++)hd(t[i])}}function Ua(t,i){var s=t.stateNode;if(s===null)return null;var l=s[mt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xl=!1;if(cn)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Xl=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Xl=!1}var In=null,Zl=null,Ks=null;function pd(){if(Ks)return Ks;var t,i=Zl,s=i.length,l,h="value"in In?In.value:In.textContent,x=h.length;for(t=0;t<s&&i[t]===h[t];t++);var S=s-t;for(l=1;l<=S&&i[s-l]===h[x-l];l++);return Ks=h.slice(t,1<l?1-l:void 0)}function $s(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Qs(){return!0}function gd(){return!1}function pt(t){function i(s,l,h,x,S){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Qs:gd,this.isPropagationStopped=gd,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),i}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=pt(li),La=b({},li,{view:0,detail:0}),Uy=pt(La),Wl,er,Ga,Zs=b({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(Wl=t.screenX-Ga.screenX,er=t.screenY-Ga.screenY):er=Wl=0,Ga=t),Wl)},movementY:function(t){return"movementY"in t?t.movementY:er}}),yd=pt(Zs),qy=b({},Zs,{dataTransfer:0}),Ly=pt(qy),Gy=b({},La,{relatedTarget:0}),tr=pt(Gy),Vy=b({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Hy=pt(Vy),Py=b({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jy=pt(Py),By=b({},li,{data:0}),xd=pt(By),zy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yy(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Jy[t])?!!i[t]:!1}function nr(){return Yy}var Fy=b({},La,{key:function(t){if(t.key){var i=zy[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(t){return t.type==="keypress"?$s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ky=pt(Fy),$y=b({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vd=pt($y),Qy=b({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),Xy=pt(Qy),Zy=b({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wy=pt(Zy),ex=b({},Zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tx=pt(ex),nx=b({},li,{newState:0,oldState:0}),ix=pt(nx),ax=[9,13,27,32],ir=cn&&"CompositionEvent"in window,Va=null;cn&&"documentMode"in document&&(Va=document.documentMode);var sx=cn&&"TextEvent"in window&&!Va,bd=cn&&(!ir||Va&&8<Va&&11>=Va),wd=" ",Sd=!1;function Nd(t,i){switch(t){case"keyup":return ax.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Td(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vi=!1;function ox(t,i){switch(t){case"compositionend":return Td(i);case"keypress":return i.which!==32?null:(Sd=!0,wd);case"textInput":return t=i.data,t===wd&&Sd?null:t;default:return null}}function lx(t,i){if(Vi)return t==="compositionend"||!ir&&Nd(t,i)?(t=pd(),Ks=Zl=In=null,Vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bd&&i.locale!=="ko"?null:i.data;default:return null}}var rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!rx[t.type]:i==="textarea"}function _d(t,i,s,l){Li?Gi?Gi.push(l):Gi=[l]:Li=l,i=Bo(i,"onChange"),0<i.length&&(s=new Xs("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Ha=null,Pa=null;function ux(t){um(t,0)}function Ws(t){var i=Da(t);if(ld(i))return t}function Cd(t,i){if(t==="change")return i}var Ad=!1;if(cn){var ar;if(cn){var sr="oninput"in document;if(!sr){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),sr=typeof Md.oninput=="function"}ar=sr}else ar=!1;Ad=ar&&(!document.documentMode||9<document.documentMode)}function Rd(){Ha&&(Ha.detachEvent("onpropertychange",Id),Pa=Ha=null)}function Id(t){if(t.propertyName==="value"&&Ws(Pa)){var i=[];_d(i,Pa,t,$l(t)),md(ux,i)}}function cx(t,i,s){t==="focusin"?(Rd(),Ha=i,Pa=s,Ha.attachEvent("onpropertychange",Id)):t==="focusout"&&Rd()}function dx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ws(Pa)}function fx(t,i){if(t==="click")return Ws(i)}function hx(t,i){if(t==="input"||t==="change")return Ws(i)}function mx(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Et=typeof Object.is=="function"?Object.is:mx;function ja(t,i){if(Et(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ll.call(i,h)||!Et(t[h],i[h]))return!1}return!0}function kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dd(t,i){var s=kd(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=kd(s)}}function Ud(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ud(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function qd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ys(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Ys(t.document)}return i}function or(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var px=cn&&"documentMode"in document&&11>=document.documentMode,Hi=null,lr=null,Ba=null,rr=!1;function Ld(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;rr||Hi==null||Hi!==Ys(l)||(l=Hi,"selectionStart"in l&&or(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ba&&ja(Ba,l)||(Ba=l,l=Bo(lr,"onSelect"),0<l.length&&(i=new Xs("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Hi)))}function ri(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Pi={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},ur={},Gd={};cn&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function ui(t){if(ur[t])return ur[t];if(!Pi[t])return t;var i=Pi[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Gd)return ur[t]=i[s];return t}var Vd=ui("animationend"),Hd=ui("animationiteration"),Pd=ui("animationstart"),gx=ui("transitionrun"),yx=ui("transitionstart"),xx=ui("transitioncancel"),jd=ui("transitionend"),Bd=new Map,cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cr.push("scrollEnd");function Yt(t,i){Bd.set(t,i),oi(i,[t])}var eo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Lt=[],ji=0,dr=0;function to(){for(var t=ji,i=dr=ji=0;i<t;){var s=Lt[i];Lt[i++]=null;var l=Lt[i];Lt[i++]=null;var h=Lt[i];Lt[i++]=null;var x=Lt[i];if(Lt[i++]=null,l!==null&&h!==null){var S=l.pending;S===null?h.next=h:(h.next=S.next,S.next=h),l.pending=h}x!==0&&zd(s,h,x)}}function no(t,i,s,l){Lt[ji++]=t,Lt[ji++]=i,Lt[ji++]=s,Lt[ji++]=l,dr|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function fr(t,i,s,l){return no(t,i,s,l),io(t)}function ci(t,i){return no(t,null,null,i),io(t)}function zd(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,x=t.return;x!==null;)x.childLanes|=s,l=x.alternate,l!==null&&(l.childLanes|=s),x.tag===22&&(t=x.stateNode,t===null||t._visibility&1||(h=!0)),t=x,x=x.return;return t.tag===3?(x=t.stateNode,h&&i!==null&&(h=31-Tt(s),t=x.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),x):null}function io(t){if(50<cs)throw cs=0,wu=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Bi={};function vx(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(t,i,s,l){return new vx(t,i,s,l)}function hr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dn(t,i){var s=t.alternate;return s===null?(s=_t(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Od(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ao(t,i,s,l,h,x){var S=0;if(l=t,typeof t=="function")hr(t)&&(S=1);else if(typeof t=="string")S=Tv(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case $:return t=_t(31,s,i,h),t.elementType=$,t.lanes=x,t;case E:return di(s.children,h,x,i);case A:S=8,h|=24;break;case R:return t=_t(12,s,i,h|2),t.elementType=R,t.lanes=x,t;case G:return t=_t(13,s,i,h),t.elementType=G,t.lanes=x,t;case q:return t=_t(19,s,i,h),t.elementType=q,t.lanes=x,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:S=10;break e;case L:S=9;break e;case M:S=11;break e;case k:S=14;break e;case F:S=16,l=null;break e}S=29,s=Error(o(130,t===null?"null":typeof t,"")),l=null}return i=_t(S,s,i,h),i.elementType=t,i.type=l,i.lanes=x,i}function di(t,i,s,l){return t=_t(7,t,l,i),t.lanes=s,t}function mr(t,i,s){return t=_t(6,t,null,i),t.lanes=s,t}function Jd(t){var i=_t(18,null,null,0);return i.stateNode=t,i}function pr(t,i,s){return i=_t(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Yd=new WeakMap;function Gt(t,i){if(typeof t=="object"&&t!==null){var s=Yd.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Jc(i)},Yd.set(t,i),i)}return{value:t,source:i,stack:Jc(i)}}var zi=[],Oi=0,so=null,za=0,Vt=[],Ht=0,kn=null,Zt=1,Wt="";function fn(t,i){zi[Oi++]=za,zi[Oi++]=so,so=t,za=i}function Fd(t,i,s){Vt[Ht++]=Zt,Vt[Ht++]=Wt,Vt[Ht++]=kn,kn=t;var l=Zt;t=Wt;var h=32-Tt(l)-1;l&=~(1<<h),s+=1;var x=32-Tt(i)+h;if(30<x){var S=h-h%5;x=(l&(1<<S)-1).toString(32),l>>=S,h-=S,Zt=1<<32-Tt(i)+h|s<<h|l,Wt=x+t}else Zt=1<<x|s<<h|l,Wt=t}function gr(t){t.return!==null&&(fn(t,1),Fd(t,1,0))}function yr(t){for(;t===so;)so=zi[--Oi],zi[Oi]=null,za=zi[--Oi],zi[Oi]=null;for(;t===kn;)kn=Vt[--Ht],Vt[Ht]=null,Wt=Vt[--Ht],Vt[Ht]=null,Zt=Vt[--Ht],Vt[Ht]=null}function Kd(t,i){Vt[Ht++]=Zt,Vt[Ht++]=Wt,Vt[Ht++]=kn,Zt=i.id,Wt=i.overflow,kn=t}var at=null,Ve=null,Ne=!1,Dn=null,Pt=!1,xr=Error(o(519));function Un(t){var i=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oa(Gt(i,t)),xr}function $d(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[it]=t,i[mt]=l,s){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(s=0;s<fs.length;s++)be(fs[s],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":be("invalid",i),rd(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":be("invalid",i);break;case"textarea":be("invalid",i),cd(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||hm(i.textContent,s)?(l.popover!=null&&(be("beforetoggle",i),be("toggle",i)),l.onScroll!=null&&be("scroll",i),l.onScrollEnd!=null&&be("scrollend",i),l.onClick!=null&&(i.onclick=un),i=!0):i=!1,i||Un(t,!0)}function Qd(t){for(at=t.return;at;)switch(at.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:at=at.return}}function Ji(t){if(t!==at)return!1;if(!Ne)return Qd(t),Ne=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Lu(t.type,t.memoizedProps)),s=!s),s&&Ve&&Un(t),Qd(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Ve=Sm(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Ve=Sm(t)}else i===27?(i=Ve,Kn(t.type)?(t=ju,ju=null,Ve=t):Ve=i):Ve=at?Bt(t.stateNode.nextSibling):null;return!0}function fi(){Ve=at=null,Ne=!1}function vr(){var t=Dn;return t!==null&&(vt===null?vt=t:vt.push.apply(vt,t),Dn=null),t}function Oa(t){Dn===null?Dn=[t]:Dn.push(t)}var br=D(null),hi=null,hn=null;function qn(t,i,s){ie(br,i._currentValue),i._currentValue=s}function mn(t){t._currentValue=br.current,W(br)}function wr(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Sr(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var x=h.dependencies;if(x!==null){var S=h.child;x=x.firstContext;e:for(;x!==null;){var T=x;x=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){x.lanes|=s,T=x.alternate,T!==null&&(T.lanes|=s),wr(x.return,s,t),l||(S=null);break e}x=T.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(o(341));S.lanes|=s,x=S.alternate,x!==null&&(x.lanes|=s),wr(S,s,t),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===t){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function Yi(t,i,s,l){t=null;for(var h=i,x=!1;h!==null;){if(!x){if((h.flags&524288)!==0)x=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var T=h.type;Et(h.pendingProps.value,S.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ie.current){if(S=h.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ys):t=[ys])}h=h.return}t!==null&&Sr(i,t,s,l),i.flags|=262144}function oo(t){for(t=t.firstContext;t!==null;){if(!Et(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function mi(t){hi=t,hn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function st(t){return Xd(hi,t)}function lo(t,i){return hi===null&&mi(t),Xd(t,i)}function Xd(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},hn===null){if(t===null)throw Error(o(308));hn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else hn=hn.next=i;return s}var bx=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},wx=n.unstable_scheduleCallback,Sx=n.unstable_NormalPriority,Ke={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nr(){return{controller:new bx,data:new Map,refCount:0}}function Ja(t){t.refCount--,t.refCount===0&&wx(Sx,function(){t.controller.abort()})}var Ya=null,Tr=0,Fi=0,Ki=null;function Nx(t,i){if(Ya===null){var s=Ya=[];Tr=0,Fi=Cu(),Ki={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Tr++,i.then(Zd,Zd),i}function Zd(){if(--Tr===0&&Ya!==null){Ki!==null&&(Ki.status="fulfilled");var t=Ya;Ya=null,Fi=0,Ki=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Tx(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Wd=B.S;B.S=function(t,i){Gh=St(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Nx(t,i),Wd!==null&&Wd(t,i)};var pi=D(null);function Er(){var t=pi.current;return t!==null?t:Ge.pooledCache}function ro(t,i){i===null?ie(pi,pi.current):ie(pi,i.pool)}function ef(){var t=Er();return t===null?null:{parent:Ke._currentValue,pool:t}}var $i=Error(o(460)),_r=Error(o(474)),uo=Error(o(542)),co={then:function(){}};function tf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nf(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(un,un),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,sf(t),t;default:if(typeof i.status=="string")i.then(un,un);else{if(t=Ge,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,sf(t),t}throw yi=i,$i}}function gi(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(yi=s,$i):s}}var yi=null;function af(){if(yi===null)throw Error(o(459));var t=yi;return yi=null,t}function sf(t){if(t===$i||t===uo)throw Error(o(483))}var Qi=null,Fa=0;function fo(t){var i=Fa;return Fa+=1,Qi===null&&(Qi=[]),nf(Qi,t,i)}function Ka(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ho(t,i){throw i.$$typeof===w?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function of(t){function i(U,I){if(t){var P=U.deletions;P===null?(U.deletions=[I],U.flags|=16):P.push(I)}}function s(U,I){if(!t)return null;for(;I!==null;)i(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function h(U,I){return U=dn(U,I),U.index=0,U.sibling=null,U}function x(U,I,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<I?(U.flags|=67108866,I):P):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function S(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,I,P,K){return I===null||I.tag!==6?(I=mr(P,U.mode,K),I.return=U,I):(I=h(I,P),I.return=U,I)}function C(U,I,P,K){var ce=P.type;return ce===E?J(U,I,P.props.children,K,P.key):I!==null&&(I.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===F&&gi(ce)===I.type)?(I=h(I,P.props),Ka(I,P),I.return=U,I):(I=ao(P.type,P.key,P.props,null,U.mode,K),Ka(I,P),I.return=U,I)}function j(U,I,P,K){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=pr(P,U.mode,K),I.return=U,I):(I=h(I,P.children||[]),I.return=U,I)}function J(U,I,P,K,ce){return I===null||I.tag!==7?(I=di(P,U.mode,K,ce),I.return=U,I):(I=h(I,P),I.return=U,I)}function X(U,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=mr(""+I,U.mode,P),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case N:return P=ao(I.type,I.key,I.props,null,U.mode,P),Ka(P,I),P.return=U,P;case _:return I=pr(I,U.mode,P),I.return=U,I;case F:return I=gi(I),X(U,I,P)}if(ee(I)||Q(I))return I=di(I,U.mode,P,null),I.return=U,I;if(typeof I.then=="function")return X(U,fo(I),P);if(I.$$typeof===V)return X(U,lo(U,I),P);ho(U,I)}return null}function z(U,I,P,K){var ce=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ce!==null?null:T(U,I,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case N:return P.key===ce?C(U,I,P,K):null;case _:return P.key===ce?j(U,I,P,K):null;case F:return P=gi(P),z(U,I,P,K)}if(ee(P)||Q(P))return ce!==null?null:J(U,I,P,K,null);if(typeof P.then=="function")return z(U,I,fo(P),K);if(P.$$typeof===V)return z(U,I,lo(U,P),K);ho(U,P)}return null}function O(U,I,P,K,ce){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(P)||null,T(I,U,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return U=U.get(K.key===null?P:K.key)||null,C(I,U,K,ce);case _:return U=U.get(K.key===null?P:K.key)||null,j(I,U,K,ce);case F:return K=gi(K),O(U,I,P,K,ce)}if(ee(K)||Q(K))return U=U.get(P)||null,J(I,U,K,ce,null);if(typeof K.then=="function")return O(U,I,P,fo(K),ce);if(K.$$typeof===V)return O(U,I,P,lo(I,K),ce);ho(I,K)}return null}function se(U,I,P,K){for(var ce=null,Te=null,re=I,ye=I=0,Se=null;re!==null&&ye<P.length;ye++){re.index>ye?(Se=re,re=null):Se=re.sibling;var Ee=z(U,re,P[ye],K);if(Ee===null){re===null&&(re=Se);break}t&&re&&Ee.alternate===null&&i(U,re),I=x(Ee,I,ye),Te===null?ce=Ee:Te.sibling=Ee,Te=Ee,re=Se}if(ye===P.length)return s(U,re),Ne&&fn(U,ye),ce;if(re===null){for(;ye<P.length;ye++)re=X(U,P[ye],K),re!==null&&(I=x(re,I,ye),Te===null?ce=re:Te.sibling=re,Te=re);return Ne&&fn(U,ye),ce}for(re=l(re);ye<P.length;ye++)Se=O(re,U,ye,P[ye],K),Se!==null&&(t&&Se.alternate!==null&&re.delete(Se.key===null?ye:Se.key),I=x(Se,I,ye),Te===null?ce=Se:Te.sibling=Se,Te=Se);return t&&re.forEach(function(Wn){return i(U,Wn)}),Ne&&fn(U,ye),ce}function fe(U,I,P,K){if(P==null)throw Error(o(151));for(var ce=null,Te=null,re=I,ye=I=0,Se=null,Ee=P.next();re!==null&&!Ee.done;ye++,Ee=P.next()){re.index>ye?(Se=re,re=null):Se=re.sibling;var Wn=z(U,re,Ee.value,K);if(Wn===null){re===null&&(re=Se);break}t&&re&&Wn.alternate===null&&i(U,re),I=x(Wn,I,ye),Te===null?ce=Wn:Te.sibling=Wn,Te=Wn,re=Se}if(Ee.done)return s(U,re),Ne&&fn(U,ye),ce;if(re===null){for(;!Ee.done;ye++,Ee=P.next())Ee=X(U,Ee.value,K),Ee!==null&&(I=x(Ee,I,ye),Te===null?ce=Ee:Te.sibling=Ee,Te=Ee);return Ne&&fn(U,ye),ce}for(re=l(re);!Ee.done;ye++,Ee=P.next())Ee=O(re,U,ye,Ee.value,K),Ee!==null&&(t&&Ee.alternate!==null&&re.delete(Ee.key===null?ye:Ee.key),I=x(Ee,I,ye),Te===null?ce=Ee:Te.sibling=Ee,Te=Ee);return t&&re.forEach(function(qv){return i(U,qv)}),Ne&&fn(U,ye),ce}function Le(U,I,P,K){if(typeof P=="object"&&P!==null&&P.type===E&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case N:e:{for(var ce=P.key;I!==null;){if(I.key===ce){if(ce=P.type,ce===E){if(I.tag===7){s(U,I.sibling),K=h(I,P.props.children),K.return=U,U=K;break e}}else if(I.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===F&&gi(ce)===I.type){s(U,I.sibling),K=h(I,P.props),Ka(K,P),K.return=U,U=K;break e}s(U,I);break}else i(U,I);I=I.sibling}P.type===E?(K=di(P.props.children,U.mode,K,P.key),K.return=U,U=K):(K=ao(P.type,P.key,P.props,null,U.mode,K),Ka(K,P),K.return=U,U=K)}return S(U);case _:e:{for(ce=P.key;I!==null;){if(I.key===ce)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){s(U,I.sibling),K=h(I,P.children||[]),K.return=U,U=K;break e}else{s(U,I);break}else i(U,I);I=I.sibling}K=pr(P,U.mode,K),K.return=U,U=K}return S(U);case F:return P=gi(P),Le(U,I,P,K)}if(ee(P))return se(U,I,P,K);if(Q(P)){if(ce=Q(P),typeof ce!="function")throw Error(o(150));return P=ce.call(P),fe(U,I,P,K)}if(typeof P.then=="function")return Le(U,I,fo(P),K);if(P.$$typeof===V)return Le(U,I,lo(U,P),K);ho(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,I!==null&&I.tag===6?(s(U,I.sibling),K=h(I,P),K.return=U,U=K):(s(U,I),K=mr(P,U.mode,K),K.return=U,U=K),S(U)):s(U,I)}return function(U,I,P,K){try{Fa=0;var ce=Le(U,I,P,K);return Qi=null,ce}catch(re){if(re===$i||re===uo)throw re;var Te=_t(29,re,null,U.mode);return Te.lanes=K,Te.return=U,Te}finally{}}}var xi=of(!0),lf=of(!1),Ln=!1;function Cr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ar(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ae&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=io(t),zd(t,null,s),i}return no(t,l,i,s),io(t)}function $a(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Xc(t,s)}}function Mr(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,x=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};x===null?h=x=S:x=x.next=S,s=s.next}while(s!==null);x===null?h=x=i:x=x.next=i}else h=x=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Rr=!1;function Qa(){if(Rr){var t=Ki;if(t!==null)throw t}}function Xa(t,i,s,l){Rr=!1;var h=t.updateQueue;Ln=!1;var x=h.firstBaseUpdate,S=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,S===null?x=j:S.next=j,S=C;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==S&&(T===null?J.firstBaseUpdate=j:T.next=j,J.lastBaseUpdate=C))}if(x!==null){var X=h.baseState;S=0,J=j=C=null,T=x;do{var z=T.lane&-536870913,O=z!==T.lane;if(O?(we&z)===z:(l&z)===z){z!==0&&z===Fi&&(Rr=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var se=t,fe=T;z=i;var Le=s;switch(fe.tag){case 1:if(se=fe.payload,typeof se=="function"){X=se.call(Le,X,z);break e}X=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=fe.payload,z=typeof se=="function"?se.call(Le,X,z):se,z==null)break e;X=b({},X,z);break e;case 2:Ln=!0}}z=T.callback,z!==null&&(t.flags|=64,O&&(t.flags|=8192),O=h.callbacks,O===null?h.callbacks=[z]:O.push(z))}else O={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(j=J=O,C=X):J=J.next=O,S|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;O=T,T=O.next,O.next=null,h.lastBaseUpdate=O,h.shared.pending=null}}while(!0);J===null&&(C=X),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=J,x===null&&(h.shared.lanes=0),zn|=S,t.lanes=S,t.memoizedState=X}}function rf(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function uf(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)rf(s[t],i)}var Xi=D(null),mo=D(0);function cf(t,i){t=Nn,ie(mo,t),ie(Xi,i),Nn=t|i.baseLanes}function Ir(){ie(mo,Nn),ie(Xi,Xi.current)}function kr(){Nn=mo.current,W(Xi),W(mo)}var Ct=D(null),jt=null;function Hn(t){var i=t.alternate;ie(Je,Je.current&1),ie(Ct,t),jt===null&&(i===null||Xi.current!==null||i.memoizedState!==null)&&(jt=t)}function Dr(t){ie(Je,Je.current),ie(Ct,t),jt===null&&(jt=t)}function df(t){t.tag===22?(ie(Je,Je.current),ie(Ct,t),jt===null&&(jt=t)):Pn()}function Pn(){ie(Je,Je.current),ie(Ct,Ct.current)}function At(t){W(Ct),jt===t&&(jt=null),W(Je)}var Je=D(0);function po(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Hu(s)||Pu(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var pn=0,ge=null,Ue=null,$e=null,go=!1,Zi=!1,vi=!1,yo=0,Za=0,Wi=null,Ex=0;function Be(){throw Error(o(321))}function Ur(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Et(t[s],i[s]))return!1;return!0}function qr(t,i,s,l,h,x){return pn=x,ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=t===null||t.memoizedState===null?Kf:Qr,vi=!1,x=s(l,h),vi=!1,Zi&&(x=hf(i,s,l,h)),ff(t),x}function ff(t){B.H=ts;var i=Ue!==null&&Ue.next!==null;if(pn=0,$e=Ue=ge=null,go=!1,Za=0,Wi=null,i)throw Error(o(300));t===null||Qe||(t=t.dependencies,t!==null&&oo(t)&&(Qe=!0))}function hf(t,i,s,l){ge=t;var h=0;do{if(Zi&&(Wi=null),Za=0,Zi=!1,25<=h)throw Error(o(301));if(h+=1,$e=Ue=null,t.updateQueue!=null){var x=t.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=$f,x=i(s,l)}while(Zi);return x}function _x(){var t=B.H,i=t.useState()[0];return i=typeof i.then=="function"?Wa(i):i,t=t.useState()[0],(Ue!==null?Ue.memoizedState:null)!==t&&(ge.flags|=1024),i}function Lr(){var t=yo!==0;return yo=0,t}function Gr(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Vr(t){if(go){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}go=!1}pn=0,$e=Ue=ge=null,Zi=!1,Za=yo=0,Wi=null}function dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ge.memoizedState=$e=t:$e=$e.next=t,$e}function Ye(){if(Ue===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var i=$e===null?ge.memoizedState:$e.next;if(i!==null)$e=i,Ue=t;else{if(t===null)throw ge.alternate===null?Error(o(467)):Error(o(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},$e===null?ge.memoizedState=$e=t:$e=$e.next=t}return $e}function xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wa(t){var i=Za;return Za+=1,Wi===null&&(Wi=[]),t=nf(Wi,t,i),i=ge,($e===null?i.memoizedState:$e.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?Kf:Qr),t}function vo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wa(t);if(t.$$typeof===V)return st(t)}throw Error(o(438,String(t)))}function Hr(t){var i=null,s=ge.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=xo(),ge.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=Z;return i.index++,s}function gn(t,i){return typeof i=="function"?i(t):i}function bo(t){var i=Ye();return Pr(i,Ue,t)}function Pr(t,i,s){var l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=s;var h=t.baseQueue,x=l.pending;if(x!==null){if(h!==null){var S=h.next;h.next=x.next,x.next=S}i.baseQueue=h=x,l.pending=null}if(x=t.baseState,h===null)t.memoizedState=x;else{i=h.next;var T=S=null,C=null,j=i,J=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(we&X)===X:(pn&X)===X){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Fi&&(J=!0);else if((pn&z)===z){j=j.next,z===Fi&&(J=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=X,S=x):C=C.next=X,ge.lanes|=z,zn|=z;X=j.action,vi&&s(x,X),x=j.hasEagerState?j.eagerState:s(x,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=z,S=x):C=C.next=z,ge.lanes|=X,zn|=X;j=j.next}while(j!==null&&j!==i);if(C===null?S=x:C.next=T,!Et(x,t.memoizedState)&&(Qe=!0,J&&(s=Ki,s!==null)))throw s;t.memoizedState=x,t.baseState=S,t.baseQueue=C,l.lastRenderedState=x}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jr(t){var i=Ye(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,x=i.memoizedState;if(h!==null){s.pending=null;var S=h=h.next;do x=t(x,S.action),S=S.next;while(S!==h);Et(x,i.memoizedState)||(Qe=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),s.lastRenderedState=x}return[x,l]}function mf(t,i,s){var l=ge,h=Ye(),x=Ne;if(x){if(s===void 0)throw Error(o(407));s=s()}else s=i();var S=!Et((Ue||h).memoizedState,s);if(S&&(h.memoizedState=s,Qe=!0),h=h.queue,Or(yf.bind(null,l,h,t),[t]),h.getSnapshot!==i||S||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,ea(9,{destroy:void 0},gf.bind(null,l,h,s,i),null),Ge===null)throw Error(o(349));x||(pn&127)!==0||pf(l,i,s)}return s}function pf(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=ge.updateQueue,i===null?(i=xo(),ge.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function gf(t,i,s,l){i.value=s,i.getSnapshot=l,xf(i)&&vf(t)}function yf(t,i,s){return s(function(){xf(i)&&vf(t)})}function xf(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Et(t,s)}catch{return!0}}function vf(t){var i=ci(t,2);i!==null&&bt(i,t,2)}function Br(t){var i=dt();if(typeof t=="function"){var s=t;if(t=s(),vi){Mn(!0);try{s()}finally{Mn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:t},i}function bf(t,i,s,l){return t.baseState=s,Pr(t,Ue,typeof l=="function"?l:gn)}function Cx(t,i,s,l,h){if(No(t))throw Error(o(485));if(t=i.action,t!==null){var x={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){x.listeners.push(S)}};B.T!==null?s(!0):x.isTransition=!1,l(x),s=i.pending,s===null?(x.next=i.pending=x,wf(i,x)):(x.next=s.next,i.pending=s.next=x)}}function wf(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var x=B.T,S={};B.T=S;try{var T=s(h,l),C=B.S;C!==null&&C(S,T),Sf(t,i,T)}catch(j){zr(t,i,j)}finally{x!==null&&S.types!==null&&(x.types=S.types),B.T=x}}else try{x=s(h,l),Sf(t,i,x)}catch(j){zr(t,i,j)}}function Sf(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Nf(t,i,l)},function(l){return zr(t,i,l)}):Nf(t,i,s)}function Nf(t,i,s){i.status="fulfilled",i.value=s,Tf(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,wf(t,s)))}function zr(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Tf(i),i=i.next;while(i!==l)}t.action=null}function Tf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ef(t,i){return i}function _f(t,i){if(Ne){var s=Ge.formState;if(s!==null){e:{var l=ge;if(Ne){if(Ve){t:{for(var h=Ve,x=Pt;h.nodeType!==8;){if(!x){h=null;break t}if(h=Bt(h.nextSibling),h===null){h=null;break t}}x=h.data,h=x==="F!"||x==="F"?h:null}if(h){Ve=Bt(h.nextSibling),l=h.data==="F!";break e}}Un(l)}l=!1}l&&(i=s[0])}}return s=dt(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ef,lastRenderedState:i},s.queue=l,s=Jf.bind(null,ge,l),l.dispatch=s,l=Br(!1),x=$r.bind(null,ge,!1,l.queue),l=dt(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=Cx.bind(null,ge,h,x,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function Cf(t){var i=Ye();return Af(i,Ue,t)}function Af(t,i,s){if(i=Pr(t,i,Ef)[0],t=bo(gn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Wa(i)}catch(S){throw S===$i?uo:S}else l=i;i=Ye();var h=i.queue,x=h.dispatch;return s!==i.memoizedState&&(ge.flags|=2048,ea(9,{destroy:void 0},Ax.bind(null,h,s),null)),[l,x,t]}function Ax(t,i){t.action=i}function Mf(t){var i=Ye(),s=Ue;if(s!==null)return Af(i,s,t);Ye(),i=i.memoizedState,s=Ye();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function ea(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=ge.updateQueue,i===null&&(i=xo(),ge.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Rf(){return Ye().memoizedState}function wo(t,i,s,l){var h=dt();ge.flags|=t,h.memoizedState=ea(1|i,{destroy:void 0},s,l===void 0?null:l)}function So(t,i,s,l){var h=Ye();l=l===void 0?null:l;var x=h.memoizedState.inst;Ue!==null&&l!==null&&Ur(l,Ue.memoizedState.deps)?h.memoizedState=ea(i,x,s,l):(ge.flags|=t,h.memoizedState=ea(1|i,x,s,l))}function If(t,i){wo(8390656,8,t,i)}function Or(t,i){So(2048,8,t,i)}function Mx(t){ge.flags|=4;var i=ge.updateQueue;if(i===null)i=xo(),ge.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function kf(t){var i=Ye().memoizedState;return Mx({ref:i,nextImpl:t}),function(){if((Ae&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}function Df(t,i){return So(4,2,t,i)}function Uf(t,i){return So(4,4,t,i)}function qf(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Lf(t,i,s){s=s!=null?s.concat([t]):null,So(4,4,qf.bind(null,i,t),s)}function Jr(){}function Gf(t,i){var s=Ye();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Ur(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Vf(t,i){var s=Ye();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Ur(i,l[1]))return l[0];if(l=t(),vi){Mn(!0);try{t()}finally{Mn(!1)}}return s.memoizedState=[l,i],l}function Yr(t,i,s){return s===void 0||(pn&1073741824)!==0&&(we&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=Hh(),ge.lanes|=t,zn|=t,s)}function Hf(t,i,s,l){return Et(s,i)?s:Xi.current!==null?(t=Yr(t,s,l),Et(t,i)||(Qe=!0),t):(pn&42)===0||(pn&1073741824)!==0&&(we&261930)===0?(Qe=!0,t.memoizedState=s):(t=Hh(),ge.lanes|=t,zn|=t,i)}function Pf(t,i,s,l,h){var x=te.p;te.p=x!==0&&8>x?x:8;var S=B.T,T={};B.T=T,$r(t,!1,i,s);try{var C=h(),j=B.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=Tx(C,l);es(t,i,J,It(t))}else es(t,i,l,It(t))}catch(X){es(t,i,{then:function(){},status:"rejected",reason:X},It())}finally{te.p=x,S!==null&&T.types!==null&&(S.types=T.types),B.T=S}}function Rx(){}function Fr(t,i,s,l){if(t.tag!==5)throw Error(o(476));var h=jf(t).queue;Pf(t,h,i,de,s===null?Rx:function(){return Bf(t),s(l)})}function jf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:de},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Bf(t){var i=jf(t);i.next===null&&(i=t.alternate.memoizedState),es(t,i.next.queue,{},It())}function Kr(){return st(ys)}function zf(){return Ye().memoizedState}function Of(){return Ye().memoizedState}function Ix(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=It();t=Gn(s);var l=Vn(i,t,s);l!==null&&(bt(l,i,s),$a(l,i,s)),i={cache:Nr()},t.payload=i;return}i=i.return}}function kx(t,i,s){var l=It();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},No(t)?Yf(i,s):(s=fr(t,i,s,l),s!==null&&(bt(s,t,l),Ff(s,i,l)))}function Jf(t,i,s){var l=It();es(t,i,s,l)}function es(t,i,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(No(t))Yf(i,h);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var S=i.lastRenderedState,T=x(S,s);if(h.hasEagerState=!0,h.eagerState=T,Et(T,S))return no(t,i,h,0),Ge===null&&to(),!1}catch{}finally{}if(s=fr(t,i,h,l),s!==null)return bt(s,t,l),Ff(s,i,l),!0}return!1}function $r(t,i,s,l){if(l={lane:2,revertLane:Cu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},No(t)){if(i)throw Error(o(479))}else i=fr(t,s,l,2),i!==null&&bt(i,t,2)}function No(t){var i=t.alternate;return t===ge||i!==null&&i===ge}function Yf(t,i){Zi=go=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Ff(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Xc(t,s)}}var ts={readContext:st,use:vo,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};ts.useEffectEvent=Be;var Kf={readContext:st,use:vo,useCallback:function(t,i){return dt().memoizedState=[t,i===void 0?null:i],t},useContext:st,useEffect:If,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,wo(4194308,4,qf.bind(null,i,t),s)},useLayoutEffect:function(t,i){return wo(4194308,4,t,i)},useInsertionEffect:function(t,i){wo(4,2,t,i)},useMemo:function(t,i){var s=dt();i=i===void 0?null:i;var l=t();if(vi){Mn(!0);try{t()}finally{Mn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=dt();if(s!==void 0){var h=s(i);if(vi){Mn(!0);try{s(i)}finally{Mn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=kx.bind(null,ge,t),[l.memoizedState,t]},useRef:function(t){var i=dt();return t={current:t},i.memoizedState=t},useState:function(t){t=Br(t);var i=t.queue,s=Jf.bind(null,ge,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Jr,useDeferredValue:function(t,i){var s=dt();return Yr(s,t,i)},useTransition:function(){var t=Br(!1);return t=Pf.bind(null,ge,t.queue,!0,!1),dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=ge,h=dt();if(Ne){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),Ge===null)throw Error(o(349));(we&127)!==0||pf(l,i,s)}h.memoizedState=s;var x={value:s,getSnapshot:i};return h.queue=x,If(yf.bind(null,l,x,t),[t]),l.flags|=2048,ea(9,{destroy:void 0},gf.bind(null,l,x,s,i),null),s},useId:function(){var t=dt(),i=Ge.identifierPrefix;if(Ne){var s=Wt,l=Zt;s=(l&~(1<<32-Tt(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=yo++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=Ex++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Kr,useFormState:_f,useActionState:_f,useOptimistic:function(t){var i=dt();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=$r.bind(null,ge,!0,s),s.dispatch=i,[t,i]},useMemoCache:Hr,useCacheRefresh:function(){return dt().memoizedState=Ix.bind(null,ge)},useEffectEvent:function(t){var i=dt(),s={impl:t};return i.memoizedState=s,function(){if((Ae&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},Qr={readContext:st,use:vo,useCallback:Gf,useContext:st,useEffect:Or,useImperativeHandle:Lf,useInsertionEffect:Df,useLayoutEffect:Uf,useMemo:Vf,useReducer:bo,useRef:Rf,useState:function(){return bo(gn)},useDebugValue:Jr,useDeferredValue:function(t,i){var s=Ye();return Hf(s,Ue.memoizedState,t,i)},useTransition:function(){var t=bo(gn)[0],i=Ye().memoizedState;return[typeof t=="boolean"?t:Wa(t),i]},useSyncExternalStore:mf,useId:zf,useHostTransitionStatus:Kr,useFormState:Cf,useActionState:Cf,useOptimistic:function(t,i){var s=Ye();return bf(s,Ue,t,i)},useMemoCache:Hr,useCacheRefresh:Of};Qr.useEffectEvent=kf;var $f={readContext:st,use:vo,useCallback:Gf,useContext:st,useEffect:Or,useImperativeHandle:Lf,useInsertionEffect:Df,useLayoutEffect:Uf,useMemo:Vf,useReducer:jr,useRef:Rf,useState:function(){return jr(gn)},useDebugValue:Jr,useDeferredValue:function(t,i){var s=Ye();return Ue===null?Yr(s,t,i):Hf(s,Ue.memoizedState,t,i)},useTransition:function(){var t=jr(gn)[0],i=Ye().memoizedState;return[typeof t=="boolean"?t:Wa(t),i]},useSyncExternalStore:mf,useId:zf,useHostTransitionStatus:Kr,useFormState:Mf,useActionState:Mf,useOptimistic:function(t,i){var s=Ye();return Ue!==null?bf(s,Ue,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Hr,useCacheRefresh:Of};$f.useEffectEvent=kf;function Xr(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:b({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Zr={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=It(),h=Gn(l);h.payload=i,s!=null&&(h.callback=s),i=Vn(t,h,l),i!==null&&(bt(i,t,l),$a(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=It(),h=Gn(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Vn(t,h,l),i!==null&&(bt(i,t,l),$a(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=It(),l=Gn(s);l.tag=2,i!=null&&(l.callback=i),i=Vn(t,l,s),i!==null&&(bt(i,t,s),$a(i,t,s))}};function Qf(t,i,s,l,h,x,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,x,S):i.prototype&&i.prototype.isPureReactComponent?!ja(s,l)||!ja(h,x):!0}function Xf(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Zr.enqueueReplaceState(i,i.state,null)}function bi(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=b({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Zf(t){eo(t)}function Wf(t){console.error(t)}function eh(t){eo(t)}function To(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function th(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wr(t,i,s){return s=Gn(s),s.tag=3,s.payload={element:null},s.callback=function(){To(t,i)},s}function nh(t){return t=Gn(t),t.tag=3,t}function ih(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var x=l.value;t.payload=function(){return h(x)},t.callback=function(){th(i,s,l)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){th(i,s,l),typeof h!="function"&&(On===null?On=new Set([this]):On.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Dx(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Yi(i,s,h,!0),s=Ct.current,s!==null){switch(s.tag){case 31:case 13:return jt===null?Lo():s.alternate===null&&ze===0&&(ze=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===co?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Tu(t,l,h)),!1;case 22:return s.flags|=65536,l===co?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Tu(t,l,h)),!1}throw Error(o(435,s.tag))}return Tu(t,l,h),Lo(),!1}if(Ne)return i=Ct.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==xr&&(t=Error(o(422),{cause:l}),Oa(Gt(t,s)))):(l!==xr&&(i=Error(o(423),{cause:l}),Oa(Gt(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Gt(l,s),h=Wr(t.stateNode,l,h),Mr(t,h),ze!==4&&(ze=2)),!1;var x=Error(o(520),{cause:l});if(x=Gt(x,s),us===null?us=[x]:us.push(x),ze!==4&&(ze=2),i===null)return!0;l=Gt(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Wr(s.stateNode,l,t),Mr(s,t),!1;case 1:if(i=s.type,x=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(On===null||!On.has(x))))return s.flags|=65536,h&=-h,s.lanes|=h,h=nh(h),ih(h,t,s,l),Mr(s,h),!1}s=s.return}while(s!==null);return!1}var eu=Error(o(461)),Qe=!1;function ot(t,i,s,l){i.child=t===null?lf(i,null,s,l):xi(i,t.child,s,l)}function ah(t,i,s,l,h){s=s.render;var x=i.ref;if("ref"in l){var S={};for(var T in l)T!=="ref"&&(S[T]=l[T])}else S=l;return mi(i),l=qr(t,i,s,S,x,h),T=Lr(),t!==null&&!Qe?(Gr(t,i,h),yn(t,i,h)):(Ne&&T&&gr(i),i.flags|=1,ot(t,i,l,h),i.child)}function sh(t,i,s,l,h){if(t===null){var x=s.type;return typeof x=="function"&&!hr(x)&&x.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=x,oh(t,i,x,l,h)):(t=ao(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(x=t.child,!ru(t,h)){var S=x.memoizedProps;if(s=s.compare,s=s!==null?s:ja,s(S,l)&&t.ref===i.ref)return yn(t,i,h)}return i.flags|=1,t=dn(x,l),t.ref=i.ref,t.return=i,i.child=t}function oh(t,i,s,l,h){if(t!==null){var x=t.memoizedProps;if(ja(x,l)&&t.ref===i.ref)if(Qe=!1,i.pendingProps=l=x,ru(t,h))(t.flags&131072)!==0&&(Qe=!0);else return i.lanes=t.lanes,yn(t,i,h)}return tu(t,i,s,l,h)}function lh(t,i,s,l){var h=l.children,x=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(x=x!==null?x.baseLanes|s:s,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~x}else l=0,i.child=null;return rh(t,i,x,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ro(i,x!==null?x.cachePool:null),x!==null?cf(i,x):Ir(),df(i);else return l=i.lanes=536870912,rh(t,i,x!==null?x.baseLanes|s:s,s,l)}else x!==null?(ro(i,x.cachePool),cf(i,x),Pn(),i.memoizedState=null):(t!==null&&ro(i,null),Ir(),Pn());return ot(t,i,h,s),i.child}function ns(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function rh(t,i,s,l,h){var x=Er();return x=x===null?null:{parent:Ke._currentValue,pool:x},i.memoizedState={baseLanes:s,cachePool:x},t!==null&&ro(i,null),Ir(),df(i),t!==null&&Yi(t,i,l,!0),i.childLanes=h,null}function Eo(t,i){return i=Co({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function uh(t,i,s){return xi(i,t.child,null,s),t=Eo(i,i.pendingProps),t.flags|=2,At(i),i.memoizedState=null,t}function Ux(t,i,s){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ne){if(l.mode==="hidden")return t=Eo(i,l),i.lanes=536870912,ns(null,t);if(Dr(i),(t=Ve)?(t=wm(t,Pt),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:kn!==null?{id:Zt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},s=Jd(t),s.return=i,i.child=s,at=i,Ve=null)):t=null,t===null)throw Un(i);return i.lanes=536870912,null}return Eo(i,l)}var x=t.memoizedState;if(x!==null){var S=x.dehydrated;if(Dr(i),h)if(i.flags&256)i.flags&=-257,i=uh(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(o(558));else if(Qe||Yi(t,i,s,!1),h=(s&t.childLanes)!==0,Qe||h){if(l=Ge,l!==null&&(S=Zc(l,s),S!==0&&S!==x.retryLane))throw x.retryLane=S,ci(t,S),bt(l,t,S),eu;Lo(),i=uh(t,i,s)}else t=x.treeContext,Ve=Bt(S.nextSibling),at=i,Ne=!0,Dn=null,Pt=!1,t!==null&&Kd(i,t),i=Eo(i,l),i.flags|=4096;return i}return t=dn(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function _o(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function tu(t,i,s,l,h){return mi(i),s=qr(t,i,s,l,void 0,h),l=Lr(),t!==null&&!Qe?(Gr(t,i,h),yn(t,i,h)):(Ne&&l&&gr(i),i.flags|=1,ot(t,i,s,h),i.child)}function ch(t,i,s,l,h,x){return mi(i),i.updateQueue=null,s=hf(i,l,s,h),ff(t),l=Lr(),t!==null&&!Qe?(Gr(t,i,x),yn(t,i,x)):(Ne&&l&&gr(i),i.flags|=1,ot(t,i,s,x),i.child)}function dh(t,i,s,l,h){if(mi(i),i.stateNode===null){var x=Bi,S=s.contextType;typeof S=="object"&&S!==null&&(x=st(S)),x=new s(l,x),i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Zr,i.stateNode=x,x._reactInternals=i,x=i.stateNode,x.props=l,x.state=i.memoizedState,x.refs={},Cr(i),S=s.contextType,x.context=typeof S=="object"&&S!==null?st(S):Bi,x.state=i.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(Xr(i,s,S,l),x.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(S=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),S!==x.state&&Zr.enqueueReplaceState(x,x.state,null),Xa(i,l,x,h),Qa(),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){x=i.stateNode;var T=i.memoizedProps,C=bi(s,T);x.props=C;var j=x.context,J=s.contextType;S=Bi,typeof J=="object"&&J!==null&&(S=st(J));var X=s.getDerivedStateFromProps;J=typeof X=="function"||typeof x.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,J||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T||j!==S)&&Xf(i,x,l,S),Ln=!1;var z=i.memoizedState;x.state=z,Xa(i,l,x,h),Qa(),j=i.memoizedState,T||z!==j||Ln?(typeof X=="function"&&(Xr(i,s,X,l),j=i.memoizedState),(C=Ln||Qf(i,s,C,l,z,j,S))?(J||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),x.props=l,x.state=j,x.context=S,l=C):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{x=i.stateNode,Ar(t,i),S=i.memoizedProps,J=bi(s,S),x.props=J,X=i.pendingProps,z=x.context,j=s.contextType,C=Bi,typeof j=="object"&&j!==null&&(C=st(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==X||z!==C)&&Xf(i,x,l,C),Ln=!1,z=i.memoizedState,x.state=z,Xa(i,l,x,h),Qa();var O=i.memoizedState;S!==X||z!==O||Ln||t!==null&&t.dependencies!==null&&oo(t.dependencies)?(typeof T=="function"&&(Xr(i,s,T,l),O=i.memoizedState),(J=Ln||Qf(i,s,J,l,z,O,C)||t!==null&&t.dependencies!==null&&oo(t.dependencies))?(j||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,O,C),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,O,C)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=O),x.props=l,x.state=O,x.context=C,l=J):(typeof x.componentDidUpdate!="function"||S===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),l=!1)}return x=l,_o(t,i),l=(i.flags&128)!==0,x||l?(x=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:x.render(),i.flags|=1,t!==null&&l?(i.child=xi(i,t.child,null,h),i.child=xi(i,null,s,h)):ot(t,i,s,h),i.memoizedState=x.state,t=i.child):t=yn(t,i,h),t}function fh(t,i,s,l){return fi(),i.flags|=256,ot(t,i,s,l),i.child}var nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iu(t){return{baseLanes:t,cachePool:ef()}}function au(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Rt),t}function hh(t,i,s){var l=i.pendingProps,h=!1,x=(i.flags&128)!==0,S;if((S=x)||(S=t!==null&&t.memoizedState===null?!1:(Je.current&2)!==0),S&&(h=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ne){if(h?Hn(i):Pn(),(t=Ve)?(t=wm(t,Pt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:kn!==null?{id:Zt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},s=Jd(t),s.return=i,i.child=s,at=i,Ve=null)):t=null,t===null)throw Un(i);return Pu(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Pn(),h=i.mode,T=Co({mode:"hidden",children:T},h),l=di(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=iu(s),l.childLanes=au(t,S,s),i.memoizedState=nu,ns(null,l)):(Hn(i),su(i,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(x)i.flags&256?(Hn(i),i.flags&=-257,i=ou(t,i,s)):i.memoizedState!==null?(Pn(),i.child=t.child,i.flags|=128,i=null):(Pn(),T=l.fallback,h=i.mode,l=Co({mode:"visible",children:l.children},h),T=di(T,h,s,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,xi(i,t.child,null,s),l=i.child,l.memoizedState=iu(s),l.childLanes=au(t,S,s),i.memoizedState=nu,i=ns(null,l));else if(Hn(i),Pu(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var j=S.dgst;S=j,l=Error(o(419)),l.stack="",l.digest=S,Oa({value:l,source:null,stack:null}),i=ou(t,i,s)}else if(Qe||Yi(t,i,s,!1),S=(s&t.childLanes)!==0,Qe||S){if(S=Ge,S!==null&&(l=Zc(S,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,ci(t,l),bt(S,t,l),eu;Hu(T)||Lo(),i=ou(t,i,s)}else Hu(T)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,Ve=Bt(T.nextSibling),at=i,Ne=!0,Dn=null,Pt=!1,t!==null&&Kd(i,t),i=su(i,l.children),i.flags|=4096);return i}return h?(Pn(),T=l.fallback,h=i.mode,C=t.child,j=C.sibling,l=dn(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=dn(j,T):(T=di(T,h,s,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ns(null,l),l=i.child,T=t.child.memoizedState,T===null?T=iu(s):(h=T.cachePool,h!==null?(C=Ke._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ef(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=au(t,S,s),i.memoizedState=nu,ns(t.child,l)):(Hn(i),s=t.child,t=s.sibling,s=dn(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(S=i.deletions,S===null?(i.deletions=[t],i.flags|=16):S.push(t)),i.child=s,i.memoizedState=null,s)}function su(t,i){return i=Co({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Co(t,i){return t=_t(22,t,null,i),t.lanes=0,t}function ou(t,i,s){return xi(i,t.child,null,s),t=su(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function mh(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),wr(t.return,i,s)}function lu(t,i,s,l,h,x){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:x}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=l,S.tail=s,S.tailMode=h,S.treeForkCount=x)}function ph(t,i,s){var l=i.pendingProps,h=l.revealOrder,x=l.tail;l=l.children;var S=Je.current,T=(S&2)!==0;if(T?(S=S&1|2,i.flags|=128):S&=1,ie(Je,S),ot(t,i,l,s),l=Ne?za:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mh(t,s,i);else if(t.tag===19)mh(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&po(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),lu(i,!1,h,s,x,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&po(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}lu(i,!0,s,null,x,l);break;case"together":lu(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function yn(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),zn|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Yi(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,s=dn(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=dn(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function ru(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&oo(t)))}function qx(t,i,s){switch(i.tag){case 3:ct(i,i.stateNode.containerInfo),qn(i,Ke,t.memoizedState.cache),fi();break;case 27:case 5:Aa(i);break;case 4:ct(i,i.stateNode.containerInfo);break;case 10:qn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Dr(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Hn(i),i.flags|=128,null):(s&i.child.childLanes)!==0?hh(t,i,s):(Hn(i),t=yn(t,i,s),t!==null?t.sibling:null);Hn(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Yi(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return ph(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Je,Je.current),l)break;return null;case 22:return i.lanes=0,lh(t,i,s,i.pendingProps);case 24:qn(i,Ke,t.memoizedState.cache)}return yn(t,i,s)}function gh(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Qe=!0;else{if(!ru(t,s)&&(i.flags&128)===0)return Qe=!1,qx(t,i,s);Qe=(t.flags&131072)!==0}else Qe=!1,Ne&&(i.flags&1048576)!==0&&Fd(i,za,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=gi(i.elementType),i.type=t,typeof t=="function")hr(t)?(l=bi(t,l),i.tag=1,i=dh(null,i,t,l,s)):(i.tag=0,i=tu(null,i,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===M){i.tag=11,i=ah(null,i,t,l,s);break e}else if(h===k){i.tag=14,i=sh(null,i,t,l,s);break e}}throw i=ne(t)||t,Error(o(306,i,""))}}return i;case 0:return tu(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=bi(l,i.pendingProps),dh(t,i,l,h,s);case 3:e:{if(ct(i,i.stateNode.containerInfo),t===null)throw Error(o(387));l=i.pendingProps;var x=i.memoizedState;h=x.element,Ar(t,i),Xa(i,l,null,s);var S=i.memoizedState;if(l=S.cache,qn(i,Ke,l),l!==x.cache&&Sr(i,[Ke],s,!0),Qa(),l=S.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){i=fh(t,i,l,s);break e}else if(l!==h){h=Gt(Error(o(424)),i),Oa(h),i=fh(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ve=Bt(t.firstChild),at=i,Ne=!0,Dn=null,Pt=!0,s=lf(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(fi(),l===h){i=yn(t,i,s);break e}ot(t,i,l,s)}i=i.child}return i;case 26:return _o(t,i),t===null?(s=Cm(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ne||(s=i.type,t=i.pendingProps,l=zo(xe.current).createElement(s),l[it]=i,l[mt]=t,lt(l,s,t),et(l),i.stateNode=l):i.memoizedState=Cm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Aa(i),t===null&&Ne&&(l=i.stateNode=Tm(i.type,i.pendingProps,xe.current),at=i,Pt=!0,h=Ve,Kn(i.type)?(ju=h,Ve=Bt(l.firstChild)):Ve=h),ot(t,i,i.pendingProps.children,s),_o(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ne&&((h=l=Ve)&&(l=dv(l,i.type,i.pendingProps,Pt),l!==null?(i.stateNode=l,at=i,Ve=Bt(l.firstChild),Pt=!1,h=!0):h=!1),h||Un(i)),Aa(i),h=i.type,x=i.pendingProps,S=t!==null?t.memoizedProps:null,l=x.children,Lu(h,x)?l=null:S!==null&&Lu(h,S)&&(i.flags|=32),i.memoizedState!==null&&(h=qr(t,i,_x,null,null,s),ys._currentValue=h),_o(t,i),ot(t,i,l,s),i.child;case 6:return t===null&&Ne&&((t=s=Ve)&&(s=fv(s,i.pendingProps,Pt),s!==null?(i.stateNode=s,at=i,Ve=null,t=!0):t=!1),t||Un(i)),null;case 13:return hh(t,i,s);case 4:return ct(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=xi(i,null,l,s):ot(t,i,l,s),i.child;case 11:return ah(t,i,i.type,i.pendingProps,s);case 7:return ot(t,i,i.pendingProps,s),i.child;case 8:return ot(t,i,i.pendingProps.children,s),i.child;case 12:return ot(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,qn(i,i.type,l.value),ot(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,mi(i),h=st(h),l=l(h),i.flags|=1,ot(t,i,l,s),i.child;case 14:return sh(t,i,i.type,i.pendingProps,s);case 15:return oh(t,i,i.type,i.pendingProps,s);case 19:return ph(t,i,s);case 31:return Ux(t,i,s);case 22:return lh(t,i,s,i.pendingProps);case 24:return mi(i),l=st(Ke),t===null?(h=Er(),h===null&&(h=Ge,x=Nr(),h.pooledCache=x,x.refCount++,x!==null&&(h.pooledCacheLanes|=s),h=x),i.memoizedState={parent:l,cache:h},Cr(i),qn(i,Ke,h)):((t.lanes&s)!==0&&(Ar(t,i),Xa(i,null,null,s),Qa()),h=t.memoizedState,x=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),qn(i,Ke,l)):(l=x.cache,qn(i,Ke,l),l!==h.cache&&Sr(i,[Ke],s,!0))),ot(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function xn(t){t.flags|=4}function uu(t,i,s,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(zh())t.flags|=8192;else throw yi=co,_r}else t.flags&=-16777217}function yh(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!km(i))if(zh())t.flags|=8192;else throw yi=co,_r}function Ao(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?$c():536870912,t.lanes|=i,aa|=i)}function is(t,i){if(!Ne)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function He(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function Lx(t,i,s){var l=i.pendingProps;switch(yr(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(i),null;case 1:return He(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),mn(Ke),Oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ji(i)?xn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vr())),He(i),null;case 26:var h=i.type,x=i.memoizedState;return t===null?(xn(i),x!==null?(He(i),yh(i,x)):(He(i),uu(i,h,null,l,s))):x?x!==t.memoizedState?(xn(i),He(i),yh(i,x)):(He(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&xn(i),He(i),uu(i,h,t,l,s)),null;case 27:if(Vs(i),s=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&xn(i);else{if(!l){if(i.stateNode===null)throw Error(o(166));return He(i),null}t=le.current,Ji(i)?$d(i):(t=Tm(h,l,s),i.stateNode=t,xn(i))}return He(i),null;case 5:if(Vs(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&xn(i);else{if(!l){if(i.stateNode===null)throw Error(o(166));return He(i),null}if(x=le.current,Ji(i))$d(i);else{var S=zo(xe.current);switch(x){case 1:x=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:x=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":x=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":x=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":x=S.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?S.createElement("select",{is:l.is}):S.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?S.createElement(h,{is:l.is}):S.createElement(h)}}x[it]=i,x[mt]=l;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)x.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=x;e:switch(lt(x,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&xn(i)}}return He(i),uu(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&xn(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(o(166));if(t=xe.current,Ji(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=at,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[it]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||hm(t.nodeValue,s)),t||Un(i,!0)}else t=zo(t).createTextNode(l),t[it]=i,i.stateNode=t}return He(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ji(i),s!==null){if(t===null){if(!l)throw Error(o(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[it]=i}else fi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;He(i),t=!1}else s=vr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(At(i),i):(At(i),null);if((i.flags&128)!==0)throw Error(o(558))}return He(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ji(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(o(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[it]=i}else fi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;He(i),h=!1}else h=vr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(At(i),i):(At(i),null)}return At(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==h&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Ao(i,i.updateQueue),He(i),null);case 4:return Oe(),t===null&&Iu(i.stateNode.containerInfo),He(i),null;case 10:return mn(i.type),He(i),null;case 19:if(W(Je),l=i.memoizedState,l===null)return He(i),null;if(h=(i.flags&128)!==0,x=l.rendering,x===null)if(h)is(l,!1);else{if(ze!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(x=po(t),x!==null){for(i.flags|=128,is(l,!1),t=x.updateQueue,i.updateQueue=t,Ao(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Od(s,t),s=s.sibling;return ie(Je,Je.current&1|2),Ne&&fn(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&St()>Do&&(i.flags|=128,h=!0,is(l,!1),i.lanes=4194304)}else{if(!h)if(t=po(x),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ao(i,t),is(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!Ne)return He(i),null}else 2*St()-l.renderingStartTime>Do&&s!==536870912&&(i.flags|=128,h=!0,is(l,!1),i.lanes=4194304);l.isBackwards?(x.sibling=i.child,i.child=x):(t=l.last,t!==null?t.sibling=x:i.child=x,l.last=x)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=St(),t.sibling=null,s=Je.current,ie(Je,h?s&1|2:s&1),Ne&&fn(i,l.treeForkCount),t):(He(i),null);case 22:case 23:return At(i),kr(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(He(i),i.subtreeFlags&6&&(i.flags|=8192)):He(i),s=i.updateQueue,s!==null&&Ao(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&W(pi),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),mn(Ke),He(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function Gx(t,i){switch(yr(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return mn(Ke),Oe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Vs(i),null;case 31:if(i.memoizedState!==null){if(At(i),i.alternate===null)throw Error(o(340));fi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(At(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));fi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(Je),null;case 4:return Oe(),null;case 10:return mn(i.type),null;case 22:case 23:return At(i),kr(),t!==null&&W(pi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return mn(Ke),null;case 25:return null;default:return null}}function xh(t,i){switch(yr(i),i.tag){case 3:mn(Ke),Oe();break;case 26:case 27:case 5:Vs(i);break;case 4:Oe();break;case 31:i.memoizedState!==null&&At(i);break;case 13:At(i);break;case 19:W(Je);break;case 10:mn(i.type);break;case 22:case 23:At(i),kr(),t!==null&&W(pi);break;case 24:mn(Ke)}}function as(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var x=s.create,S=s.inst;l=x(),S.destroy=l}s=s.next}while(s!==h)}}catch(T){De(i,i.return,T)}}function jn(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var x=h.next;l=x;do{if((l.tag&t)===t){var S=l.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,h=i;var C=s,j=T;try{j()}catch(J){De(h,C,J)}}}l=l.next}while(l!==x)}}catch(J){De(i,i.return,J)}}function vh(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{uf(i,s)}catch(l){De(t,t.return,l)}}}function bh(t,i,s){s.props=bi(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){De(t,i,l)}}function ss(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){De(t,i,h)}}function en(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){De(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){De(t,i,h)}else s.current=null}function wh(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){De(t,t.return,h)}}function cu(t,i,s){try{var l=t.stateNode;sv(l,t.type,s,i),l[mt]=i}catch(h){De(t,t.return,h)}}function Sh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Kn(t.type)||t.tag===4}function du(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Kn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fu(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=un));else if(l!==4&&(l===27&&Kn(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(fu(t,i,s),t=t.sibling;t!==null;)fu(t,i,s),t=t.sibling}function Mo(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Kn(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Mo(t,i,s),t=t.sibling;t!==null;)Mo(t,i,s),t=t.sibling}function Nh(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);lt(i,l,s),i[it]=t,i[mt]=s}catch(x){De(t,t.return,x)}}var vn=!1,Xe=!1,hu=!1,Th=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Vx(t,i){if(t=t.containerInfo,Uu=Qo,t=qd(t),or(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{s.nodeType,x.nodeType}catch{s=null;break e}var S=0,T=-1,C=-1,j=0,J=0,X=t,z=null;t:for(;;){for(var O;X!==s||h!==0&&X.nodeType!==3||(T=S+h),X!==x||l!==0&&X.nodeType!==3||(C=S+l),X.nodeType===3&&(S+=X.nodeValue.length),(O=X.firstChild)!==null;)z=X,X=O;for(;;){if(X===t)break t;if(z===s&&++j===h&&(T=S),z===x&&++J===l&&(C=S),(O=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=O}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(qu={focusedElem:t,selectionRange:s},Qo=!1,tt=i;tt!==null;)if(i=tt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,tt=t;else for(;tt!==null;){switch(i=tt,x=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&x!==null){t=void 0,s=i,h=x.memoizedProps,x=x.memoizedState,l=s.stateNode;try{var se=bi(s.type,h);t=l.getSnapshotBeforeUpdate(se,x),l.__reactInternalSnapshotBeforeUpdate=t}catch(fe){De(s,s.return,fe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Vu(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,tt=t;break}tt=i.return}}function Eh(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:wn(t,s),l&4&&as(5,s);break;case 1:if(wn(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(S){De(s,s.return,S)}else{var h=bi(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){De(s,s.return,S)}}l&64&&vh(s),l&512&&ss(s,s.return);break;case 3:if(wn(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{uf(t,i)}catch(S){De(s,s.return,S)}}break;case 27:i===null&&l&4&&Nh(s);case 26:case 5:wn(t,s),i===null&&l&4&&wh(s),l&512&&ss(s,s.return);break;case 12:wn(t,s);break;case 31:wn(t,s),l&4&&Ah(t,s);break;case 13:wn(t,s),l&4&&Mh(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Fx.bind(null,s),hv(t,s))));break;case 22:if(l=s.memoizedState!==null||vn,!l){i=i!==null&&i.memoizedState!==null||Xe,h=vn;var x=Xe;vn=l,(Xe=i)&&!x?Sn(t,s,(s.subtreeFlags&8772)!==0):wn(t,s),vn=h,Xe=x}break;case 30:break;default:wn(t,s)}}function _h(t){var i=t.alternate;i!==null&&(t.alternate=null,_h(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&zl(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var je=null,gt=!1;function bn(t,i,s){for(s=s.child;s!==null;)Ch(t,i,s),s=s.sibling}function Ch(t,i,s){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ma,s)}catch{}switch(s.tag){case 26:Xe||en(s,i),bn(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Xe||en(s,i);var l=je,h=gt;Kn(s.type)&&(je=s.stateNode,gt=!1),bn(t,i,s),ms(s.stateNode),je=l,gt=h;break;case 5:Xe||en(s,i);case 6:if(l=je,h=gt,je=null,bn(t,i,s),je=l,gt=h,je!==null)if(gt)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(s.stateNode)}catch(x){De(s,i,x)}else try{je.removeChild(s.stateNode)}catch(x){De(s,i,x)}break;case 18:je!==null&&(gt?(t=je,vm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),fa(t)):vm(je,s.stateNode));break;case 4:l=je,h=gt,je=s.stateNode.containerInfo,gt=!0,bn(t,i,s),je=l,gt=h;break;case 0:case 11:case 14:case 15:jn(2,s,i),Xe||jn(4,s,i),bn(t,i,s);break;case 1:Xe||(en(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&bh(s,i,l)),bn(t,i,s);break;case 21:bn(t,i,s);break;case 22:Xe=(l=Xe)||s.memoizedState!==null,bn(t,i,s),Xe=l;break;default:bn(t,i,s)}}function Ah(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fa(t)}catch(s){De(i,i.return,s)}}}function Mh(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fa(t)}catch(s){De(i,i.return,s)}}function Hx(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Th),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Th),i;default:throw Error(o(435,t.tag))}}function Ro(t,i){var s=Hx(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var h=Kx.bind(null,t,l);l.then(h,h)}})}function yt(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],x=t,S=i,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(Kn(T.type)){je=T.stateNode,gt=!1;break e}break;case 5:je=T.stateNode,gt=!1;break e;case 3:case 4:je=T.stateNode.containerInfo,gt=!0;break e}T=T.return}if(je===null)throw Error(o(160));Ch(x,S,h),je=null,gt=!1,x=h.alternate,x!==null&&(x.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Rh(i,t),i=i.sibling}var Ft=null;function Rh(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yt(i,t),xt(t),l&4&&(jn(3,t,t.return),as(3,t),jn(5,t,t.return));break;case 1:yt(i,t),xt(t),l&512&&(Xe||s===null||en(s,s.return)),l&64&&vn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Ft;if(yt(i,t),xt(t),l&512&&(Xe||s===null||en(s,s.return)),l&4){var x=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":x=h.getElementsByTagName("title")[0],(!x||x[ka]||x[it]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=h.createElement(l),h.head.insertBefore(x,h.querySelector("head > title"))),lt(x,l,s),x[it]=t,et(x),l=x;break e;case"link":var S=Rm("link","href",h).get(l+(s.href||""));if(S){for(var T=0;T<S.length;T++)if(x=S[T],x.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&x.getAttribute("rel")===(s.rel==null?null:s.rel)&&x.getAttribute("title")===(s.title==null?null:s.title)&&x.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(T,1);break t}}x=h.createElement(l),lt(x,l,s),h.head.appendChild(x);break;case"meta":if(S=Rm("meta","content",h).get(l+(s.content||""))){for(T=0;T<S.length;T++)if(x=S[T],x.getAttribute("content")===(s.content==null?null:""+s.content)&&x.getAttribute("name")===(s.name==null?null:s.name)&&x.getAttribute("property")===(s.property==null?null:s.property)&&x.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&x.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(T,1);break t}}x=h.createElement(l),lt(x,l,s),h.head.appendChild(x);break;default:throw Error(o(468,l))}x[it]=t,et(x),l=x}t.stateNode=l}else Im(h,t.type,t.stateNode);else t.stateNode=Mm(h,l,t.memoizedProps);else x!==l?(x===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):x.count--,l===null?Im(h,t.type,t.stateNode):Mm(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&cu(t,t.memoizedProps,s.memoizedProps)}break;case 27:yt(i,t),xt(t),l&512&&(Xe||s===null||en(s,s.return)),s!==null&&l&4&&cu(t,t.memoizedProps,s.memoizedProps);break;case 5:if(yt(i,t),xt(t),l&512&&(Xe||s===null||en(s,s.return)),t.flags&32){h=t.stateNode;try{qi(h,"")}catch(se){De(t,t.return,se)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,cu(t,h,s!==null?s.memoizedProps:h)),l&1024&&(hu=!0);break;case 6:if(yt(i,t),xt(t),l&4){if(t.stateNode===null)throw Error(o(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(se){De(t,t.return,se)}}break;case 3:if(Yo=null,h=Ft,Ft=Oo(i.containerInfo),yt(i,t),Ft=h,xt(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{fa(i.containerInfo)}catch(se){De(t,t.return,se)}hu&&(hu=!1,Ih(t));break;case 4:l=Ft,Ft=Oo(t.stateNode.containerInfo),yt(i,t),xt(t),Ft=l;break;case 12:yt(i,t),xt(t);break;case 31:yt(i,t),xt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ro(t,l)));break;case 13:yt(i,t),xt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ko=St()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ro(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=vn,J=Xe;if(vn=j||h,Xe=J||C,yt(i,t),Xe=J,vn=j,xt(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||C||vn||Xe||wi(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(x=C.stateNode,h)S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(se){De(C,C.return,se)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(se){De(C,C.return,se)}}}else if(i.tag===18){if(s===null){C=i;try{var O=C.stateNode;h?bm(O,!0):bm(C.stateNode,!1)}catch(se){De(C,C.return,se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ro(t,s))));break;case 19:yt(i,t),xt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ro(t,l)));break;case 30:break;case 21:break;default:yt(i,t),xt(t)}}function xt(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(Sh(l)){s=l;break}l=l.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var h=s.stateNode,x=du(t);Mo(t,x,h);break;case 5:var S=s.stateNode;s.flags&32&&(qi(S,""),s.flags&=-33);var T=du(t);Mo(t,T,S);break;case 3:case 4:var C=s.stateNode.containerInfo,j=du(t);fu(t,j,C);break;default:throw Error(o(161))}}catch(J){De(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ih(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ih(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function wn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Eh(t,i.alternate,i),i=i.sibling}function wi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:jn(4,i,i.return),wi(i);break;case 1:en(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&bh(i,i.return,s),wi(i);break;case 27:ms(i.stateNode);case 26:case 5:en(i,i.return),wi(i);break;case 22:i.memoizedState===null&&wi(i);break;case 30:wi(i);break;default:wi(i)}t=t.sibling}}function Sn(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,x=i,S=x.flags;switch(x.tag){case 0:case 11:case 15:Sn(h,x,s),as(4,x);break;case 1:if(Sn(h,x,s),l=x,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){De(l,l.return,j)}if(l=x,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)rf(C[h],T)}catch(j){De(l,l.return,j)}}s&&S&64&&vh(x),ss(x,x.return);break;case 27:Nh(x);case 26:case 5:Sn(h,x,s),s&&l===null&&S&4&&wh(x),ss(x,x.return);break;case 12:Sn(h,x,s);break;case 31:Sn(h,x,s),s&&S&4&&Ah(h,x);break;case 13:Sn(h,x,s),s&&S&4&&Mh(h,x);break;case 22:x.memoizedState===null&&Sn(h,x,s),ss(x,x.return);break;case 30:break;default:Sn(h,x,s)}i=i.sibling}}function mu(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ja(s))}function pu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ja(t))}function Kt(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kh(t,i,s,l),i=i.sibling}function kh(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Kt(t,i,s,l),h&2048&&as(9,i);break;case 1:Kt(t,i,s,l);break;case 3:Kt(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ja(t)));break;case 12:if(h&2048){Kt(t,i,s,l),t=i.stateNode;try{var x=i.memoizedProps,S=x.id,T=x.onPostCommit;typeof T=="function"&&T(S,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){De(i,i.return,C)}}else Kt(t,i,s,l);break;case 31:Kt(t,i,s,l);break;case 13:Kt(t,i,s,l);break;case 23:break;case 22:x=i.stateNode,S=i.alternate,i.memoizedState!==null?x._visibility&2?Kt(t,i,s,l):os(t,i):x._visibility&2?Kt(t,i,s,l):(x._visibility|=2,ta(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&mu(S,i);break;case 24:Kt(t,i,s,l),h&2048&&pu(i.alternate,i);break;default:Kt(t,i,s,l)}}function ta(t,i,s,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var x=t,S=i,T=s,C=l,j=S.flags;switch(S.tag){case 0:case 11:case 15:ta(x,S,T,C,h),as(8,S);break;case 23:break;case 22:var J=S.stateNode;S.memoizedState!==null?J._visibility&2?ta(x,S,T,C,h):os(x,S):(J._visibility|=2,ta(x,S,T,C,h)),h&&j&2048&&mu(S.alternate,S);break;case 24:ta(x,S,T,C,h),h&&j&2048&&pu(S.alternate,S);break;default:ta(x,S,T,C,h)}i=i.sibling}}function os(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:os(s,l),h&2048&&mu(l.alternate,l);break;case 24:os(s,l),h&2048&&pu(l.alternate,l);break;default:os(s,l)}i=i.sibling}}var ls=8192;function na(t,i,s){if(t.subtreeFlags&ls)for(t=t.child;t!==null;)Dh(t,i,s),t=t.sibling}function Dh(t,i,s){switch(t.tag){case 26:na(t,i,s),t.flags&ls&&t.memoizedState!==null&&Ev(s,Ft,t.memoizedState,t.memoizedProps);break;case 5:na(t,i,s);break;case 3:case 4:var l=Ft;Ft=Oo(t.stateNode.containerInfo),na(t,i,s),Ft=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ls,ls=16777216,na(t,i,s),ls=l):na(t,i,s));break;default:na(t,i,s)}}function Uh(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function rs(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tt=l,Lh(l,t)}Uh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qh(t),t=t.sibling}function qh(t){switch(t.tag){case 0:case 11:case 15:rs(t),t.flags&2048&&jn(9,t,t.return);break;case 3:rs(t);break;case 12:rs(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Io(t)):rs(t);break;default:rs(t)}}function Io(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tt=l,Lh(l,t)}Uh(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:jn(8,i,i.return),Io(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Io(i));break;default:Io(i)}t=t.sibling}}function Lh(t,i){for(;tt!==null;){var s=tt;switch(s.tag){case 0:case 11:case 15:jn(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ja(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,tt=l;else e:for(s=t;tt!==null;){l=tt;var h=l.sibling,x=l.return;if(_h(l),l===s){tt=null;break e}if(h!==null){h.return=x,tt=h;break e}tt=x}}}var Px={getCacheForType:function(t){var i=st(Ke),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return st(Ke).controller.signal}},jx=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Ge=null,ve=null,we=0,ke=0,Mt=null,Bn=!1,ia=!1,gu=!1,Nn=0,ze=0,zn=0,Si=0,yu=0,Rt=0,aa=0,us=null,vt=null,xu=!1,ko=0,Gh=0,Do=1/0,Uo=null,On=null,Ze=0,Jn=null,sa=null,Tn=0,vu=0,bu=null,Vh=null,cs=0,wu=null;function It(){return(Ae&2)!==0&&we!==0?we&-we:B.T!==null?Cu():Wc()}function Hh(){if(Rt===0)if((we&536870912)===0||Ne){var t=js;js<<=1,(js&3932160)===0&&(js=262144),Rt=t}else Rt=536870912;return t=Ct.current,t!==null&&(t.flags|=32),Rt}function bt(t,i,s){(t===Ge&&(ke===2||ke===9)||t.cancelPendingCommit!==null)&&(oa(t,0),Yn(t,we,Rt,!1)),Ia(t,s),((Ae&2)===0||t!==Ge)&&(t===Ge&&((Ae&2)===0&&(Si|=s),ze===4&&Yn(t,we,Rt,!1)),tn(t))}function Ph(t,i,s){if((Ae&6)!==0)throw Error(o(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Ra(t,i),h=l?Ox(t,i):Nu(t,i,!0),x=l;do{if(h===0){ia&&!l&&Yn(t,i,0,!1);break}else{if(s=t.current.alternate,x&&!Bx(s)){h=Nu(t,i,!1),x=!1;continue}if(h===2){if(x=i,t.errorRecoveryDisabledLanes&x)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var T=t;h=us;var C=T.current.memoizedState.isDehydrated;if(C&&(oa(T,S).flags|=256),S=Nu(T,S,!1),S!==2){if(gu&&!C){T.errorRecoveryDisabledLanes|=x,Si|=x,h=4;break e}x=vt,vt=h,x!==null&&(vt===null?vt=x:vt.push.apply(vt,x))}h=S}if(x=!1,h!==2)continue}}if(h===1){oa(t,0),Yn(t,i,0,!0);break}e:{switch(l=t,x=h,x){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Yn(l,i,Rt,!Bn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(h=ko+300-St(),10<h)){if(Yn(l,i,Rt,!Bn),zs(l,0,!0)!==0)break e;Tn=i,l.timeoutHandle=ym(jh.bind(null,l,s,vt,Uo,xu,i,Rt,Si,aa,Bn,x,"Throttled",-0,0),h);break e}jh(l,s,vt,Uo,xu,i,Rt,Si,aa,Bn,x,null,-0,0)}}break}while(!0);tn(t)}function jh(t,i,s,l,h,x,S,T,C,j,J,X,z,O){if(t.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},Dh(i,x,X);var se=(x&62914560)===x?ko-St():(x&4194048)===x?Gh-St():0;if(se=_v(X,se),se!==null){Tn=x,t.cancelPendingCommit=se($h.bind(null,t,i,x,s,l,h,S,T,C,J,X,null,z,O)),Yn(t,x,S,!j);return}}$h(t,i,x,s,l,h,S,T,C)}function Bx(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],x=h.getSnapshot;h=h.value;try{if(!Et(x(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yn(t,i,s,l){i&=~yu,i&=~Si,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var x=31-Tt(h),S=1<<x;l[x]=-1,h&=~S}s!==0&&Qc(t,s,i)}function qo(){return(Ae&6)===0?(ds(0),!1):!0}function Su(){if(ve!==null){if(ke===0)var t=ve.return;else t=ve,hn=hi=null,Vr(t),Qi=null,Fa=0,t=ve;for(;t!==null;)xh(t.alternate,t),t=t.return;ve=null}}function oa(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,rv(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Tn=0,Su(),Ge=t,ve=s=dn(t.current,null),we=i,ke=0,Mt=null,Bn=!1,ia=Ra(t,i),gu=!1,aa=Rt=yu=Si=zn=ze=0,vt=us=null,xu=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Tt(l),x=1<<h;i|=t[h],l&=~x}return Nn=i,to(),s}function Bh(t,i){ge=null,B.H=ts,i===$i||i===uo?(i=af(),ke=3):i===_r?(i=af(),ke=4):ke=i===eu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mt=i,ve===null&&(ze=1,To(t,Gt(i,t.current)))}function zh(){var t=Ct.current;return t===null?!0:(we&4194048)===we?jt===null:(we&62914560)===we||(we&536870912)!==0?t===jt:!1}function Oh(){var t=B.H;return B.H=ts,t===null?ts:t}function Jh(){var t=B.A;return B.A=Px,t}function Lo(){ze=4,Bn||(we&4194048)!==we&&Ct.current!==null||(ia=!0),(zn&134217727)===0&&(Si&134217727)===0||Ge===null||Yn(Ge,we,Rt,!1)}function Nu(t,i,s){var l=Ae;Ae|=2;var h=Oh(),x=Jh();(Ge!==t||we!==i)&&(Uo=null,oa(t,i)),i=!1;var S=ze;e:do try{if(ke!==0&&ve!==null){var T=ve,C=Mt;switch(ke){case 8:Su(),S=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(i=!0);var j=ke;if(ke=0,Mt=null,la(t,T,C,j),s&&ia){S=0;break e}break;default:j=ke,ke=0,Mt=null,la(t,T,C,j)}}zx(),S=ze;break}catch(J){Bh(t,J)}while(!0);return i&&t.shellSuspendCounter++,hn=hi=null,Ae=l,B.H=h,B.A=x,ve===null&&(Ge=null,we=0,to()),S}function zx(){for(;ve!==null;)Yh(ve)}function Ox(t,i){var s=Ae;Ae|=2;var l=Oh(),h=Jh();Ge!==t||we!==i?(Uo=null,Do=St()+500,oa(t,i)):ia=Ra(t,i);e:do try{if(ke!==0&&ve!==null){i=ve;var x=Mt;t:switch(ke){case 1:ke=0,Mt=null,la(t,i,x,1);break;case 2:case 9:if(tf(x)){ke=0,Mt=null,Fh(i);break}i=function(){ke!==2&&ke!==9||Ge!==t||(ke=7),tn(t)},x.then(i,i);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:tf(x)?(ke=0,Mt=null,Fh(i)):(ke=0,Mt=null,la(t,i,x,7));break;case 5:var S=null;switch(ve.tag){case 26:S=ve.memoizedState;case 5:case 27:var T=ve;if(S?km(S):T.stateNode.complete){ke=0,Mt=null;var C=T.sibling;if(C!==null)ve=C;else{var j=T.return;j!==null?(ve=j,Go(j)):ve=null}break t}}ke=0,Mt=null,la(t,i,x,5);break;case 6:ke=0,Mt=null,la(t,i,x,6);break;case 8:Su(),ze=6;break e;default:throw Error(o(462))}}Jx();break}catch(J){Bh(t,J)}while(!0);return hn=hi=null,B.H=l,B.A=h,Ae=s,ve!==null?0:(Ge=null,we=0,to(),ze)}function Jx(){for(;ve!==null&&!my();)Yh(ve)}function Yh(t){var i=gh(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,i===null?Go(t):ve=i}function Fh(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=ch(s,i,i.pendingProps,i.type,void 0,we);break;case 11:i=ch(s,i,i.pendingProps,i.type.render,i.ref,we);break;case 5:Vr(i);default:xh(s,i),i=ve=Od(i,Nn),i=gh(s,i,Nn)}t.memoizedProps=t.pendingProps,i===null?Go(t):ve=i}function la(t,i,s,l){hn=hi=null,Vr(i),Qi=null,Fa=0;var h=i.return;try{if(Dx(t,h,i,s,we)){ze=1,To(t,Gt(s,t.current)),ve=null;return}}catch(x){if(h!==null)throw ve=h,x;ze=1,To(t,Gt(s,t.current)),ve=null;return}i.flags&32768?(Ne||l===1?t=!0:ia||(we&536870912)!==0?t=!1:(Bn=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ct.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kh(i,t)):Go(i)}function Go(t){var i=t;do{if((i.flags&32768)!==0){Kh(i,Bn);return}t=i.return;var s=Lx(i.alternate,i,Nn);if(s!==null){ve=s;return}if(i=i.sibling,i!==null){ve=i;return}ve=i=t}while(i!==null);ze===0&&(ze=5)}function Kh(t,i){do{var s=Gx(t.alternate,t);if(s!==null){s.flags&=32767,ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){ve=t;return}ve=t=s}while(t!==null);ze=6,ve=null}function $h(t,i,s,l,h,x,S,T,C){t.cancelPendingCommit=null;do Vo();while(Ze!==0);if((Ae&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(x=i.lanes|i.childLanes,x|=dr,Ty(t,s,x,S,T,C),t===Ge&&(ve=Ge=null,we=0),sa=i,Jn=t,Tn=s,vu=x,bu=h,Vh=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$x(Hs,function(){return em(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=te.p,te.p=2,S=Ae,Ae|=4;try{Vx(t,i,s)}finally{Ae=S,te.p=h,B.T=l}}Ze=1,Qh(),Xh(),Zh()}}function Qh(){if(Ze===1){Ze=0;var t=Jn,i=sa,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=B.T,B.T=null;var l=te.p;te.p=2;var h=Ae;Ae|=4;try{Rh(i,t);var x=qu,S=qd(t.containerInfo),T=x.focusedElem,C=x.selectionRange;if(S!==T&&T&&T.ownerDocument&&Ud(T.ownerDocument.documentElement,T)){if(C!==null&&or(T)){var j=C.start,J=C.end;if(J===void 0&&(J=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(J,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var O=z.getSelection(),se=T.textContent.length,fe=Math.min(C.start,se),Le=C.end===void 0?fe:Math.min(C.end,se);!O.extend&&fe>Le&&(S=Le,Le=fe,fe=S);var U=Dd(T,fe),I=Dd(T,Le);if(U&&I&&(O.rangeCount!==1||O.anchorNode!==U.node||O.anchorOffset!==U.offset||O.focusNode!==I.node||O.focusOffset!==I.offset)){var P=X.createRange();P.setStart(U.node,U.offset),O.removeAllRanges(),fe>Le?(O.addRange(P),O.extend(I.node,I.offset)):(P.setEnd(I.node,I.offset),O.addRange(P))}}}}for(X=[],O=T;O=O.parentNode;)O.nodeType===1&&X.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Qo=!!Uu,qu=Uu=null}finally{Ae=h,te.p=l,B.T=s}}t.current=i,Ze=2}}function Xh(){if(Ze===2){Ze=0;var t=Jn,i=sa,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=B.T,B.T=null;var l=te.p;te.p=2;var h=Ae;Ae|=4;try{Eh(t,i.alternate,i)}finally{Ae=h,te.p=l,B.T=s}}Ze=3}}function Zh(){if(Ze===4||Ze===3){Ze=0,py();var t=Jn,i=sa,s=Tn,l=Vh;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ze=5:(Ze=0,sa=Jn=null,Wh(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(On=null),jl(s),i=i.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ma,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=B.T,h=te.p,te.p=2,B.T=null;try{for(var x=t.onRecoverableError,S=0;S<l.length;S++){var T=l[S];x(T.value,{componentStack:T.stack})}}finally{B.T=i,te.p=h}}(Tn&3)!==0&&Vo(),tn(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===wu?cs++:(cs=0,wu=t):cs=0,ds(0)}}function Wh(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ja(i)))}function Vo(){return Qh(),Xh(),Zh(),em()}function em(){if(Ze!==5)return!1;var t=Jn,i=vu;vu=0;var s=jl(Tn),l=B.T,h=te.p;try{te.p=32>s?32:s,B.T=null,s=bu,bu=null;var x=Jn,S=Tn;if(Ze=0,sa=Jn=null,Tn=0,(Ae&6)!==0)throw Error(o(331));var T=Ae;if(Ae|=4,qh(x.current),kh(x,x.current,S,s),Ae=T,ds(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ma,x)}catch{}return!0}finally{te.p=h,B.T=l,Wh(t,i)}}function tm(t,i,s){i=Gt(s,i),i=Wr(t.stateNode,i,2),t=Vn(t,i,2),t!==null&&(Ia(t,2),tn(t))}function De(t,i,s){if(t.tag===3)tm(t,t,s);else for(;i!==null;){if(i.tag===3){tm(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(On===null||!On.has(l))){t=Gt(s,t),s=nh(2),l=Vn(i,s,2),l!==null&&(ih(s,l,i,t),Ia(l,2),tn(l));break}}i=i.return}}function Tu(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new jx;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(gu=!0,h.add(s),t=Yx.bind(null,t,i,s),i.then(t,t))}function Yx(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ge===t&&(we&s)===s&&(ze===4||ze===3&&(we&62914560)===we&&300>St()-ko?(Ae&2)===0&&oa(t,0):yu|=s,aa===we&&(aa=0)),tn(t)}function nm(t,i){i===0&&(i=$c()),t=ci(t,i),t!==null&&(Ia(t,i),tn(t))}function Fx(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),nm(t,s)}function Kx(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(i),nm(t,s)}function $x(t,i){return Gl(t,i)}var Ho=null,ra=null,Eu=!1,Po=!1,_u=!1,Fn=0;function tn(t){t!==ra&&t.next===null&&(ra===null?Ho=ra=t:ra=ra.next=t),Po=!0,Eu||(Eu=!0,Xx())}function ds(t,i){if(!_u&&Po){_u=!0;do for(var s=!1,l=Ho;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var x=0;else{var S=l.suspendedLanes,T=l.pingedLanes;x=(1<<31-Tt(42|t)+1)-1,x&=h&~(S&~T),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(s=!0,om(l,x))}else x=we,x=zs(l,l===Ge?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||Ra(l,x)||(s=!0,om(l,x));l=l.next}while(s);_u=!1}}function Qx(){im()}function im(){Po=Eu=!1;var t=0;Fn!==0&&lv()&&(t=Fn);for(var i=St(),s=null,l=Ho;l!==null;){var h=l.next,x=am(l,i);x===0?(l.next=null,s===null?Ho=h:s.next=h,h===null&&(ra=s)):(s=l,(t!==0||(x&3)!==0)&&(Po=!0)),l=h}Ze!==0&&Ze!==5||ds(t),Fn!==0&&(Fn=0)}function am(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,x=t.pendingLanes&-62914561;0<x;){var S=31-Tt(x),T=1<<S,C=h[S];C===-1?((T&s)===0||(T&l)!==0)&&(h[S]=Ny(T,i)):C<=i&&(t.expiredLanes|=T),x&=~T}if(i=Ge,s=we,s=zs(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(ke===2||ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vl(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ra(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Vl(l),jl(s)){case 2:case 8:s=Fc;break;case 32:s=Hs;break;case 268435456:s=Kc;break;default:s=Hs}return l=sm.bind(null,t),s=Gl(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Vl(l),t.callbackPriority=2,t.callbackNode=null,2}function sm(t,i){if(Ze!==0&&Ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Vo()&&t.callbackNode!==s)return null;var l=we;return l=zs(t,t===Ge?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ph(t,l,i),am(t,St()),t.callbackNode!=null&&t.callbackNode===s?sm.bind(null,t):null)}function om(t,i){if(Vo())return null;Ph(t,i,!0)}function Xx(){uv(function(){(Ae&6)!==0?Gl(Yc,Qx):im()})}function Cu(){if(Fn===0){var t=Fi;t===0&&(t=Ps,Ps<<=1,(Ps&261888)===0&&(Ps=256)),Fn=t}return Fn}function lm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fs(""+t)}function rm(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function Zx(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var x=lm((h[mt]||null).action),S=l.submitter;S&&(i=(i=S[mt]||null)?lm(i.formAction):S.getAttribute("formAction"),i!==null&&(x=i,S=null));var T=new Xs("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fn!==0){var C=S?rm(h,S):new FormData(h);Fr(s,{pending:!0,data:C,method:h.method,action:x},null,C)}}else typeof x=="function"&&(T.preventDefault(),C=S?rm(h,S):new FormData(h),Fr(s,{pending:!0,data:C,method:h.method,action:x},x,C))},currentTarget:h}]})}}for(var Au=0;Au<cr.length;Au++){var Mu=cr[Au],Wx=Mu.toLowerCase(),ev=Mu[0].toUpperCase()+Mu.slice(1);Yt(Wx,"on"+ev)}Yt(Vd,"onAnimationEnd"),Yt(Hd,"onAnimationIteration"),Yt(Pd,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(gx,"onTransitionRun"),Yt(yx,"onTransitionStart"),Yt(xx,"onTransitionCancel"),Yt(jd,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fs));function um(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var x=void 0;if(i)for(var S=l.length-1;0<=S;S--){var T=l[S],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==x&&h.isPropagationStopped())break e;x=T,h.currentTarget=j;try{x(h)}catch(J){eo(J)}h.currentTarget=null,x=C}else for(S=0;S<l.length;S++){if(T=l[S],C=T.instance,j=T.currentTarget,T=T.listener,C!==x&&h.isPropagationStopped())break e;x=T,h.currentTarget=j;try{x(h)}catch(J){eo(J)}h.currentTarget=null,x=C}}}}function be(t,i){var s=i[Bl];s===void 0&&(s=i[Bl]=new Set);var l=t+"__bubble";s.has(l)||(cm(i,t,2,!1),s.add(l))}function Ru(t,i,s){var l=0;i&&(l|=4),cm(s,t,l,i)}var jo="_reactListening"+Math.random().toString(36).slice(2);function Iu(t){if(!t[jo]){t[jo]=!0,nd.forEach(function(s){s!=="selectionchange"&&(tv.has(s)||Ru(s,!1,t),Ru(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[jo]||(i[jo]=!0,Ru("selectionchange",!1,i))}}function cm(t,i,s,l){switch(Hm(i)){case 2:var h=Mv;break;case 8:h=Rv;break;default:h=Yu}s=h.bind(null,i,s,t),h=void 0,!Xl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function ku(t,i,s,l,h){var x=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var T=l.stateNode.containerInfo;if(T===h)break;if(S===4)for(S=l.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;T!==null;){if(S=Ri(T),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){l=x=S;continue e}T=T.parentNode}}l=l.return}md(function(){var j=x,J=$l(s),X=[];e:{var z=Bd.get(t);if(z!==void 0){var O=Xs,se=t;switch(t){case"keypress":if($s(s)===0)break e;case"keydown":case"keyup":O=Ky;break;case"focusin":se="focus",O=tr;break;case"focusout":se="blur",O=tr;break;case"beforeblur":case"afterblur":O=tr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=Xy;break;case Vd:case Hd:case Pd:O=Hy;break;case jd:O=Wy;break;case"scroll":case"scrollend":O=Uy;break;case"wheel":O=tx;break;case"copy":case"cut":case"paste":O=jy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=vd;break;case"toggle":case"beforetoggle":O=ix}var fe=(i&4)!==0,Le=!fe&&(t==="scroll"||t==="scrollend"),U=fe?z!==null?z+"Capture":null:z;fe=[];for(var I=j,P;I!==null;){var K=I;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||U===null||(K=Ua(I,U),K!=null&&fe.push(hs(I,K,P))),Le)break;I=I.return}0<fe.length&&(z=new O(z,se,null,s,J),X.push({event:z,listeners:fe}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",O=t==="mouseout"||t==="pointerout",z&&s!==Kl&&(se=s.relatedTarget||s.fromElement)&&(Ri(se)||se[Mi]))break e;if((O||z)&&(z=J.window===J?J:(z=J.ownerDocument)?z.defaultView||z.parentWindow:window,O?(se=s.relatedTarget||s.toElement,O=j,se=se?Ri(se):null,se!==null&&(Le=u(se),fe=se.tag,se!==Le||fe!==5&&fe!==27&&fe!==6)&&(se=null)):(O=null,se=j),O!==se)){if(fe=yd,K="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(fe=vd,K="onPointerLeave",U="onPointerEnter",I="pointer"),Le=O==null?z:Da(O),P=se==null?z:Da(se),z=new fe(K,I+"leave",O,s,J),z.target=Le,z.relatedTarget=P,K=null,Ri(J)===j&&(fe=new fe(U,I+"enter",se,s,J),fe.target=P,fe.relatedTarget=Le,K=fe),Le=K,O&&se)t:{for(fe=nv,U=O,I=se,P=0,K=U;K;K=fe(K))P++;K=0;for(var ce=I;ce;ce=fe(ce))K++;for(;0<P-K;)U=fe(U),P--;for(;0<K-P;)I=fe(I),K--;for(;P--;){if(U===I||I!==null&&U===I.alternate){fe=U;break t}U=fe(U),I=fe(I)}fe=null}else fe=null;O!==null&&dm(X,z,O,fe,!1),se!==null&&Le!==null&&dm(X,Le,se,fe,!0)}}e:{if(z=j?Da(j):window,O=z.nodeName&&z.nodeName.toLowerCase(),O==="select"||O==="input"&&z.type==="file")var Te=Cd;else if(Ed(z))if(Ad)Te=hx;else{Te=dx;var re=cx}else O=z.nodeName,!O||O.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Fl(j.elementType)&&(Te=Cd):Te=fx;if(Te&&(Te=Te(t,j))){_d(X,Te,s,J);break e}re&&re(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Yl(z,"number",z.value)}switch(re=j?Da(j):window,t){case"focusin":(Ed(re)||re.contentEditable==="true")&&(Hi=re,lr=j,Ba=null);break;case"focusout":Ba=lr=Hi=null;break;case"mousedown":rr=!0;break;case"contextmenu":case"mouseup":case"dragend":rr=!1,Ld(X,s,J);break;case"selectionchange":if(px)break;case"keydown":case"keyup":Ld(X,s,J)}var ye;if(ir)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Vi?Nd(t,s)&&(Se="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Se="onCompositionStart");Se&&(bd&&s.locale!=="ko"&&(Vi||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Vi&&(ye=pd()):(In=J,Zl="value"in In?In.value:In.textContent,Vi=!0)),re=Bo(j,Se),0<re.length&&(Se=new xd(Se,t,null,s,J),X.push({event:Se,listeners:re}),ye?Se.data=ye:(ye=Td(s),ye!==null&&(Se.data=ye)))),(ye=sx?ox(t,s):lx(t,s))&&(Se=Bo(j,"onBeforeInput"),0<Se.length&&(re=new xd("onBeforeInput","beforeinput",null,s,J),X.push({event:re,listeners:Se}),re.data=ye)),Zx(X,t,j,s,J)}um(X,i)})}function hs(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Bo(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,x=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||x===null||(h=Ua(t,s),h!=null&&l.unshift(hs(t,h,x)),h=Ua(t,i),h!=null&&l.push(hs(t,h,x))),t.tag===3)return l;t=t.return}return[]}function nv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dm(t,i,s,l,h){for(var x=i._reactName,S=[];s!==null&&s!==l;){var T=s,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=Ua(s,x),j!=null&&S.unshift(hs(s,j,C))):h||(j=Ua(s,x),j!=null&&S.push(hs(s,j,C)))),s=s.return}S.length!==0&&t.push({event:i,listeners:S})}var iv=/\r\n?/g,av=/\u0000|\uFFFD/g;function fm(t){return(typeof t=="string"?t:""+t).replace(iv,`
`).replace(av,"")}function hm(t,i){return i=fm(i),fm(t)===i}function qe(t,i,s,l,h,x){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||qi(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&qi(t,""+l);break;case"className":Js(t,"class",l);break;case"tabIndex":Js(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Js(t,s,l);break;case"style":fd(t,l,x);break;case"data":if(i!=="object"){Js(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Fs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(s==="formAction"?(i!=="input"&&qe(t,i,"name",h.name,h,null),qe(t,i,"formEncType",h.formEncType,h,null),qe(t,i,"formMethod",h.formMethod,h,null),qe(t,i,"formTarget",h.formTarget,h,null)):(qe(t,i,"encType",h.encType,h,null),qe(t,i,"method",h.method,h,null),qe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Fs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=un);break;case"onScroll":l!=null&&be("scroll",t);break;case"onScrollEnd":l!=null&&be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Fs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":be("beforetoggle",t),be("toggle",t),Os(t,"popover",l);break;case"xlinkActuate":rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":rn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":rn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":rn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":rn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Os(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ky.get(s)||s,Os(t,s,l))}}function Du(t,i,s,l,h,x){switch(s){case"style":fd(t,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"children":typeof l=="string"?qi(t,l):(typeof l=="number"||typeof l=="bigint")&&qi(t,""+l);break;case"onScroll":l!=null&&be("scroll",t);break;case"onScrollEnd":l!=null&&be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!id.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),x=t[mt]||null,x=x!=null?x[s]:null,typeof x=="function"&&t.removeEventListener(i,x,h),typeof l=="function")){typeof x!="function"&&x!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Os(t,s,l)}}}function lt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",t),be("load",t);var l=!1,h=!1,x;for(x in s)if(s.hasOwnProperty(x)){var S=s[x];if(S!=null)switch(x){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:qe(t,i,x,S,s,null)}}h&&qe(t,i,"srcSet",s.srcSet,s,null),l&&qe(t,i,"src",s.src,s,null);return;case"input":be("invalid",t);var T=x=S=h=null,C=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":h=J;break;case"type":S=J;break;case"checked":C=J;break;case"defaultChecked":j=J;break;case"value":x=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,i));break;default:qe(t,i,l,J,s,null)}}rd(t,x,T,C,j,S,h,!1);return;case"select":be("invalid",t),l=S=x=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":x=T;break;case"defaultValue":S=T;break;case"multiple":l=T;default:qe(t,i,h,T,s,null)}i=x,s=S,t.multiple=!!l,i!=null?Ui(t,!!l,i,!1):s!=null&&Ui(t,!!l,s,!0);return;case"textarea":be("invalid",t),x=h=l=null;for(S in s)if(s.hasOwnProperty(S)&&(T=s[S],T!=null))switch(S){case"value":l=T;break;case"defaultValue":h=T;break;case"children":x=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:qe(t,i,S,T,s,null)}cd(t,l,h,x);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:qe(t,i,C,l,s,null)}return;case"dialog":be("beforetoggle",t),be("toggle",t),be("cancel",t),be("close",t);break;case"iframe":case"object":be("load",t);break;case"video":case"audio":for(l=0;l<fs.length;l++)be(fs[l],t);break;case"image":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"embed":case"source":case"link":be("error",t),be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:qe(t,i,j,l,s,null)}return;default:if(Fl(i)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&Du(t,i,J,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&qe(t,i,T,l,s,null))}function sv(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,x=null,S=null,T=null,C=null,j=null,J=null;for(O in s){var X=s[O];if(s.hasOwnProperty(O)&&X!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(O)||qe(t,i,O,null,l,X)}}for(var z in l){var O=l[z];if(X=s[z],l.hasOwnProperty(z)&&(O!=null||X!=null))switch(z){case"type":x=O;break;case"name":h=O;break;case"checked":j=O;break;case"defaultChecked":J=O;break;case"value":S=O;break;case"defaultValue":T=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(o(137,i));break;default:O!==X&&qe(t,i,z,O,l,X)}}Jl(t,S,T,C,j,J,x,h);return;case"select":O=S=T=z=null;for(x in s)if(C=s[x],s.hasOwnProperty(x)&&C!=null)switch(x){case"value":break;case"multiple":O=C;default:l.hasOwnProperty(x)||qe(t,i,x,null,l,C)}for(h in l)if(x=l[h],C=s[h],l.hasOwnProperty(h)&&(x!=null||C!=null))switch(h){case"value":z=x;break;case"defaultValue":T=x;break;case"multiple":S=x;default:x!==C&&qe(t,i,h,x,l,C)}i=T,s=S,l=O,z!=null?Ui(t,!!s,z,!1):!!l!=!!s&&(i!=null?Ui(t,!!s,i,!0):Ui(t,!!s,s?[]:"",!1));return;case"textarea":O=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:qe(t,i,T,null,l,h)}for(S in l)if(h=l[S],x=s[S],l.hasOwnProperty(S)&&(h!=null||x!=null))switch(S){case"value":z=h;break;case"defaultValue":O=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(o(91));break;default:h!==x&&qe(t,i,S,h,l,x)}ud(t,z,O);return;case"option":for(var se in s)if(z=s[se],s.hasOwnProperty(se)&&z!=null&&!l.hasOwnProperty(se))switch(se){case"selected":t.selected=!1;break;default:qe(t,i,se,null,l,z)}for(C in l)if(z=l[C],O=s[C],l.hasOwnProperty(C)&&z!==O&&(z!=null||O!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:qe(t,i,C,z,l,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in s)z=s[fe],s.hasOwnProperty(fe)&&z!=null&&!l.hasOwnProperty(fe)&&qe(t,i,fe,null,l,z);for(j in l)if(z=l[j],O=s[j],l.hasOwnProperty(j)&&z!==O&&(z!=null||O!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(137,i));break;default:qe(t,i,j,z,l,O)}return;default:if(Fl(i)){for(var Le in s)z=s[Le],s.hasOwnProperty(Le)&&z!==void 0&&!l.hasOwnProperty(Le)&&Du(t,i,Le,void 0,l,z);for(J in l)z=l[J],O=s[J],!l.hasOwnProperty(J)||z===O||z===void 0&&O===void 0||Du(t,i,J,z,l,O);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!l.hasOwnProperty(U)&&qe(t,i,U,null,l,z);for(X in l)z=l[X],O=s[X],!l.hasOwnProperty(X)||z===O||z==null&&O==null||qe(t,i,X,z,l,O)}function mm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ov(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],x=h.transferSize,S=h.initiatorType,T=h.duration;if(x&&T&&mm(S)){for(S=0,T=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],j=C.startTime;if(j>T)break;var J=C.transferSize,X=C.initiatorType;J&&mm(X)&&(C=C.responseEnd,S+=J*(C<T?1:(T-j)/(C-j)))}if(--l,i+=8*(x+S)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Uu=null,qu=null;function zo(t){return t.nodeType===9?t:t.ownerDocument}function pm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gm(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Lu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gu=null;function lv(){var t=window.event;return t&&t.type==="popstate"?t===Gu?!1:(Gu=t,!0):(Gu=null,!1)}var ym=typeof setTimeout=="function"?setTimeout:void 0,rv=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,uv=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(t){return xm.resolve(null).then(t).catch(cv)}:ym;function cv(t){setTimeout(function(){throw t})}function Kn(t){return t==="head"}function vm(t,i){var s=i,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),fa(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ms(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ms(s);for(var x=s.firstChild;x;){var S=x.nextSibling,T=x.nodeName;x[ka]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&x.rel.toLowerCase()==="stylesheet"||s.removeChild(x),x=S}}else s==="body"&&ms(t.ownerDocument.body);s=h}while(s);fa(i)}function bm(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Vu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Vu(s),zl(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function dv(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ka])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(x=t.getAttribute("rel"),x==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(x!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(x=t.getAttribute("src"),(x!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&x&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var x=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===x)return t}else return t;if(t=Bt(t.nextSibling),t===null)break}return null}function fv(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Bt(t.nextSibling),t===null))return null;return t}function wm(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Bt(t.nextSibling),t===null))return null;return t}function Hu(t){return t.data==="$?"||t.data==="$~"}function Pu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hv(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var ju=null;function Sm(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Bt(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function Nm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function Tm(t,i,s){switch(i=zo(s),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function ms(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);zl(t)}var zt=new Map,Em=new Set;function Oo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var En=te.d;te.d={f:mv,r:pv,D:gv,C:yv,L:xv,m:vv,X:wv,S:bv,M:Sv};function mv(){var t=En.f(),i=qo();return t||i}function pv(t){var i=Ii(t);i!==null&&i.tag===5&&i.type==="form"?Bf(i):En.r(t)}var ua=typeof document>"u"?null:document;function _m(t,i,s){var l=ua;if(l&&typeof i=="string"&&i){var h=qt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Em.has(h)||(Em.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),lt(i,"link",t),et(i),l.head.appendChild(i)))}}function gv(t){En.D(t),_m("dns-prefetch",t,null)}function yv(t,i){En.C(t,i),_m("preconnect",t,i)}function xv(t,i,s){En.L(t,i,s);var l=ua;if(l&&t&&i){var h='link[rel="preload"][as="'+qt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+qt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+qt(s.imageSizes)+'"]')):h+='[href="'+qt(t)+'"]';var x=h;switch(i){case"style":x=ca(t);break;case"script":x=da(t)}zt.has(x)||(t=b({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),zt.set(x,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ps(x))||i==="script"&&l.querySelector(gs(x))||(i=l.createElement("link"),lt(i,"link",t),et(i),l.head.appendChild(i)))}}function vv(t,i){En.m(t,i);var s=ua;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+qt(l)+'"][href="'+qt(t)+'"]',x=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=da(t)}if(!zt.has(x)&&(t=b({rel:"modulepreload",href:t},i),zt.set(x,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(gs(x)))return}l=s.createElement("link"),lt(l,"link",t),et(l),s.head.appendChild(l)}}}function bv(t,i,s){En.S(t,i,s);var l=ua;if(l&&t){var h=ki(l).hoistableStyles,x=ca(t);i=i||"default";var S=h.get(x);if(!S){var T={loading:0,preload:null};if(S=l.querySelector(ps(x)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},s),(s=zt.get(x))&&Bu(t,s);var C=S=l.createElement("link");et(C),lt(C,"link",t),C._p=new Promise(function(j,J){C.onload=j,C.onerror=J}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Jo(S,i,l)}S={type:"stylesheet",instance:S,count:1,state:T},h.set(x,S)}}}function wv(t,i){En.X(t,i);var s=ua;if(s&&t){var l=ki(s).hoistableScripts,h=da(t),x=l.get(h);x||(x=s.querySelector(gs(h)),x||(t=b({src:t,async:!0},i),(i=zt.get(h))&&zu(t,i),x=s.createElement("script"),et(x),lt(x,"link",t),s.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(h,x))}}function Sv(t,i){En.M(t,i);var s=ua;if(s&&t){var l=ki(s).hoistableScripts,h=da(t),x=l.get(h);x||(x=s.querySelector(gs(h)),x||(t=b({src:t,async:!0,type:"module"},i),(i=zt.get(h))&&zu(t,i),x=s.createElement("script"),et(x),lt(x,"link",t),s.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(h,x))}}function Cm(t,i,s,l){var h=(h=xe.current)?Oo(h):null;if(!h)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=ca(s.href),s=ki(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ca(s.href);var x=ki(h).hoistableStyles,S=x.get(t);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(t,S),(x=h.querySelector(ps(t)))&&!x._p&&(S.instance=x,S.state.loading=5),zt.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zt.set(t,s),x||Nv(h,t,s,S.state))),i&&l===null)throw Error(o(528,""));return S}if(i&&l!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=da(s),s=ki(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function ca(t){return'href="'+qt(t)+'"'}function ps(t){return'link[rel="stylesheet"]['+t+"]"}function Am(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Nv(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),lt(i,"link",s),et(i),t.head.appendChild(i))}function da(t){return'[src="'+qt(t)+'"]'}function gs(t){return"script[async]"+t}function Mm(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+qt(s.href)+'"]');if(l)return i.instance=l,et(l),l;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),lt(l,"style",h),Jo(l,s.precedence,t),i.instance=l;case"stylesheet":h=ca(s.href);var x=t.querySelector(ps(h));if(x)return i.state.loading|=4,i.instance=x,et(x),x;l=Am(s),(h=zt.get(h))&&Bu(l,h),x=(t.ownerDocument||t).createElement("link"),et(x);var S=x;return S._p=new Promise(function(T,C){S.onload=T,S.onerror=C}),lt(x,"link",l),i.state.loading|=4,Jo(x,s.precedence,t),i.instance=x;case"script":return x=da(s.src),(h=t.querySelector(gs(x)))?(i.instance=h,et(h),h):(l=s,(h=zt.get(x))&&(l=b({},s),zu(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),et(h),lt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Jo(l,s.precedence,t));return i.instance}function Jo(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,x=h,S=0;S<l.length;S++){var T=l[S];if(T.dataset.precedence===i)x=T;else if(x!==h)break}x?x.parentNode.insertBefore(t,x.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Bu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function zu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Yo=null;function Rm(t,i,s){if(Yo===null){var l=new Map,h=Yo=new Map;h.set(s,l)}else h=Yo,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var x=s[h];if(!(x[ka]||x[it]||t==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var S=x.getAttribute(i)||"";S=t+S;var T=l.get(S);T?T.push(x):l.set(S,[x])}}return l}function Im(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function Tv(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function km(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ev(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ca(l.href),x=i.querySelector(ps(h));if(x){i=x._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Fo.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=x,et(x);return}x=i.ownerDocument||i,l=Am(l),(h=zt.get(h))&&Bu(l,h),x=x.createElement("link"),et(x);var S=x;S._p=new Promise(function(T,C){S.onload=T,S.onerror=C}),lt(x,"link",l),s.instance=x}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Fo.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Ou=0;function _v(t,i){return t.stylesheets&&t.count===0&&$o(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&$o(t,t.stylesheets),t.unsuspend){var x=t.unsuspend;t.unsuspend=null,x()}},6e4+i);0<t.imgBytes&&Ou===0&&(Ou=62500*ov());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$o(t,t.stylesheets),t.unsuspend)){var x=t.unsuspend;t.unsuspend=null,x()}},(t.imgBytes>Ou?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$o(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ko=null;function $o(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ko=new Map,i.forEach(Cv,t),Ko=null,Fo.call(t))}function Cv(t,i){if(!(i.state.loading&4)){var s=Ko.get(t);if(s)var l=s.get(null);else{s=new Map,Ko.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<h.length;x++){var S=h[x];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),l=S)}l&&s.set(null,l)}h=i.instance,S=h.getAttribute("data-precedence"),x=s.get(S)||l,x===l&&s.set(null,h),s.set(S,h),this.count++,l=Fo.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),x?x.parentNode.insertBefore(h,x.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ys={$$typeof:V,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Av(t,i,s,l,h,x,S,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.hiddenUpdates=Hl(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=x,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Dm(t,i,s,l,h,x,S,T,C,j,J,X){return t=new Av(t,i,s,S,C,j,J,X,T),i=1,x===!0&&(i|=24),x=_t(3,null,null,i),t.current=x,x.stateNode=t,i=Nr(),i.refCount++,t.pooledCache=i,i.refCount++,x.memoizedState={element:l,isDehydrated:s,cache:i},Cr(x),t}function Um(t){return t?(t=Bi,t):Bi}function qm(t,i,s,l,h,x){h=Um(h),l.context===null?l.context=h:l.pendingContext=h,l=Gn(i),l.payload={element:s},x=x===void 0?null:x,x!==null&&(l.callback=x),s=Vn(t,l,i),s!==null&&(bt(s,t,i),$a(s,t,i))}function Lm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Ju(t,i){Lm(t,i),(t=t.alternate)&&Lm(t,i)}function Gm(t){if(t.tag===13||t.tag===31){var i=ci(t,67108864);i!==null&&bt(i,t,67108864),Ju(t,67108864)}}function Vm(t){if(t.tag===13||t.tag===31){var i=It();i=Pl(i);var s=ci(t,i);s!==null&&bt(s,t,i),Ju(t,i)}}var Qo=!0;function Mv(t,i,s,l){var h=B.T;B.T=null;var x=te.p;try{te.p=2,Yu(t,i,s,l)}finally{te.p=x,B.T=h}}function Rv(t,i,s,l){var h=B.T;B.T=null;var x=te.p;try{te.p=8,Yu(t,i,s,l)}finally{te.p=x,B.T=h}}function Yu(t,i,s,l){if(Qo){var h=Fu(l);if(h===null)ku(t,i,l,Xo,s),Pm(t,l);else if(kv(h,t,i,s,l))l.stopPropagation();else if(Pm(t,l),i&4&&-1<Iv.indexOf(t)){for(;h!==null;){var x=Ii(h);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var S=si(x.pendingLanes);if(S!==0){var T=x;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var C=1<<31-Tt(S);T.entanglements[1]|=C,S&=~C}tn(x),(Ae&6)===0&&(Do=St()+500,ds(0))}}break;case 31:case 13:T=ci(x,2),T!==null&&bt(T,x,2),qo(),Ju(x,2)}if(x=Fu(l),x===null&&ku(t,i,l,Xo,s),x===h)break;h=x}h!==null&&l.stopPropagation()}else ku(t,i,l,null,s)}}function Fu(t){return t=$l(t),Ku(t)}var Xo=null;function Ku(t){if(Xo=null,t=Ri(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===31){if(t=p(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xo=t,null}function Hm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gy()){case Yc:return 2;case Fc:return 8;case Hs:case yy:return 32;case Kc:return 268435456;default:return 32}default:return 32}}var $u=!1,$n=null,Qn=null,Xn=null,xs=new Map,vs=new Map,Zn=[],Iv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pm(t,i){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":xs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(i.pointerId)}}function bs(t,i,s,l,h,x){return t===null||t.nativeEvent!==x?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:x,targetContainers:[h]},i!==null&&(i=Ii(i),i!==null&&Gm(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function kv(t,i,s,l,h){switch(i){case"focusin":return $n=bs($n,t,i,s,l,h),!0;case"dragenter":return Qn=bs(Qn,t,i,s,l,h),!0;case"mouseover":return Xn=bs(Xn,t,i,s,l,h),!0;case"pointerover":var x=h.pointerId;return xs.set(x,bs(xs.get(x)||null,t,i,s,l,h)),!0;case"gotpointercapture":return x=h.pointerId,vs.set(x,bs(vs.get(x)||null,t,i,s,l,h)),!0}return!1}function jm(t){var i=Ri(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,ed(t.priority,function(){Vm(s)});return}}else if(i===31){if(i=p(s),i!==null){t.blockedOn=i,ed(t.priority,function(){Vm(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zo(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Fu(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Kl=l,s.target.dispatchEvent(l),Kl=null}else return i=Ii(s),i!==null&&Gm(i),t.blockedOn=s,!1;i.shift()}return!0}function Bm(t,i,s){Zo(t)&&s.delete(i)}function Dv(){$u=!1,$n!==null&&Zo($n)&&($n=null),Qn!==null&&Zo(Qn)&&(Qn=null),Xn!==null&&Zo(Xn)&&(Xn=null),xs.forEach(Bm),vs.forEach(Bm)}function Wo(t,i){t.blockedOn===i&&(t.blockedOn=null,$u||($u=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Dv)))}var el=null;function zm(t){el!==t&&(el=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){el===t&&(el=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Ku(l||s)===null)continue;break}var x=Ii(s);x!==null&&(t.splice(i,3),i-=3,Fr(x,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function fa(t){function i(C){return Wo(C,t)}$n!==null&&Wo($n,t),Qn!==null&&Wo(Qn,t),Xn!==null&&Wo(Xn,t),xs.forEach(i),vs.forEach(i);for(var s=0;s<Zn.length;s++){var l=Zn[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zn.length&&(s=Zn[0],s.blockedOn===null);)jm(s),s.blockedOn===null&&Zn.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],x=s[l+1],S=h[mt]||null;if(typeof x=="function")S||zm(s);else if(S){var T=null;if(x&&x.hasAttribute("formAction")){if(h=x,S=x[mt]||null)T=S.formAction;else if(Ku(h)!==null)continue}else T=S.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),zm(s)}}}function Om(){function t(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Qu(t){this._internalRoot=t}tl.prototype.render=Qu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,l=It();qm(s,l,t,i,null,null)},tl.prototype.unmount=Qu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;qm(t.current,2,null,t,null,null),qo(),i[Mi]=null}};function tl(t){this._internalRoot=t}tl.prototype.unstable_scheduleHydration=function(t){if(t){var i=Wc();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Zn.length&&i!==0&&i<Zn[s].priority;s++);Zn.splice(s,0,t),s===0&&jm(t)}};var Jm=e.version;if(Jm!=="19.2.0")throw Error(o(527,Jm,"19.2.0"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var Uv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Ma=nl.inject(Uv),Nt=nl}catch{}}return Ss.createRoot=function(t,i){if(!r(t))throw Error(o(299));var s=!1,l="",h=Zf,x=Wf,S=eh;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=Dm(t,1,!1,null,null,s,l,null,h,x,S,Om),t[Mi]=i.current,Iu(t),new Qu(i)},Ss.hydrateRoot=function(t,i,s){if(!r(t))throw Error(o(299));var l=!1,h="",x=Zf,S=Wf,T=eh,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(x=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),i=Dm(t,1,!0,i,s??null,l,h,C,x,S,T,Om),i.context=Um(null),s=i.current,l=It(),l=Pl(l),h=Gn(l),h.callback=null,Vn(s,h,l),s=l,i.current.lanes=s,Ia(i,s),tn(i),t[Mi]=i.current,Iu(t),new tl(i)},Ss.version="19.2.0",Ss}var tp;function Jv(){if(tp)return Wu.exports;tp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wu.exports=Ov(),Wu.exports}var Yv=Jv();const Fv=Zg(Yv),Kv=({aiEngine:n,onShowAdmin:e})=>c.jsx("header",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-gray-700/50 shadow-lg sticky top-0 z-50",children:c.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[c.jsx("div",{className:"w-1/4",children:c.jsx("input",{id:"searchWidgetTrigger",placeholder:"搜尋聖經資源...",className:"bg-gray-700/80 border border-gray-600 rounded-md px-3 py-1.5 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition placeholder-gray-400 w-full max-w-xs"})}),c.jsx("div",{className:"flex-1 flex justify-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-indigo-600",children:"數位講壇"}),c.jsxs("p",{className:"text-xs text-gray-400 font-medium tracking-wider mt-1",children:["由 ",n," 驅動"]})]})}),c.jsx("div",{className:"w-1/4 flex justify-end",children:c.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full transition-colors","aria-label":"開啟 AI 角色設定",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})})]})});var _e=(n=>(n.LANDING="LANDING",n.INPUT="INPUT",n.LOADING="LOADING",n.RESULT="RESULT",n.ERROR="ERROR",n.SAVED="SAVED",n.ADMIN="ADMIN",n.BIBLE="BIBLE",n.THEOLOGY_SEARCH="THEOLOGY_SEARCH",n.JAPANESE_BIBLICAL="JAPANESE_BIBLICAL",n.BIBLICAL_LANGUAGE="BIBLICAL_LANGUAGE",n.THEOLOGICAL_JOURNEY="THEOLOGICAL_JOURNEY",n))(_e||{}),nt=(n=>(n.GEMINI="Google Gemini",n.LOCAL_LLM="Local LLM",n.MOCK="OPENAI GPT-5",n))(nt||{}),ga=(n=>(n.BIBLICAL_STUDY="聖經研究",n.CHURCH_HISTORY="教會歷史",n.SYSTEMATIC_THEOLOGY="系統神學",n))(ga||{});const $v=[3,5,10],ml={personaEnabled:!0,ethics:"principled",politicalStand:"neutral",powerfulness:"direct",sentiment:"optimistic",personality:"An insightful and engaging AI assistant, expert in theology and communication.",empathy:"medium"};var Wg=(n=>(n.NIV="NIV",n.ESV="ESV",n.KJV="KJV",n))(Wg||{}),nn=(n=>(n.THEOLOGY_CHAT="Theology Chat",n.READING_QA="Reading Q&A",n.ASSIGNMENT_ASSISTANT="Assignment Assistant",n.RESOURCE_SEARCH="Resource Search",n))(nn||{}),an=(n=>(n.INPUT="input",n.PLANNING="planning",n.DRAFTING="drafting",n.CRITIQUING="critiquing",n.REVISING="revising",n))(an||{}),ha=(n=>(n.UNDERGRADUATE="undergraduate",n.GRADUATE="graduate",n.DOCTORAL="doctoral",n.GENERAL="general",n))(ha||{});const il=[{id:"gpt-oss:120b-cloud",name:"GPT-OSS 120B Cloud ☁️",size:"Cloud",description:"雲端超大規模模型，適合複雜神學分析和深度講道生成"},{id:"deepseek-v3.1:671b-cloud",name:"DeepSeek v3.1 671B Cloud ☁️",size:"Cloud",description:"雲端頂級推理模型，適合邏輯性神學論證和深度釋經"},{id:"kimi-k2:1t-cloud",name:"Kimi K2 1T Cloud ☁️",size:"Cloud",description:"雲端超長文本模型，適合處理完整經文和詳細講道稿"},{id:"qwen3-coder:480b-cloud",name:"Qwen3 Coder 480B Cloud ☁️",size:"Cloud",description:"雲端智能模型，支援中英文混合講道內容生成"},{id:"gpt-oss:20b-cloud",name:"GPT-OSS 20B Cloud ☁️",size:"Cloud",description:"雲端快速模型，適合日常講道生成，速度快"},{id:"llava:34b",name:"LLaVA 34B (本地)",size:"20 GB",description:"多模態模型，支援視覺分析，適合包含圖像的講道內容",hasVision:!0},{id:"llama4:scout",name:"Llama 4 Scout (本地)",size:"67 GB",description:"最新版本，適合深度神學分析和複雜講道結構"},{id:"qwen2.5v1:32b",name:"Qwen 2.5 v1 32B (本地)",size:"32 GB",description:"中英雙語視覺語言模型，適合繁體中文講道",hasVision:!0},{id:"deepseek-r1:32b",name:"DeepSeek R1 32B (本地)",size:"19 GB",description:"推理能力強，適合邏輯性神學論證和釋經"},{id:"llama3.3:latest",name:"Llama 3.3 (本地)",size:"42 GB",description:"高性能通用模型，平衡質量與效率"}],Qv=({value:n,onChange:e,onRemove:a,isFirst:o})=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",value:n,onChange:r=>e(r.target.value),placeholder:"輸入鑰節或要點...",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),!o&&c.jsx("button",{type:"button",onClick:a,className:"p-2 text-gray-400 hover:text-red-500 transition-colors","aria-label":"移除要點",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),Xv=({onGenerate:n,selectedEngine:e,onEngineChange:a,onShowSaved:o,onBackToLanding:r,hasSavedPresentations:u})=>{var Z,ae;const[f,p]=H.useState(""),[y,g]=H.useState([""]),[v,b]=H.useState(ga.BIBLICAL_STUDY),[w,N]=H.useState(5),[_,E]=H.useState(!1),[A,R]=H.useState(il[0].id),[L,V]=H.useState(.7),[M,G]=H.useState(.9),q=()=>{y.length<5&&g([...y,""])},k=Q=>{const Y=y.filter((ne,ee)=>ee!==Q);g(Y)},F=(Q,Y)=>{const ne=[...y];ne[Q]=Y,g(ne)},$=Q=>{if(Q.preventDefault(),f.trim()){E(!0);const Y=e===nt.LOCAL_LLM?{model:A,temperature:L,topP:M}:void 0;n(f,y.filter(ne=>ne.trim()!==""),v,w,Y)}};return c.jsxs("div",{className:"w-full max-w-2xl bg-gray-800/50 rounded-lg shadow-2xl p-8 border border-gray-700",children:[c.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"撰寫您的 AI 講道"}),c.jsx("p",{className:"text-center text-gray-400 mb-6",children:"輸入主題，選擇基礎，讓 AI 為您構建講道。"}),c.jsxs("form",{onSubmit:$,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"AI 引擎"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 rounded-lg bg-gray-700 p-1",children:[c.jsx("button",{type:"button",disabled:!1,onClick:()=>a(nt.GEMINI),className:`w-full rounded-md px-3 py-2 text-sm font-medium transition ${e===nt.GEMINI?"bg-indigo-600 text-white shadow":"text-gray-300 hover:bg-gray-600/50"} disabled:opacity-50 disabled:cursor-not-allowed`,"aria-pressed":e===nt.GEMINI,children:nt.GEMINI}),c.jsx("button",{type:"button",onClick:()=>a(nt.LOCAL_LLM),className:`w-full rounded-md px-3 py-2 text-sm font-medium transition ${e===nt.LOCAL_LLM?"bg-indigo-600 text-white shadow":"text-gray-300 hover:bg-gray-600/50"}`,"aria-pressed":e===nt.LOCAL_LLM,children:nt.LOCAL_LLM}),c.jsx("button",{type:"button",onClick:()=>a(nt.MOCK),className:`w-full rounded-md px-3 py-2 text-sm font-medium transition ${e===nt.MOCK?"bg-indigo-600 text-white shadow":"text-gray-300 hover:bg-gray-600/50"}`,"aria-pressed":e===nt.MOCK,children:nt.MOCK})]}),!1]}),e===nt.LOCAL_LLM&&c.jsxs("div",{className:"space-y-4 bg-gray-800/50 rounded-lg p-4 border border-gray-600",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-200",children:"本地 LLM 配置"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"選擇模型"}),c.jsx("select",{value:A,onChange:Q=>R(Q.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white",children:il.map(Q=>c.jsxs("option",{value:Q.id,children:[Q.name," (",Q.size,")",Q.hasVision?" 🎨":""]},Q.id))}),c.jsxs("div",{className:"mt-2 p-3 bg-gray-700/50 rounded-lg",children:[c.jsx("p",{className:"text-xs text-gray-300",children:(Z=il.find(Q=>Q.id===A))==null?void 0:Z.description}),((ae=il.find(Q=>Q.id===A))==null?void 0:ae.hasVision)&&c.jsx("span",{className:"text-xs text-yellow-400 mt-1 block",children:"🎨 支援視覺分析功能"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["創造性程度: ",L]}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:L,onChange:Q=>V(parseFloat(Q.target.value)),className:"w-full"}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[c.jsx("span",{children:"保守"}),c.jsx("span",{children:"創新"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["回答多樣性: ",M]}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:M,onChange:Q=>G(parseFloat(Q.target.value)),className:"w-full"}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[c.jsx("span",{children:"聚焦"}),c.jsx("span",{children:"多元"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"講道基礎"}),c.jsx("div",{className:"grid grid-cols-3 gap-2 rounded-lg bg-gray-700 p-1",children:Object.values(ga).map(Q=>c.jsx("button",{type:"button",onClick:()=>b(Q),className:`w-full rounded-md px-3 py-2 text-sm font-medium transition ${v===Q?"bg-indigo-600 text-white shadow":"text-gray-300 hover:bg-gray-600/50"}`,"aria-pressed":v===Q,children:Q},Q))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"講道時長"}),c.jsx("div",{className:"grid grid-cols-3 gap-2 rounded-lg bg-gray-700 p-1",children:$v.map(Q=>c.jsxs("button",{type:"button",onClick:()=>N(Q),className:`w-full rounded-md px-3 py-2 text-sm font-medium transition ${w===Q?"bg-indigo-600 text-white shadow":"text-gray-300 hover:bg-gray-600/50"}`,"aria-pressed":w===Q,children:[Q," 分鐘"]},Q))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-300 mb-2",children:"主題"}),c.jsx("input",{id:"topic",type:"text",value:f,onChange:Q=>p(Q.target.value),placeholder:"例如：撒種的比喻（馬太福音 13 章）",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"鑰節或要點"}),c.jsx("div",{className:"space-y-3",children:y.map((Q,Y)=>c.jsx(Qv,{value:Q,onChange:ne=>F(Y,ne),onRemove:()=>k(Y),isFirst:Y===0},Y))}),y.length<5&&c.jsx("button",{type:"button",onClick:q,className:"mt-3 text-sm text-indigo-400 hover:text-indigo-300 font-medium transition-colors",children:"+ 新增另一要點"})]}),c.jsxs("div",{className:"pt-2 space-y-3",children:[c.jsx("button",{type:"submit",disabled:!f.trim()||_,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-gray-900 disabled:bg-indigo-900/50 disabled:cursor-not-allowed transition-all",children:_?"生成中...":"生成講道"}),u&&c.jsx("button",{type:"button",onClick:o,className:"w-full flex justify-center py-2 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-gray-900 transition-colors",children:"載入已儲存的講道"}),c.jsx("button",{type:"button",onClick:r,className:"w-full flex justify-center py-2 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-400 bg-gray-800 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 focus:ring-offset-gray-900 transition-colors",children:"返回主頁"})]})]})]})},Zv=({message:n})=>c.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-8",children:[c.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-indigo-500"}),c.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2 text-gray-200",children:"AI 已登台"}),c.jsx("p",{className:"text-gray-400",children:n})]}),Wv=({slide:n,speakerImageUrl:e,audienceImageUrl:a,isActive:o,onUpdate:r})=>{const u=(f,p,y)=>{let g={...n};if(f==="title")g.title=p;else if(f==="talkingPoint"&&y!==void 0){const v=[...n.talkingPoints];v[y]=p,g.talkingPoints=v}r(g)};return c.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ${o?"opacity-100":"opacity-0"}`,children:c.jsxs("div",{className:"relative w-full h-full rounded-lg overflow-hidden shadow-2xl border border-gray-700 bg-black",children:[c.jsx("img",{src:n.backgroundUrl,alt:"Slide background",className:"absolute inset-0 w-full h-full object-cover blur-sm scale-110"}),c.jsx("div",{className:"absolute inset-0 bg-black/60"}),c.jsx("img",{src:a,alt:"Audience silhouette",className:"absolute bottom-0 left-0 w-full h-1/3 object-cover opacity-30 pointer-events-none"}),c.jsxs("div",{className:"relative z-10 p-8 md:p-12 h-full flex flex-col justify-between text-white",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsx("h3",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:f=>u("title",f.currentTarget.innerText),className:"text-3xl md:text-4xl font-bold mb-6 text-shadow focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded-sm p-1 -m-1",children:n.title}),c.jsx("ul",{className:"space-y-3 list-disc list-inside",children:n.talkingPoints.map((f,p)=>c.jsx("li",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:y=>u("talkingPoint",y.currentTarget.innerText,p),className:"text-lg md:text-xl text-gray-200 text-shadow focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded-sm p-1 -m-1",children:f},p))})]}),c.jsx("div",{className:"absolute right-8 bottom-8 md:right-12 md:bottom-12 w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden border-4 border-indigo-500/50 shadow-lg",children:c.jsx("img",{src:e,alt:"AI Speaker",className:"w-full h-full object-cover"})})]})]})})},eb=()=>{const n=(e,a=null)=>{document.execCommand(e,!1,a)};return c.jsxs("div",{className:"flex items-center gap-1 p-2 bg-gray-700 rounded-t-md border-b border-gray-600",children:[c.jsx("button",{onClick:()=>n("bold"),className:"p-2 rounded hover:bg-gray-600",title:"加粗",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:c.jsx("path",{d:"M5.75 3a.75.75 0 000 1.5h1.597c.54 0 .979.412 1.026.953l.23 2.766c-.226-.061-.465-.094-.712-.094C6.23 8.125 5 9.355 5 10.944v.211c0 1.59 1.23 2.819 2.841 2.819 1.43 0 2.61-1.07 2.818-2.473H13.5a.75.75 0 000-1.5h-2.91c-.052-.249-.126-.489-.22-.723a.75.75 0 00-1.342-.495A3.001 3.001 0 007.559 11l-.23-2.766A2.525 2.525 0 019.826 5.5H11.5a.75.75 0 000-1.5H9.826C8.618 4 7.643 4.935 7.523 6.12L7.292 8.9H7.25a.75.75 0 000 1.5h.073a4.502 4.502 0 01-1.468 2.555.75.75 0 101.13 1.009A2.988 2.988 0 007.84 13.9c.074.45.19.882.343 1.288a.75.75 0 001.4-.476 3.002 3.002 0 01-.32-1.212c1.23-.2 2.158-1.28 2.158-2.527v-.211c0-1.28-1.018-2.35-2.291-2.433l-.23-2.766A2.5 2.5 0 019.826 4.5h1.674a.75.75 0 000-1.5H5.75z"})})}),c.jsx("button",{onClick:()=>n("italic"),className:"p-2 rounded hover:bg-gray-600",title:"斜體",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:c.jsx("path",{d:"M7.75 3a.75.75 0 000 1.5h1.259l-2.34 9.363A.75.75 0 007.5 15.5h3.75a.75.75 0 000-1.5H9.991l2.34-9.363A.75.75 0 0011.5 3H7.75z"})})}),c.jsx("button",{onClick:()=>n("insertUnorderedList"),className:"p-2 rounded hover:bg-gray-600",title:"項目符號列表",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:c.jsx("path",{fillRule:"evenodd",d:"M2 5.75A.75.75 0 012.75 5h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10zm0 4.25a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})}),c.jsxs("select",{onChange:e=>n("fontSize",e.target.value),defaultValue:"3",className:"bg-gray-800 text-white rounded p-1.5 text-sm focus:ring-1 focus:ring-indigo-500 focus:outline-none",title:"字體大小",children:[c.jsx("option",{value:"2",children:"小"}),c.jsx("option",{value:"3",children:"正常"}),c.jsx("option",{value:"5",children:"大"})]})]})},tb=({presentation:n,topic:e,onReset:a,onSave:o,isSaved:r})=>{const[u,f]=H.useState(0),[p,y]=H.useState(""),[g,v]=H.useState(n),[b,w]=H.useState(!1),[N,_]=H.useState(1),[E,A]=H.useState(!1),R=q=>new DOMParser().parseFromString(q,"text/html").body.textContent||"";H.useEffect(()=>{try{const q=localStorage.getItem("sermon-speech-volume");q!==null&&_(parseFloat(q))}catch(q){console.error("Could not load volume from local storage",q)}},[]),H.useEffect(()=>{try{localStorage.setItem("sermon-speech-volume",String(N))}catch(q){console.error("Could not save volume to local storage",q)}},[N]),H.useEffect(()=>()=>{window.speechSynthesis&&window.speechSynthesis.speaking&&window.speechSynthesis.cancel()},[]);const L=H.useCallback(()=>{const q=R(p);if(q.trim())if(b)window.speechSynthesis.cancel(),w(!1);else if("speechSynthesis"in window){window.speechSynthesis.cancel();const k=new SpeechSynthesisUtterance(q);k.lang="zh-TW",k.volume=N,k.onend=()=>{w(!1)},k.onerror=F=>{console.error("Speech synthesis error:",F),w(!1)},window.speechSynthesis.speak(k),w(!0)}else alert("抱歉，您的瀏覽器不支援語音合成功能。")},[b,p,N]);H.useEffect(()=>{if(v(n),/<[a-z][\s\S]*>/i.test(n.fullScript))y(n.fullScript);else{const k=n.fullScript.split(`
`).filter(F=>F.trim()!=="").map(F=>`<p>${F}</p>`).join("");y(k)}},[n]),H.useEffect(()=>{const k=setInterval(()=>{f(F=>(F+1)%g.slides.length)},1e4);return()=>clearInterval(k)},[g.slides.length]);const V=(q,k)=>{const F=[...g.slides];F[k]=q,v($=>({...$,slides:F}))},M=q=>{b&&(window.speechSynthesis.cancel(),w(!1));const k={...g,fullScript:q},{id:F,topic:$,savedAt:Z,...ae}=k;o(ae)},G=async()=>{A(!0);try{const{jsPDF:q}=window.jspdf,k=window.html2canvas,F=document.createElement("div");F.style.position="absolute",F.style.left="-9999px",F.style.width="800px",F.style.padding="40px",F.style.fontFamily="Inter, sans-serif",F.style.color="#111827",F.style.background="white",F.innerHTML=`
              <style>
                p { margin-bottom: 1em; line-height: 1.6; }
                ul { list-style-position: inside; padding-left: 1em; }
                li { margin-bottom: 0.5em; }
                b, strong { font-weight: bold; }
                i, em { font-style: italic; }
              </style>
              <h1 style="font-size: 28px; font-weight: bold; margin-bottom: 24px; border-bottom: 2px solid #ddd; padding-bottom: 8px;">${e}</h1>
              <div style="background-color: #f3f4f6; border-left: 4px solid #6366f1; padding: 16px; margin-bottom: 24px; border-radius: 4px;">
                  <h2 style="font-size: 18px; font-weight: 600; margin: 0 0 8px 0;">講道摘要</h2>
                  <p style="font-size: 14px; font-style: italic; color: #4b5563; margin: 0;">${g.summary}</p>
              </div>
              <h2 style="font-size: 20px; font-weight: bold; margin-bottom: 16px;">講道手稿</h2>
              <div>${p}</div>
          `,document.body.appendChild(F);const $=await k(F,{scale:2});document.body.removeChild(F);const Z=$.toDataURL("image/png"),ae=new q("p","mm","a4"),Q=ae.internal.pageSize.getWidth(),Y=$.width,ne=$.height,ee=Y/ne,B=Q/ee;let te=B,de=0;for(ae.addImage(Z,"PNG",0,de,Q,B),te-=ae.internal.pageSize.getHeight();te>0;)de-=ae.internal.pageSize.getHeight(),ae.addPage(),ae.addImage(Z,"PNG",0,de,Q,B),te-=ae.internal.pageSize.getHeight();ae.save(`sermon-${e.replace(/\s+/g,"_").toLowerCase()}.pdf`)}catch(q){console.error("Failed to export PDF:",q),alert("無法匯出 PDF。請檢查主控台是否有錯誤。")}finally{A(!1)}};return c.jsx("div",{className:"w-full max-w-7xl mx-auto animate-fade-in",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[c.jsxs("div",{className:"lg:col-span-3",children:[c.jsx("div",{className:"relative aspect-video",children:g.slides.map((q,k)=>c.jsx(Wv,{slide:q,speakerImageUrl:g.speakerImageUrl,audienceImageUrl:g.audienceImageUrl,isActive:k===u,onUpdate:F=>V(F,k)},k))}),c.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mt-4",children:c.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-500 ease-linear",style:{width:`${(u+1)/g.slides.length*100}%`}})})]}),c.jsxs("div",{className:"lg:col-span-2 bg-gray-800/50 rounded-lg border border-gray-700 flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-600 p-6 pb-3 gap-2",children:[c.jsx("h3",{className:"text-2xl font-bold",children:"講道手稿"}),c.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-gray-400",children:[c.jsx("path",{d:"M8.25 3.75L6 6H4.5A1.5 1.5 0 003 7.5v5A1.5 1.5 0 004.5 14H6l2.25 2.25a.75.75 0 001.25-.53V4.28a.75.75 0 00-1.25-.53z"}),c.jsx("path",{d:"M11.5 6.162a.75.75 0 011.5 0v7.676a.75.75 0 01-1.5 0V6.162zm2.501.334a.75.75 0 011.498-.058l.002.058v7.084l-.001.058a.75.75 0 01-1.498-.058l-.002-.058V6.496z"})]}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:N,onChange:q=>_(parseFloat(q.target.value)),className:"w-20 md:w-24 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-indigo-500","aria-label":"調整音量"})]}),c.jsx("button",{onClick:L,className:"flex items-center space-x-2 px-3 py-1.5 text-sm bg-gray-700 hover:bg-gray-600 rounded-md font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-live":"polite",disabled:!R(p).trim(),"aria-label":b?"停止朗讀":"朗讀手稿",children:b?c.jsxs(c.Fragment,{children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:c.jsx("path",{d:"M5.25 3A2.25 2.25 0 003 5.25v9.5A2.25 2.25 0 005.25 17h9.5A2.25 2.25 0 0017 14.75v-9.5A2.25 2.25 0 0014.75 3h-9.5z"})}),c.jsx("span",{className:"hidden md:inline",children:"停止"})]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:c.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})}),c.jsx("span",{className:"hidden md:inline",children:"朗讀"})]})})]})]}),c.jsxs("div",{className:"mx-6 mb-4 p-4 bg-gray-900/50 border-l-4 border-indigo-500 rounded-r-lg",children:[c.jsx("h4",{className:"font-semibold text-gray-200 mb-1",children:"講道摘要"}),c.jsx("p",{className:"text-sm text-gray-400 italic",children:g.summary})]}),c.jsxs("div",{className:"flex-grow flex flex-col mx-6",style:{minHeight:"340px"},children:[c.jsx(eb,{}),c.jsx("div",{contentEditable:!0,onInput:q=>y(q.currentTarget.innerHTML),dangerouslySetInnerHTML:{__html:p},className:"w-full flex-grow bg-gray-900/50 text-gray-300 leading-relaxed focus:outline-none focus:ring-1 focus:ring-indigo-500 rounded-b-md p-3 overflow-y-auto","aria-label":"講道手稿編輯區",style:{minHeight:"280px"}})]}),c.jsxs("div",{className:"mt-6 p-6 pt-6 border-t border-gray-600 flex flex-col space-y-3",children:[!r&&c.jsx("button",{onClick:()=>M(p),className:"w-full py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 focus:ring-offset-gray-900 transition-colors",children:"儲存講道"}),c.jsxs("button",{onClick:G,disabled:E,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-gray-600 rounded-md shadow-sm text-lg font-medium text-gray-300 bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-gray-900 transition-colors disabled:opacity-50",children:[E?c.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 9.707a1 1 0 011.414 0L9 11.001V3a1 1 0 112 0v8.001l1.293-1.294a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),E?"匯出中...":"匯出為 PDF"]}),c.jsx("button",{onClick:a,className:"w-full py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-gray-900 transition-colors",children:"建立另一篇講道"})]})]})]})})},nb=({presentations:n,onLoad:e,onDelete:a,onBack:o})=>c.jsxs("div",{className:"w-full max-w-3xl bg-gray-800/50 rounded-lg shadow-2xl p-8 border border-gray-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-700",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"已儲存的講道"}),c.jsx("button",{onClick:o,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 rounded-md font-semibold transition-colors",children:"← 返回建立"})]}),n.length===0?c.jsx("p",{className:"text-center text-gray-400 py-8",children:"您沒有已儲存的講道。"}):c.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:n.sort((r,u)=>new Date(u.savedAt).getTime()-new Date(r.savedAt).getTime()).map(r=>c.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg",children:r.topic}),c.jsxs("p",{className:"text-xs text-gray-400",children:["儲存於： ",new Date(r.savedAt).toLocaleString()]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("button",{onClick:()=>e(r),className:"px-4 py-2 text-sm bg-indigo-600 hover:bg-indigo-700 rounded-md font-semibold transition-colors",children:"載入"}),c.jsx("button",{onClick:()=>{confirm("您確定要刪除這篇講道嗎？")&&a(r.id)},className:"p-2 text-gray-400 hover:text-red-500 transition-colors","aria-label":"刪除講道",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},r.id))})]}),np={ethics:["principled","pragmatic","neutral"],politicalStand:["neutral","centrist","left-leaning","right-leaning"],powerfulness:["subtle","direct","authoritative"],sentiment:["optimistic","neutral","realistic","pessimistic"],empathy:["low","medium","high"]},ei={personaEnabled:"啟用 AI 角色",ethics:"道德框架",politicalStand:"政治立場",powerfulness:"語氣力度",sentiment:"情緒",personality:"個性",empathy:"同理心",principled:"有原則的",pragmatic:"務實的",neutral:"中立的",centrist:"中間派","left-leaning":"左傾","right-leaning":"右傾",subtle:"含蓄的",direct:"直接的",authoritative:"權威的",optimistic:"樂觀的",realistic:"現實的",pessimistic:"悲觀的",low:"低",medium:"中",high:"高"},ic={personaEnabled:ei.personaEnabled,ethics:ei.ethics,politicalStand:ei.politicalStand,powerfulness:ei.powerfulness,sentiment:ei.sentiment,personality:ei.personality,empathy:ei.empathy},ib=({label:n,value:e,options:a,onChange:o})=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 rounded-lg bg-gray-700 p-1",children:a.map(r=>c.jsx("button",{type:"button",onClick:()=>o(r),className:`w-full rounded-md px-3 py-2 text-sm font-medium transition capitalize ${e===r?"bg-indigo-600 text-white shadow":"text-gray-300 hover:bg-gray-600/50"}`,children:ei[r]||r},r))})]}),ab=({config:n,onSave:e,onBack:a})=>{const[o,r]=H.useState(n),u=()=>{e(o)},f=()=>{r(ml)},p=(y,g)=>{r(v=>({...v,[y]:g}))};return c.jsxs("div",{className:"w-full max-w-3xl bg-gray-800/50 rounded-lg shadow-2xl p-8 border border-gray-700 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-700",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"AI 神學家角色"}),c.jsx("button",{onClick:a,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 rounded-md font-semibold transition-colors",children:"← 返回建立"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white",children:ic.personaEnabled}),c.jsx("p",{className:"text-sm text-gray-400",children:"自訂 AI 的個性與回應風格。"})]}),c.jsx("button",{type:"button",onClick:()=>p("personaEnabled",!o.personaEnabled),className:`${o.personaEnabled?"bg-indigo-600":"bg-gray-600"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-800`,"aria-pressed":o.personaEnabled,children:c.jsx("span",{className:`${o.personaEnabled?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),c.jsxs("fieldset",{disabled:!o.personaEnabled,className:"space-y-6 transition-opacity duration-300 disabled:opacity-50",children:[Object.keys(np).map(y=>c.jsx(ib,{label:ic[y],value:o[y],options:np[y],onChange:g=>p(y,g)},y)),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"personality",className:"block text-sm font-medium text-gray-300 mb-2",children:ic.personality}),c.jsx("textarea",{id:"personality",value:o.personality,onChange:y=>p("personality",y.target.value),rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition disabled:bg-gray-700/50",placeholder:"描述 AI 的個性..."})]})]}),c.jsxs("div",{className:"pt-4 border-t border-gray-700 flex flex-col sm:flex-row-reverse gap-3",children:[c.jsx("button",{onClick:u,className:"w-full sm:w-auto px-6 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-md font-semibold transition-colors",children:"儲存變更"}),c.jsx("button",{onClick:f,className:"w-full sm:w-auto px-6 py-2 bg-gray-600 hover:bg-gray-500 rounded-md font-semibold transition-colors",children:"重設為預設值"})]})]})]})};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ob=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,o)=>o?o.toUpperCase():a.toLowerCase()),ip=n=>{const e=ob(n);return e.charAt(0).toUpperCase()+e.slice(1)},e0=(...n)=>n.filter((e,a,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===a).join(" ").trim(),lb=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=H.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:r="",children:u,iconNode:f,...p},y)=>H.createElement("svg",{ref:y,...rb,width:e,height:e,stroke:n,strokeWidth:o?Number(a)*24/Number(e):a,className:e0("lucide",r),...!u&&!lb(p)&&{"aria-hidden":"true"},...p},[...f.map(([g,v])=>H.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(n,e)=>{const a=H.forwardRef(({className:o,...r},u)=>H.createElement(ub,{ref:u,iconNode:e,className:e0(`lucide-${sb(ip(n))}`,`lucide-${n}`,o),...r}));return a.displayName=ip(n),a};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ta=We("arrow-left",cb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Cc=We("book-open",db);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],hb=We("book",fb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ap=We("circle-check-big",mb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gb=We("compass",pb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ac=We("file-text",yb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],t0=We("funnel",xb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],bb=We("gamepad-2",vb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Sb=We("graduation-cap",wb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Tb=We("info",Nb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],_b=We("languages",Eb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ab=We("message-circle",Cb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Rb=We("mic",Mb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kb=We("pen-line",Ib);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ub=We("save",Db);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ms=We("search",qb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],sp=We("send",Lb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Vb=We("upload",Gb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ya=We("volume-2",Hb),Pb=({onNavigate:n})=>{const e=[{id:"bible-game",title:"聖經互動",subtitle:"Bible Interactive Game",description:"通過互動遊戲探索聖經故事和神學知識，邊玩邊學習",icon:bb,color:"from-purple-500 to-purple-700",hoverColor:"hover:from-purple-600 hover:to-purple-800"},{id:"biblical-language",title:"語言學習",subtitle:"Biblical Language Learning",description:"學習聖經原文語言：希伯來文和希臘文發音練習與AI反饋",icon:_b,color:"from-amber-500 to-amber-700",hoverColor:"hover:from-amber-600 hover:to-amber-800"},{id:"theology-search",title:"研究助手",subtitle:"Theology Study Assistant",description:"全方位神學研究平台：AI對話、文檔分析、作業輔導和資源搜尋",icon:Ms,color:"from-green-500 to-green-700",hoverColor:"hover:from-green-600 hover:to-green-800"},{id:"sermon",title:"講道稿生成",subtitle:"AI Sermon Generator",description:"使用 AI 快速生成完整的講道稿，包含簡報、講稿和視覺素材",icon:Cc,color:"from-blue-500 to-blue-700",hoverColor:"hover:from-blue-600 hover:to-blue-800"},{id:"theological-journey",title:"神學家記誌",subtitle:"Theologian's Journal",description:"引導你的神學思考旅程：從概念到啟示，透過互動探索信仰深度",icon:gb,color:"from-rose-500 to-rose-700",hoverColor:"hover:from-rose-600 hover:to-rose-800"}];return c.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",children:"AI Christianity Platform"}),c.jsx("p",{className:"text-xl text-gray-300",children:"基督教 AI 工具平台 - 探索信仰，深化學習"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 px-4",children:e.map(a=>{const o=a.icon;return c.jsxs("button",{onClick:()=>n(a.id),className:`group relative overflow-hidden rounded-2xl bg-gradient-to-br ${a.color} ${a.hoverColor} p-8 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl`,children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("div",{className:"mb-6 flex justify-center",children:c.jsx("div",{className:"p-4 bg-white/20 rounded-full backdrop-blur-sm",children:c.jsx(o,{className:"w-12 h-12 text-white"})})}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:a.title}),c.jsx("p",{className:"text-sm text-white/80 mb-4 font-medium",children:a.subtitle}),c.jsx("p",{className:"text-white/90 leading-relaxed",children:a.description})]}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},a.id)})}),c.jsxs("div",{className:"mt-16 text-center text-gray-400 text-sm",children:[c.jsx("p",{children:"選擇一個功能開始您的信仰探索之旅"}),c.jsx("p",{className:"mt-2",children:"Choose a feature to begin your faith exploration journey"})]})]})},n0=[{id:"q1",character:"亞伯拉罕",characterImage:"https://picsum.photos/seed/abraham/100",question:"上帝與我立約，並以一個特定的記號為標誌。這個約主要是關於什麼？",options:["一個新船的承諾。","土地、後裔和祝福的承諾。","建造金字塔的合約。","只吃蔬菜的法令。"],correctAnswerIndex:1,explanation:"亞伯拉罕之約（創世記 12, 15, 17章）是上帝一個基礎性的應許。這個約的記號是割禮，一個象徵分別為聖的身體標記。這個「分別為聖」的主題是洗禮概念的前身。",journalPrompt:{title:"亞伯拉罕之約",content:"約是神聖的承諾。上帝應許亞伯拉罕土地、無數的後裔，並且萬國都將因他得福。這為上帝與人類持續的關係奠定了基礎。"},deepDive:{title:"聖約神學",content:'在希伯來文中，約是 "berit"。它不僅僅是一份合約；它是一個將兩方連結在一起的莊嚴誓言。古代的約通常包含一個儀式或記號，就像割禮一樣。這種具有約束力的關係性承諾的概念，對於理解後來的聖經主題，包括耶穌所立的新約，至關重要。',sources:[{text:"創世記 17:1-14 (NIV)",url:"https://www.biblegateway.com/passage/?search=Genesis+17&version=NIV"},{text:"早期教父論聖約",url:"#"}]}},{id:"q2",character:"摩西",characterImage:"https://picsum.photos/seed/moses/100",question:"在西奈山，我為以色列領受了律法，其中包含許多涉及水的潔淨禮儀。這些禮儀的主要目的是什麼？",options:["在沙漠的炎熱中降溫。","為年度游泳比賽做準備。","潔淨禮儀上的不潔，以恢復親近上帝的機會。","在節期前洗衣服。"],correctAnswerIndex:2,explanation:"利未記的律法（利未記 11-15章）規定用水洗滌，以潔淨個人的禮儀不潔（例如，接觸屍體或患有皮膚病後）。這不是關於身體的骯髒，而是關於處於聖潔的狀態，以便親近聖潔的上帝。水成為了屬靈潔淨的有力象徵。",journalPrompt:{title:"以水潔淨",content:"賜給摩西的律法教導說，上帝是聖潔的，人們需要被潔淨才能親近祂。水是這種禮儀潔淨的主要方式，象徵著從不潔狀態到潔淨狀態的轉變。"},deepDive:{title:"禮儀潔淨與道德潔淨",content:"區分禮儀上的不潔與罪是很重要的。一個人可能在沒有犯罪的情況下變得禮儀上不潔。這些律法教導以色列一個深刻的功課：親近上帝需要聖潔。後來的先知會強調，內心真正的潔淨比外在的儀式更重要，這是施洗約翰和耶穌將會進一步發展的主題。",sources:[{text:"利未記 15:31 (ESV)",url:"https://www.biblegateway.com/passage/?search=Leviticus+15:31&version=ESV"},{text:"希伯來書 9:13-14 (KJV)",url:"https://www.biblegateway.com/passage/?search=Hebrews+9:13-14&version=KJV"}]}},{id:"q5",character:"以西結",characterImage:"https://picsum.photos/seed/ezekiel/100",question:"在流亡巴比倫期間，我傳達了上帝的一個應許，要賜給祂的子民一顆「新心」和一個「新靈」。這個應許主要意味著什麼？",options:["身體上的心臟移植。","對新音樂風格的欣賞。","一種內在的、屬靈的轉變，使人能夠順服上帝。","學習新語言的能力。"],correctAnswerIndex:2,explanation:"以西結書 36:25-27 是一個關鍵的舊約段落，預言了上帝將要進行的內在潔淨和更新工作。上帝應許要用清水潔淨祂的子民，除去他們的「石心」（硬心），並賜給他們一顆「肉心」（軟心），將祂的靈放在他們裡面。這直接預示了基督教洗禮中所象徵的重生和聖靈的內住。",journalPrompt:{title:"新心的應許",content:"先知以西結預言了一個超越外在儀式的新約。上帝應許要從內心深處改變祂的子民，潔淨他們，並賜給他們祂的靈，使他們能夠遵行祂的道。"},deepDive:{title:"舊約中的重生",content:"雖然「重生」一詞是新約的概念，但其根源深植於舊約的應許中。像以西結書 36 章和耶利米書 31:31-34（關於刻在心版上的新約）這樣的段落，都指向了上帝有一天會對人心進行根本性的工作。這不再僅僅是遵守外在的律法，而是擁有一顆被改變的、渴望順服上帝的心。基督教的洗禮正是這個應許實現的標誌。",sources:[{text:"以西結書 36:25-27 (NIV)",url:"https://www.biblegateway.com/passage/?search=Ezekiel+36:25-27&version=NIV"},{text:"耶利米書 31:31-34 (ESV)",url:"https://www.biblegateway.com/passage/?search=Jeremiah+31:31-34&version=ESV"}]}},{id:"q3",character:"施洗約翰",characterImage:"https://picsum.photos/seed/john/100",question:"我在約旦河為人們施洗。我的洗禮是...",options:["悔改的洗，使罪得赦。","加入當地的釣魚俱樂部。","加入羅馬軍隊的入會儀式。","一個沒有意義的文化傳統。"],correctAnswerIndex:0,explanation:"約翰的洗禮是一個強有力的公開宣告。人們承認自己的罪，並歸向神，為即將到來的彌賽亞做準備。它將舊約中水的潔淨主題與個人悔改的迫切呼籲聯繫起來。",journalPrompt:{title:"悔改的洗禮",content:"施洗約翰是舊約與新約之間的橋樑。他在約旦河的洗禮象徵著遠離罪惡，並為迎接彌賽亞耶穌的到來預備心靈。"},deepDive:{title:"浸禮池（Mikveh）與約翰的洗禮",content:"猶太傳統中已有在「浸禮池」中進行禮儀性浸泡以求潔淨的作法。約翰的洗禮在形式上相似，但其信息卻是激進的，將此儀式應用於全以色列，作為全國悔改的標誌。他宣稱，一位比他更偉大的將要來臨，祂不僅用水施洗，還要用聖靈與火施洗。",sources:[{text:"馬可福音 1:4-8 (NIV)",url:"https://www.biblegateway.com/passage/?search=Mark+1:4-8&version=NIV"},{text:"馬太福音 3:11 (ESV)",url:"https://www.biblegateway.com/passage/?search=Matthew+3:11&version=ESV"}]}},{id:"q4",character:"使徒彼得",characterImage:"https://picsum.photos/seed/peter/100",question:"在五旬節那天，我告訴眾人要「悔改，並受洗」，目的是什麼？",options:["為了得到一頓免費的餐點。","為了在耶路撒冷的陽光下降溫。","為了使你們的罪得赦，並領受所賜的聖靈。","為了登記新社區的人口普查。"],correctAnswerIndex:2,explanation:"彼得在使徒行傳第二章的講道標誌著基督教會的誕生。洗禮現在明確地與信靠耶穌基督、藉祂的死與復活赦免罪惡，以及聖靈的內住聯繫在一起。這是進入新約群體的入會儀式。",journalPrompt:{title:"新約的洗禮",content:"基督教的洗禮，如彼得所傳講的，是救贖歷史的高潮。它結合了聖約（加入神的子民）、潔淨（罪得赦免）和新生命（領受聖靈）的主題。"},deepDive:{title:"洗禮：與基督聯合的象徵",content:"使徒保羅後來解釋說，洗禮是在靈性上與耶穌同死、同埋葬、同復活（羅馬書 6:3-4）。當一個人浸入水中時，象徵著舊我罪性的死亡。從水中出來則象徵著在基督裡復活，得著新生命。這是福音本身一個深刻的畫面。",sources:[{text:"使徒行傳 2:38-39 (KJV)",url:"https://www.biblegateway.com/passage/?search=Acts+2:38-39&version=KJV"},{text:"羅馬書 6:3-4 (NIV)",url:"https://www.biblegateway.com/passage/?search=Romans+6:3-4&version=NIV"},{text:"十二使徒遺訓論洗禮（早期教會文獻）",url:"#"}]}},{id:"q6",character:"使徒保羅",characterImage:"https://picsum.photos/seed/paul/100",question:"我在寫給加拉太教會的信中提到，凡受洗歸入基督的，都是「披戴基督」了。這句話的屬靈含義是什麼？",options:["穿上印有基督形象的特殊服裝。","在上帝眼中，我們的身份完全被基督的義所覆蓋。","加入一個名為「基督」的時尚俱樂部。","在洗禮時得到一件新斗篷。"],correctAnswerIndex:1,explanation:"「披戴基督」（加拉太書 3:27）是一個強有力的比喻。它意味著當我們藉著信靠和洗禮與基督聯合時，上帝看我們就不再是看我們有罪的舊我，而是看到基督的完美和公義。我們的身份從根本上被改變了。我們現在是「在基督裡」，有了一個新的地位和家庭。",journalPrompt:{title:"披戴基督",content:"洗禮不僅是洗去罪惡，也是穿上一個新的身份。使徒保羅教導說，在洗禮中，我們披戴了基督自己。我們的舊身份已經過去，我們現在以上帝兒女的身份活在基督的義中。"},deepDive:{title:"在基督裡的身份",content:"保羅神學的核心是「在基督裡」這個概念。這是一種深刻的屬靈聯合。洗禮是這種聯合的外在標誌。正如羅馬書 6 章所解釋的，我們與基督同死、同埋葬、同復活；正如加拉太書所說，我們披戴了祂。這意味著基督的勝利成為我們的勝利，祂的義成為我們的義，祂與父的關係也成為我們的關係。這徹底改變了基督徒看待自己和生活的方式。",sources:[{text:"加拉太書 3:26-27 (NIV)",url:"https://www.biblegateway.com/passage/?search=Galatians+3:26-27&version=NIV"},{text:"歌羅西書 2:12 (ESV)",url:"https://www.biblegateway.com/passage/?search=Colossians+2:12&version=ESV"}]}},{id:"q7",character:"約書亞",characterImage:"https://picsum.photos/seed/joshua/100",question:"當以色列人過約旦河進入應許之地時，我設立了十二塊石頭作為紀念。這個紀念碑的目的是什麼？",options:["為了建造一個游泳池。","作為後代詢問時的見證，紀念上帝使河水乾涸的神蹟。","為了練習舉重運動。","用來建造約書亞的新房子。"],correctAnswerIndex:1,explanation:"約書亞記4:6-7記載，這十二塊石頭是為了讓後代子孫詢問其意義時，父母可以向他們講述上帝如何停住約旦河水，使以色列人得以過河。這顯示了紀念上帝作為和傳承信仰故事的重要性。",journalPrompt:{title:"紀念石的意義",content:"約書亞設立的紀念石提醒我們，信仰需要被記念和傳承。每一個見證上帝作為的標記，都成為向下一代述說神恩的機會。"},deepDive:{title:"記憶與信仰傳承",content:"舊約中充滿了設立紀念碑的例子，從雅各在伯特利立石，到撒母耳的以便以謝石。這些不僅是歷史記錄，更是信仰教育的工具。它們提醒我們上帝的信實，並為下一代提供詢問和學習的機會。基督教的聖餐也是這種紀念傳統的延續。",sources:[{text:"約書亞記 4:1-9 (NIV)",url:"https://www.biblegateway.com/passage/?search=Joshua+4:1-9&version=NIV"},{text:"申命記 6:20-25 (ESV)",url:"https://www.biblegateway.com/passage/?search=Deuteronomy+6:20-25&version=ESV"}]}},{id:"q8",character:"大衛王",characterImage:"https://picsum.photos/seed/david/100",question:"我在詩篇中寫道：「你當將你的重擔卸給耶和華」。這句話在面對人生困難時給我們什麼啟示？",options:["我們應該把所有的行李都扔掉。","我們可以將憂慮和困難交託給上帝，相信祂會扶持我們。","我們應該搬到別的城市。","我們需要聘請更多的助手。"],correctAnswerIndex:1,explanation:"詩篇55:22教導我們，當面對重壓和困難時，我們可以將這些負擔交託給上帝。大衛作為君王經歷了許多挑戰，他學會了依靠上帝的力量而非自己的能力。這是信靠與交託的功課。",journalPrompt:{title:"交託的智慧",content:"大衛的詩篇教導我們，真正的力量來自於學會交託。當我們將重擔卸給上帝時，我們不是在逃避責任，而是在承認上帝的主權和愛護。"},deepDive:{title:"詩篇中的信靠神學",content:"大衛的詩篇不僅是個人情感的表達，更是深刻的神學反思。從詩篇23篇的牧人形象，到詩篇51篇的悔改，再到詩篇139篇對上帝全知的讚嘆，這些詩篇教導我們如何在各種人生境遇中與上帝建立關係。交託不是被動的放棄，而是主動的信靠。",sources:[{text:"詩篇 55:22 (KJV)",url:"https://www.biblegateway.com/passage/?search=Psalm+55:22&version=KJV"},{text:"彼得前書 5:7 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Peter+5:7&version=NIV"}]}},{id:"q9",character:"所羅門王",characterImage:"https://picsum.photos/seed/solomon/100",question:"當上帝問我想要什麼時，我沒有求財富或長壽，而是求什麼？",options:["一座更大的宮殿。","智慧來治理神的百姓。","打敗所有敵人的能力。","成為世界上最富有的人。"],correctAnswerIndex:1,explanation:"列王紀上3:9記載，所羅門求上帝賜給他智慧，使他能夠分辨善惡，好治理神的百姓。這個無私的請求讓上帝喜悅，不僅賜給他智慧，也賜給他財富和尊榮。這教導我們優先次序的重要性。",journalPrompt:{title:"智慧的價值",content:"所羅門的選擇提醒我們，真正的智慧比任何物質財富都更寶貴。當我們尋求上帝的智慧時，我們是在尋求按照神的心意生活的能力。"},deepDive:{title:"智慧文學的貢獻",content:"所羅門不僅以智慧統治以色列，他也為我們留下了豐富的智慧文學，包括箴言、傳道書和部分詩篇。這些書卷教導實用的生活智慧，從人際關係到工作倫理，從言語的力量到財富的適當使用。然而，傳道書也提醒我們，即使是最智慧的人也會發現，離開上帝的人生終究是虛空的。",sources:[{text:"列王紀上 3:5-14 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Kings+3:5-14&version=NIV"},{text:"箴言 9:10 (ESV)",url:"https://www.biblegateway.com/passage/?search=Proverbs+9:10&version=ESV"}]}},{id:"q10",character:"先知以賽亞",characterImage:"https://picsum.photos/seed/isaiah/100",question:"我預言了一位「受苦的僕人」，他將「為我們的過犯受害，為我們的罪孽壓傷」。這個預言指向誰？",options:["巴比倫王尼布甲尼撒。","波斯王居魯士。","彌賽亞耶穌基督。","亞述王撒珥根。"],correctAnswerIndex:2,explanation:"以賽亞書53章是舊約中最明確的彌賽亞預言之一。這位「受苦的僕人」的描述完美地預言了耶穌基督的生平、受死和復活。新約多次引用這段經文來說明耶穌就是應許的彌賽亞。",journalPrompt:{title:"受苦僕人的預言",content:"以賽亞的預言向我們顯示，上帝的救贖計劃從古時就已經確定。彌賽亞不是以征服者的身份來臨，而是以受苦僕人的身份，透過犧牲來拯救世人。"},deepDive:{title:"彌賽亞預言的應驗",content:"以賽亞書53章被稱為「舊約的福音」，因為它如此詳細地預言了彌賽亞的受苦、死亡和勝利。從「他誠然擔當我們的憂患」到「因他受的刑罰我們得平安」，每一個細節都在耶穌身上得到應驗。這種跨越數百年的預言應驗，是聖經神聖啟示的有力證據，也讓我們看見上帝救贖計劃的深度和廣度。",sources:[{text:"以賽亞書 53:3-12 (NIV)",url:"https://www.biblegateway.com/passage/?search=Isaiah+53:3-12&version=NIV"},{text:"使徒行傳 8:32-35 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+8:32-35&version=ESV"}]}},{id:"q11",character:"但以理",characterImage:"https://picsum.photos/seed/daniel/100",question:"在巴比倫的宮廷中，我和我的朋友決定不吃王的膳和王所飲的酒。我們這樣做的主要原因是什麼？",options:["因為我們正在節食減肥。","因為食物味道不好。","為了持守我們對上帝的信仰和律法的要求。","因為我們想要與眾不同。"],correctAnswerIndex:2,explanation:"但以理書1:8記載，但以理立志不以王的膳和王所飲的酒玷污自己。這可能涉及食物是否潔淨、是否獻給偶像等律法問題。但以理在異邦環境中持守信仰，展現了在壓力下保持屬靈忠誠的勇氣。",journalPrompt:{title:"在異地持守信仰",content:"但以理的故事提醒我們，無論在什麼環境中，我們都可以選擇忠於上帝。即使在不友善的環境中，堅持正確的原則往往會得到意想不到的祝福。"},deepDive:{title:"流亡中的見證",content:"但以理和他朋友們的故事展示了如何在世俗環境中活出信仰。他們沒有逃避世界，而是在世界中成為光鹽。從拒食王膳到火窯中的拯救，從夢的解釋到獅子坑的神蹟，這些故事都說明了一個原則：當我們忠於上帝時，上帝必定忠於我們。他們的見證影響了外邦君王，展現了信仰的轉化力量。",sources:[{text:"但以理書 1:8-16 (NIV)",url:"https://www.biblegateway.com/passage/?search=Daniel+1:8-16&version=NIV"},{text:"但以理書 3:16-18 (ESV)",url:"https://www.biblegateway.com/passage/?search=Daniel+3:16-18&version=ESV"}]}},{id:"q12",character:"耶穌基督",characterImage:"https://picsum.photos/seed/jesus/100",question:"我在登山寶訓中說：「虛心的人有福了」。這裡的「虛心」指的是什麼？",options:["心情不好的人。","沒有自信的人。","認識自己靈性貧乏，需要上帝的人。","很少說話的人。"],correctAnswerIndex:2,explanation:"馬太福音5:3中的「虛心」在原文中是「靈裡貧窮」的意思。這不是指物質的貧窮，而是指認識到自己在屬靈上的需要，承認離開上帝就一無所有。這種謙卑的態度是天國子民的第一個特質。",journalPrompt:{title:"靈裡的貧窮",content:"耶穌的八福始於靈裡的貧窮，這提醒我們，進入天國的第一步是認識自己的需要。當我們承認自己的有限和罪性時，我們就為接受上帝的恩典預備了心。"},deepDive:{title:"天國的價值觀",content:"登山寶訓中的八福完全顛覆了世界的價值觀。世界說強者有福，耶穌說虛心的人有福；世界說富足的人有福，耶穌說哀慟的人有福。這些教導不是消極的人生哲學，而是天國的積極價值觀。它們描述了一種新的生活方式，這種生活方式建立在對上帝的信靠和對他人的愛上。",sources:[{text:"馬太福音 5:3-12 (NIV)",url:"https://www.biblegateway.com/passage/?search=Matthew+5:3-12&version=NIV"},{text:"路加福音 6:20-26 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+6:20-26&version=ESV"}]}},{id:"q13",character:"稅吏撒該",characterImage:"https://picsum.photos/seed/zacchaeus/100",question:"當耶穌來到我家後，我做了什麼來表示真正的悔改？",options:["我辭去了稅吏的工作。","我把財產的一半給窮人，並四倍償還我所虧欠的。","我搬到了另一個城市。","我建造了一座新的會堂。"],correctAnswerIndex:1,explanation:"路加福音19:8記載，撒該對主說：「主啊，我把所有的一半給窮人；我若訛詐了誰，就還他四倍。」這不僅是口頭的悔改，更是實際的行動，顯示了真正悔改會帶來生活方式的改變。",journalPrompt:{title:"悔改的果子",content:"撒該的故事告訴我們，真正的悔改不只是內心的改變，還會表現在外在的行動上。當我們真正遇見耶穌時，我們的價值觀和行為都會被轉化。"},deepDive:{title:"救恩與社會公義",content:"撒該的故事美妙地結合了個人救恩與社會公義。他沒有只是獲得心靈的平安就滿足了，而是主動去修復他過去的錯誤行為對他人造成的傷害。這顯示真正的福音是整全的，它不僅拯救靈魂，也轉化我們對財富、權力和關係的態度。撒該的行動回應了舊約中關於公義和憐憫的教導。",sources:[{text:"路加福音 19:1-10 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+19:1-10&version=NIV"},{text:"以西結書 33:14-16 (ESV)",url:"https://www.biblegateway.com/passage/?search=Ezekiel+33:14-16&version=ESV"}]}},{id:"q14",character:"使徒約翰",characterImage:"https://picsum.photos/seed/johnapostle/100",question:"我在約翰福音中記錄了耶穌說的「我就是道路、真理、生命」。這句話的核心信息是什麼？",options:["耶穌是一位偉大的哲學老師。","耶穌是通往父神的唯一道路。","耶穌是最好的旅行嚮導。","耶穌知道很多道理。"],correctAnswerIndex:1,explanation:"約翰福音14:6完整地記錄了耶穌的話：「我就是道路、真理、生命；若不藉著我，沒有人能到父那裡去。」這是基督教信仰的核心宣告，說明耶穌不只是眾多宗教領袖中的一位，而是神與人之間唯一的中保。",journalPrompt:{title:"基督的獨特性",content:"約翰記錄的這句話挑戰我們思考耶穌的身份。祂不是說祂知道道路，而是說祂就是道路。這種排他性的宣告要求我們做出回應：接受或拒絕。"},deepDive:{title:"約翰福音中的「我是」宣告",content:"約翰福音記錄了耶穌的七個「我是」宣告：生命的糧、世界的光、羊的門、好牧人、復活和生命、道路真理生命、真葡萄樹。這些宣告都使用了舊約中上帝自我啟示的「我是」格式（如出埃及記3:14），暗示耶穌的神性。每個宣告都不只是比喻，而是關於耶穌本質的深刻神學陳述。",sources:[{text:"約翰福音 14:6 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+14:6&version=NIV"},{text:"使徒行傳 4:12 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+4:12&version=ESV"}]}},{id:"q15",character:"馬大",characterImage:"https://picsum.photos/seed/martha/100",question:"當我忙於服事而抱怨妹妹馬利亞時，耶穌對我說了什麼？",options:["妳應該雇用更多的僕人。","馬利亞選擇了那上好的福分，是不能奪去的。","妳們兩個都應該去廚房幫忙。","不用準備這麼豐盛的餐點。"],correctAnswerIndex:1,explanation:"路加福音10:42記錄了耶穌的回答：「但是不可少的只有一件；馬利亞已經選擇那上好的福分，是不能奪去的。」耶穌不是批評服事，而是強調靈性追求的優先性和聆聽神話語的重要性。",journalPrompt:{title:"服事與敬拜的平衡",content:"馬大的故事提醒我們，即使是為主做工，也不能取代與主親近的時間。服事很重要，但如果失去了敬拜和聆聽的心，服事也會成為空虛的忙碌。"},deepDive:{title:"行動與默想的整合",content:"馬大和馬利亞的故事常被解讀為行動與默想、服事與敬拜之間的對比。然而，更深層的信息是關於動機和優先次序。馬大的服事本身是好的，但當她讓焦慮和怨恨進入心中時，服事就失去了愛的本質。真正的基督徒生活需要整合馬利亞的聆聽心和馬大的服事手，但都必須源於對基督的愛。",sources:[{text:"路加福音 10:38-42 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+10:38-42&version=NIV"},{text:"詩篇 46:10 (ESV)",url:"https://www.biblegateway.com/passage/?search=Psalm+46:10&version=ESV"}]}},{id:"q16",character:"夏娃",characterImage:"https://picsum.photos/seed/eve/100",question:"在伊甸園中，蛇引誘我吃分別善惡樹的果子時，用了什麼論點？",options:["果子看起來很美味。","吃了就能像神一樣知道善惡。","所有動物都在吃這個果子。","上帝只是在開玩笑。"],correctAnswerIndex:1,explanation:"創世記3:5記載，蛇對夏娃說：「因為神知道，你們吃的日子眼睛就明亮了，你們便如神能知道善惡。」這個試探的核心是要人類追求獨立於上帝的知識和判斷力，想要「像神一樣」。",journalPrompt:{title:"第一次試探",content:"夏娃面對的試探揭示了罪的本質：不相信上帝的良善，渴望自主權，想要成為自己的神。這個模式在人類歷史中不斷重複。"},deepDive:{title:"罪的起源與本質",content:"蛇的試探包含三個元素：懷疑神的話（「神豈是真說...？」）、否認後果（「你們不一定死」）、和應許錯誤的好處（「像神一樣」）。這種試探模式在整本聖經中反覆出現，甚至耶穌在曠野受試探時也面對類似的模式。理解罪的本質幫助我們識別和抵擋現代的試探。",sources:[{text:"創世記 3:1-6 (NIV)",url:"https://www.biblegateway.com/passage/?search=Genesis+3:1-6&version=NIV"},{text:"約翰一書 2:16 (ESV)",url:"https://www.biblegateway.com/passage/?search=1+John+2:16&version=ESV"}]}},{id:"q17",character:"挪亞",characterImage:"https://picsum.photos/seed/noah/100",question:"當上帝吩咐我建造方舟時，洪水還要多久才來臨？",options:["立即就來。","大約120年後。","一個月後。","明天。"],correctAnswerIndex:1,explanation:"根據創世記6:3和後續經文的推算，從上帝宣告審判到洪水來臨，大約經過了120年。在這段漫長的時間裡，挪亞一邊建造方舟，一邊向世人傳講悔改的信息。",journalPrompt:{title:"忍耐的信心",content:"挪亞花了超過一個世紀建造方舟，在這期間必定經歷許多嘲笑和質疑。他的故事教導我們，真實的信心需要長期的堅持和順服。"},deepDive:{title:"上帝的忍耐與人的回應",content:"120年的準備期顯示了上帝極大的忍耐和給人悔改機會的心意。彼得後書2:5稱挪亞為「傳義道的人」，表明他不只是默默建造方舟，更積極呼籲人悔改。然而，只有他的家人回應了。這提醒我們，即使面對長期的拒絕，我們仍要忠心傳講真理。",sources:[{text:"創世記 6:3-22 (NIV)",url:"https://www.biblegateway.com/passage/?search=Genesis+6:3-22&version=NIV"},{text:"彼得後書 2:5 (ESV)",url:"https://www.biblegateway.com/passage/?search=2+Peter+2:5&version=ESV"}]}},{id:"q18",character:"約瑟",characterImage:"https://picsum.photos/seed/joseph/100",question:"當我在埃及成為宰相後，我對賣我為奴的哥哥們說了什麼？",options:["你們要為此付出代價！","從前你們的意思是要害我，但神的意思原是好的。","我再也不想見到你們。","這都是你們應得的。"],correctAnswerIndex:1,explanation:"創世記50:20記載，約瑟對哥哥們說：「從前你們的意思是要害我，但神的意思原是好的，要保全許多人的性命，成就今日的光景。」這顯示了約瑟對神主權的信心和寬恕的心。",journalPrompt:{title:"神的主權與人的選擇",content:"約瑟的故事展現了一個深刻的真理：人的惡意無法阻擋神的美意。神能使用甚至是不公義的事件來成就祂更大的計劃。"},deepDive:{title:"苦難中的信心",content:"約瑟經歷了被兄弟出賣、被誣告下監、被遺忘等一連串的不公。但他從未放棄對神的信心。他的故事預表了基督：被自己人拒絕，經歷苦難，最終成為拯救者。約瑟的寬恕也教導我們，真正的饒恕來自於認識到神的主權和計劃。",sources:[{text:"創世記 50:15-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=Genesis+50:15-21&version=NIV"},{text:"羅馬書 8:28 (ESV)",url:"https://www.biblegateway.com/passage/?search=Romans+8:28&version=ESV"}]}},{id:"q19",character:"米利暗",characterImage:"https://picsum.photos/seed/miriam/100",question:"當以色列人過紅海後，我做了什麼來慶祝？",options:["準備了一場盛宴。","拿著鼓跳舞唱歌讚美神。","立刻倒頭就睡。","開始抱怨食物不足。"],correctAnswerIndex:1,explanation:"出埃及記15:20-21記載，女先知米利暗拿著鼓，眾婦女也跟著出去拿鼓跳舞。她唱道：「你們要歌頌耶和華，因他大大戰勝，將馬和騎馬的投在海中。」這是聖經中最早記載的敬拜讚美場景之一。",journalPrompt:{title:"喜樂的敬拜",content:"米利暗帶領婦女們用音樂、舞蹈和歌聲讚美神，展現了敬拜可以是充滿喜樂和表達力的。當神行奇事時，我們的回應應該是真誠的讚美。"},deepDive:{title:"女性在聖經中的領導角色",content:"米利暗被稱為「女先知」，與摩西和亞倫一起被列為以色列的領袖（彌迦書6:4）。她在敬拜中的領導顯示了女性在神國度工作中的重要角色。然而，她後來因為驕傲而受到管教（民數記12章），提醒我們領導權柄來自神，必須謙卑使用。",sources:[{text:"出埃及記 15:20-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=Exodus+15:20-21&version=NIV"},{text:"彌迦書 6:4 (ESV)",url:"https://www.biblegateway.com/passage/?search=Micah+6:4&version=ESV"}]}},{id:"q20",character:"迦勒",characterImage:"https://picsum.photos/seed/caleb/100",question:"當十二個探子窺探迦南地回來後，我和約書亞說了什麼？",options:["那地的人太強大了，我們無法征服。","我們立刻上去得那地吧！我們足能得勝。","我們應該回埃及。","讓我們先訓練軍隊十年。"],correctAnswerIndex:1,explanation:"民數記13:30記載，迦勒在摩西面前安撫百姓說：「我們立刻上去得那地吧！我們足能得勝。」雖然其他十個探子報惡信，只有迦勒和約書亞相信神的應許。",journalPrompt:{title:"信心勝過恐懼",content:"迦勒看到了與其他探子相同的巨人和堅固城牆，但他的信心使他看見更大的真理：神與他們同在。真實的信心不是否認困難，而是相信神比困難更大。"},deepDive:{title:"專心跟從神",content:"聖經多次描述迦勒「專心跟從耶和華」（民數記32:12）。即使在85歲高齡，他仍然充滿活力和信心，要求得那有巨人居住的希伯崙山地（約書亞記14:10-12）。迦勒的一生教導我們，忠心跟從神會帶來長久的祝福，而信心不因年齡而減退。",sources:[{text:"民數記 13:26-33; 14:6-9 (NIV)",url:"https://www.biblegateway.com/passage/?search=Numbers+13:26-33;14:6-9&version=NIV"},{text:"約書亞記 14:6-15 (ESV)",url:"https://www.biblegateway.com/passage/?search=Joshua+14:6-15&version=ESV"}]}},{id:"q21",character:"路得",characterImage:"https://picsum.photos/seed/ruth/100",question:"當我的婆婆拿俄米要我回摩押老家時，我對她說了什麼？",options:["好的，我現在就走。","妳往哪裡去，我也往那裡去；妳的神就是我的神。","讓我考慮一下。","我需要先回去看看我的家人。"],correctAnswerIndex:1,explanation:"路得記1:16-17記錄了路得美麗的承諾：「妳往哪裡去，我也往那裡去；妳在哪裡住宿，我也在那裡住宿；妳的國就是我的國，妳的神就是我的神。妳在哪裡死，我也在那裡死，也葬在那裡。」",journalPrompt:{title:"忠誠的愛",content:"路得對拿俄米的忠誠，以及她對以色列神的委身，展現了真實的愛與信心。她選擇離開自己的家鄉和神明，跟隨看似沒有前途的婆婆和未知的神。"},deepDive:{title:"外邦人與救贖",content:"路得是摩押人，按照律法本不應該進入以色列會眾。但她的信心和忠誠使她不僅被接納，更成為大衛王的曾祖母，進入了彌賽亞的家譜。她的故事預示了福音將臨到萬國，以及外邦人因信得救的真理。路得記也展現了「救贖者」（goel）的概念，預表基督的救贖工作。",sources:[{text:"路得記 1:16-18 (NIV)",url:"https://www.biblegateway.com/passage/?search=Ruth+1:16-18&version=NIV"},{text:"馬太福音 1:5 (ESV)",url:"https://www.biblegateway.com/passage/?search=Matthew+1:5&version=ESV"}]}},{id:"q22",character:"撒母耳",characterImage:"https://picsum.photos/seed/samuel/100",question:"當我還是小孩子在會幕服事時，夜裡聽見有聲音叫我的名字。那是誰？",options:["祭司以利。","我的母親哈拿。","耶和華神。","我在做夢。"],correctAnswerIndex:2,explanation:"撒母耳記上3章記載，神三次呼喚小撒母耳的名字。起初他以為是以利叫他，但以利指示他說：「你去睡吧，若再呼喚你，你就說：『耶和華啊，請說，僕人敬聽！』」這是撒母耳第一次聽見神的聲音。",journalPrompt:{title:"聆聽神的聲音",content:"撒母耳學會了如何辨認和回應神的聲音。他的態度「請說，僕人敬聽」成為我們與神關係的典範：願意聆聽，準備順服。"},deepDive:{title:"先知的呼召",content:"撒母耳的呼召發生在「耶和華的言語稀少，不常有默示」的時代（撒上3:1）。這提醒我們，即使在屬靈荒涼的時期，神仍在尋找願意聆聽和順服的人。撒母耳後來成為以色列歷史上最偉大的先知之一，膏立了掃羅和大衛兩位王。他的一生展現了忠心聆聽神話語的重要性。",sources:[{text:"撒母耳記上 3:1-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Samuel+3:1-21&version=NIV"},{text:"希伯來書 3:7-8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Hebrews+3:7-8&version=ESV"}]}},{id:"q23",character:"拔示巴",characterImage:"https://picsum.photos/seed/bathsheba/100",question:"我的兒子所羅門能繼承大衛的王位，主要是因為什麼？",options:["他是長子。","他在武術比賽中獲勝。","上帝應許他要作王，大衛也確認了這應許。","他賄賂了所有的大臣。"],correctAnswerIndex:2,explanation:"列王紀上1章記載，當大衛年老時，拔示巴提醒大衛曾指著神起誓說所羅門必接續他作王。先知拿單也證實了這事。這是神的揀選，而非人為的安排。",journalPrompt:{title:"從罪到救贖",content:"拔示巴的故事以大衛的罪開始，但神的恩典使她成為所羅門的母親，甚至進入彌賽亞的家譜。這顯示神能使用破碎的生命成就祂的計劃。"},deepDive:{title:"恩典與主權",content:"拔示巴在馬太福音家譜中被特別提及，這是不尋常的。她的包含提醒我們，神的恩典超越人的過犯。雖然大衛與拔示巴的關係始於罪，但神仍然揀選他們的兒子所羅門繼承王位。這不是縱容罪，而是展現神能在人的軟弱中彰顯祂的憐憫和主權。",sources:[{text:"列王紀上 1:11-31 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Kings+1:11-31&version=NIV"},{text:"馬太福音 1:6 (ESV)",url:"https://www.biblegateway.com/passage/?search=Matthew+1:6&version=ESV"}]}},{id:"q24",character:"以利亞",characterImage:"https://picsum.photos/seed/elijah/100",question:"在迦密山上，我與巴力的先知對決。我向神禱告後發生了什麼？",options:["下了三天三夜的雨。","火從天降，燒盡了祭物、木柴、石頭和水。","巴力的先知自願認輸。","什麼都沒發生。"],correctAnswerIndex:1,explanation:"列王紀上18:38記載：「於是耶和華降下火來，燒盡燔祭、木柴、石頭、塵土，又燒乾溝裡的水。」這個神蹟證明了耶和華是真神，導致百姓俯伏敬拜說：「耶和華是神！耶和華是神！」",journalPrompt:{title:"單獨面對眾人",content:"以利亞一人對抗450個巴力先知和400個亞舍拉先知，展現了對真神的堅定信心。有時候，忠於神的道路是孤獨的，但神必定顯明真理。"},deepDive:{title:"屬靈爭戰的真實性",content:"迦密山的對決不只是先知之間的比賽，而是真假神明之間的較量。以利亞甚至在祭壇周圍挖溝，三次倒水，使神蹟更加明顯。這個事件後，以利亞卻因耶洗別的威脅而逃跑，顯示即使是屬靈偉人也會經歷軟弱。神在何烈山以微小的聲音對他說話，教導我們神的同在不總是在戲劇性的事件中。",sources:[{text:"列王紀上 18:20-40 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Kings+18:20-40&version=NIV"},{text:"列王紀上 19:11-13 (ESV)",url:"https://www.biblegateway.com/passage/?search=1+Kings+19:11-13&version=ESV"}]}},{id:"q25",character:"以利沙",characterImage:"https://picsum.photos/seed/elisha/100",question:"當敘利亞元帥乃縵來找我治療大痲瘋時，我叫他做什麼？",options:["支付大筆金錢。","在約旦河沐浴七次。","獻上一百隻羊。","回家等三天。"],correctAnswerIndex:1,explanation:"列王紀下5:10記載，以利沙打發一個使者對乃縵說：「你去在約旦河中沐浴七回，你的肉就必復原，而得潔淨。」起初乃縵因為這個簡單的命令而生氣，但當他順服時，就得了醫治。",journalPrompt:{title:"謙卑的順服",content:"乃縵必須放下身為大元帥的驕傲，接受看似簡單甚至侮辱的醫治方法。神的道路有時與我們的期待不同，但順服就帶來祝福。"},deepDive:{title:"得救在乎歸回安息",content:"乃縵期待先知會出來行大事，但以利沙連面都不露，只給了一個簡單的指示。這挑戰了乃縵的驕傲和對神蹟的期待。同樣，許多人期待複雜的宗教儀式或偉大的善行才能得救，但福音的呼召是簡單的：相信和悔改。乃縵的醫治也預表外邦人將藉信心得救（路加福音4:27）。",sources:[{text:"列王紀下 5:1-19 (NIV)",url:"https://www.biblegateway.com/passage/?search=2+Kings+5:1-19&version=NIV"},{text:"路加福音 4:27 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+4:27&version=ESV"}]}},{id:"q26",character:"約伯",characterImage:"https://picsum.photos/seed/job/100",question:"在失去一切之後，我對神的回應是什麼？",options:["我詛咒神並離棄祂。","賞賜的是耶和華，收取的也是耶和華，耶和華的名是應當稱頌的。","我要找律師控告神。","從此再也不相信神。"],correctAnswerIndex:1,explanation:"約伯記1:21-22記載，約伯失去所有財產和兒女後，說：「我赤身出於母胎，也必赤身歸回。賞賜的是耶和華，收取的也是耶和華，耶和華的名是應當稱頌的。」在這一切的事上，約伯並不犯罪，也不以神為愚妄。",journalPrompt:{title:"苦難中的信心",content:"約伯的故事挑戰我們：當生命崩潰時，我們如何回應？約伯展現了即使在極度痛苦中，仍能持守對神的信心和敬拜。"},deepDive:{title:"苦難的奧秘",content:"約伯記探討了一個深刻的問題：為什麼義人受苦？約伯的朋友們試圖用「報應神學」解釋，認為苦難必定是罪的結果。但神最後顯明，祂的道路高過人的道路。苦難不總能被簡單解釋，但神仍是主權者。約伯最終看見神自己，這比得到答案更重要（約伯記42:5）。",sources:[{text:"約伯記 1:13-22 (NIV)",url:"https://www.biblegateway.com/passage/?search=Job+1:13-22&version=NIV"},{text:"約伯記 42:1-6 (ESV)",url:"https://www.biblegateway.com/passage/?search=Job+42:1-6&version=ESV"}]}},{id:"q27",character:"耶利米",characterImage:"https://picsum.photos/seed/jeremiah/100",question:"神呼召我作先知時，我的回應是什麼？",options:["我立刻答應。","主啊，我不知怎樣說，因為我是年幼的。","我去找別人來做這工作。","我要求先考慮三天。"],correctAnswerIndex:1,explanation:"耶利米書1:6記載，耶利米對神說：「主耶和華啊，我不知怎樣說，因為我是年幼的。」但神回應說：「你不要說我是年幼的，因為我差遣你到誰那裡去，你都要去；我吩咐你說什麼話，你都要說。」",journalPrompt:{title:"不足感與神的呼召",content:"耶利米感到自己不夠資格，但神的呼召不是基於我們的能力，而是基於祂的揀選和同在。神應許：「我與你同在，要拯救你。」"},deepDive:{title:"流淚的先知",content:"耶利米被稱為「流淚的先知」，因為他預言耶路撒冷將被毀，但百姓不聽。他經歷了監禁、嘲笑和孤立，但仍忠心傳講神的話語。耶利米的事工提醒我們，成功的事奉不是以世人的回應來衡量，而是以對神的忠心來衡量。他的痛苦也預表了基督，為耶路撒冷哀哭。",sources:[{text:"耶利米書 1:4-10 (NIV)",url:"https://www.biblegateway.com/passage/?search=Jeremiah+1:4-10&version=NIV"},{text:"耶利米書 20:7-9 (ESV)",url:"https://www.biblegateway.com/passage/?search=Jeremiah+20:7-9&version=ESV"}]}},{id:"q28",character:"尼希米",characterImage:"https://picsum.photos/seed/nehemiah/100",question:"當我聽說耶路撒冷城牆破損、城門被火焚燒時，我做了什麼？",options:["我忽視這個消息。","我坐下哭泣、禁食禱告神。","我立刻辭職回耶路撒冷。","我寫信責備那些住在耶路撒冷的人。"],correctAnswerIndex:1,explanation:"尼希米記1:4記載：「我聽見這話，就坐下哭泣，悲哀幾日，在天上的神面前禁食祈禱。」尼希米的第一反應不是立即行動，而是帶著破碎的心轉向神。",journalPrompt:{title:"禱告與行動",content:"尼希米的例子展示了禱告與行動的完美結合。他先在神面前傾心吐意，然後在神的引導下採取大膽的行動，最終帶領百姓在52天內重建城牆。"},deepDive:{title:"屬靈復興與物質重建",content:"尼希米不僅重建了城牆，更重要的是他與以斯拉一起帶領屬靈復興。城牆的重建是外在的，但真正的目標是恢復百姓與神的關係。尼希米面對內外的反對，但他的禱告、勇氣和組織能力使這不可能的任務成為可能。他展現了敬虔的領導如何影響整個社群。",sources:[{text:"尼希米記 1:1-11 (NIV)",url:"https://www.biblegateway.com/passage/?search=Nehemiah+1:1-11&version=NIV"},{text:"尼希米記 6:15-16 (ESV)",url:"https://www.biblegateway.com/passage/?search=Nehemiah+6:15-16&version=ESV"}]}},{id:"q29",character:"以斯帖",characterImage:"https://picsum.photos/seed/esther/100",question:"當我需要違背律法去見王以拯救猶太人時，我說了什麼？",options:["這太危險了，我不能做。","我要等到王主動召見我。","我若死就死吧！","讓末底改自己去處理。"],correctAnswerIndex:2,explanation:"以斯帖記4:16記載，以斯帖請求末底改招聚所有猶太人為她禁食三天，然後說：「我若死就死吧！」她願意冒生命危險去拯救她的百姓。",journalPrompt:{title:"為此時而生",content:"末底改對以斯帖說：「焉知你得了王后的位分，不是為現今的機會嗎？」神將我們放在特定的位置，是為了祂的目的。勇氣就是即使害怕，仍然選擇正確的行動。"},deepDive:{title:"隱藏的護理",content:"以斯帖記是聖經中唯一沒有直接提到神名字的書卷，但神的作為卻清晰可見。從以斯帖被選為王后，到王失眠讀歷史，到哈曼的計謀被揭露，每個「巧合」都顯示神在背後的護理。這教導我們，即使在神似乎缺席的時候，祂仍在掌權。以斯帖的故事也啟發了猶太人的普珥節。",sources:[{text:"以斯帖記 4:12-17 (NIV)",url:"https://www.biblegateway.com/passage/?search=Esther+4:12-17&version=NIV"},{text:"以斯帖記 6:1-11 (ESV)",url:"https://www.biblegateway.com/passage/?search=Esther+6:1-11&version=ESV"}]}},{id:"q30",character:"施洗約翰的母親以利沙伯",characterImage:"https://picsum.photos/seed/elizabeth/100",question:"當馬利亞來探訪我時，發生了什麼事？",options:["我們一起做飯。","我腹中的胎兒跳動，我被聖靈充滿。","我們討論天氣。","什麼特別的事都沒發生。"],correctAnswerIndex:1,explanation:"路加福音1:41記載：「以利沙伯一聽馬利亞問安，所懷的胎就在腹裡跳動。以利沙伯且被聖靈充滿。」她大聲喊著說：「你在婦女中是有福的，你所懷的胎也是有福的！」",journalPrompt:{title:"認出救主",content:"甚至在約翰出生前，他就在母腹中因彌賽亞的臨在而跳動。以利沙伯被聖靈充滿，認出馬利亞所懷的是主。真實的屬靈敏銳使我們能認出神的工作。"},deepDive:{title:"兩個奇蹟的誕生",content:"以利沙伯和撒迦利亞年老無子，如同亞伯拉罕和撒拉。約翰的出生本身就是神蹟，預備人心迎接更大的神蹟——基督的降生。以利沙伯稱馬利亞為「我主的母親」，這是新約中第一次有人認出耶穌的神性。兩個女人的對話和馬利亞的頌歌（尊主頌）充滿了舊約的引用，顯示神如何成就祂古老的應許。",sources:[{text:"路加福音 1:39-45 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+1:39-45&version=NIV"},{text:"路加福音 1:46-55 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+1:46-55&version=ESV"}]}},{id:"q31",character:"智慧人（東方博士）",characterImage:"https://picsum.photos/seed/wisemen/100",question:"我們從東方來到耶路撒冷尋找新生王時，獻上了什麼禮物？",options:["金、銀、寶石。","黃金、乳香、沒藥。","食物、衣服、玩具。","書籍、地圖、武器。"],correctAnswerIndex:1,explanation:"馬太福音2:11記載：「進了房子，看見小孩子和他母親馬利亞，就俯伏拜那小孩子，揭開寶盒，拿黃金、乳香、沒藥為禮物獻給他。」這三樣禮物都有深刻的象徵意義。",journalPrompt:{title:"尋求並敬拜",content:"智慧人不辭辛勞地尋找新生王，並獻上最珍貴的禮物。真正的敬拜需要尋求、付出代價，並獻上我們最好的。"},deepDive:{title:"禮物的象徵意義",content:"傳統上，這三樣禮物被賦予象徵意義：黃金代表王權，乳香代表神性（用於敬拜），沒藥代表受苦和死亡（用於安葬）。這些外邦的智慧人認出了猶太人的王，預示福音將傳給萬邦。希律王和耶路撒冷全城的驚慌，對比智慧人的喜樂，顯示人們對彌賽亞的不同反應。",sources:[{text:"馬太福音 2:1-12 (NIV)",url:"https://www.biblegateway.com/passage/?search=Matthew+2:1-12&version=NIV"},{text:"詩篇 72:10-11 (ESV)",url:"https://www.biblegateway.com/passage/?search=Psalm+72:10-11&version=ESV"}]}},{id:"q32",character:"尼哥底母",characterImage:"https://picsum.photos/seed/nicodemus/100",question:"我夜裡來見耶穌時，祂對我說必須怎樣才能見神的國？",options:["必須嚴格遵守所有律法。","必須重生。","必須奉獻所有財產。","必須成為法利賽人。"],correctAnswerIndex:1,explanation:"約翰福音3:3記載，耶穌回答說：「我實實在在地告訴你，人若不重生，就不能見神的國。」這個宣告震撼了尼哥底母，引發了關於屬靈重生的深刻對話。",journalPrompt:{title:"重生的必要",content:"耶穌告訴這位宗教領袖，他需要的不是更多的宗教知識或更好的行為，而是全新的屬靈生命。重生不是我們能做的，而是聖靈的工作。"},deepDive:{title:"從黑夜到光明",content:"尼哥底母「夜裡」來見耶穌，可能是害怕被人看見，但也象徵他屬靈的黑暗。約翰福音三次提到尼哥底母：夜裡的造訪、在公會中為耶穌辯護、以及在耶穌死後與約瑟一起埋葬耶穌。這個進程顯示他從隱密的尋求者變為公開的跟隨者。重生的教導是福音的核心：不是靠行為，而是靠聖靈的更新。",sources:[{text:"約翰福音 3:1-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+3:1-21&version=NIV"},{text:"約翰福音 19:38-42 (ESV)",url:"https://www.biblegateway.com/passage/?search=John+19:38-42&version=ESV"}]}},{id:"q33",character:"撒瑪利亞婦人",characterImage:"https://picsum.photos/seed/samaritan/100",question:"當耶穌在井邊向我要水喝時，祂說祂能給我什麼？",options:["一口新井。","活水，使人永遠不渴。","一個新水罐。","往耶路撒冷的地圖。"],correctAnswerIndex:1,explanation:"約翰福音4:13-14記載，耶穌回答說：「凡喝這水的還要再渴；人若喝我所賜的水就永遠不渴。我所賜的水要在他裡頭成為泉源，直湧到永生。」",journalPrompt:{title:"永生的泉源",content:"我們都在尋找能滿足心靈乾渴的東西。耶穌提供的不是暫時的滿足，而是永恆的生命之水。只有祂能真正滿足人心最深的渴望。"},deepDive:{title:"跨越文化的福音",content:"這個對話打破了多重界限：耶穌與撒瑪利亞人對話（猶太人所輕視的）、與女人單獨對話（不符合當時習俗）、與有道德問題的人對話（她有五個丈夫）。耶穌不僅沒有迴避她，反而向她啟示祂是彌賽亞。這個婦人成為第一位撒瑪利亞的宣教士，全城的人因她的見證來信耶穌。這顯示福音超越所有社會和文化障礙。",sources:[{text:"約翰福音 4:4-42 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+4:4-42&version=NIV"},{text:"以賽亞書 55:1 (ESV)",url:"https://www.biblegateway.com/passage/?search=Isaiah+55:1&version=ESV"}]}},{id:"q34",character:"百夫長",characterImage:"https://picsum.photos/seed/centurion/100",question:"當耶穌要到我家醫治我的僕人時，我對祂說了什麼？",options:["請立刻到我家來。","我不敢當，只要你說一句話，我的僕人就必好了。","我需要你來按手在他身上。","我要先支付醫療費用。"],correctAnswerIndex:1,explanation:"馬太福音8:8記載，百夫長回答說：「主啊，你到我舍下，我不敢當；只要你說一句話，我的僕人就必好了。」耶穌聽見就希奇，說：「我實在告訴你們，這麼大的信心，就是在以色列中，我也沒有遇見過。」",journalPrompt:{title:"權柄的認識",content:"百夫長認識權柄的運作，因此明白耶穌的話語本身就帶有醫治的能力。真實的信心不是看見才信，而是相信神的話語必定成就。"},deepDive:{title:"外邦人的信心",content:"這位羅馬軍官展現了超越許多猶太人的信心。他不僅關心他的僕人（在當時文化中不尋常），更認出耶穌超自然的權柄。耶穌用這個例子預言外邦人將進入天國，而許多本國的子民卻要被趕出去。這個事件預示了福音將傳給萬國，以及信心比種族血統更重要。",sources:[{text:"馬太福音 8:5-13 (NIV)",url:"https://www.biblegateway.com/passage/?search=Matthew+8:5-13&version=NIV"},{text:"路加福音 7:1-10 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+7:1-10&version=ESV"}]}},{id:"q35",character:"抹大拉的馬利亞",characterImage:"https://picsum.photos/seed/marymagdalene/100",question:"復活的主日早晨，我是第一個看見什麼的人？",options:["空的墳墓和復活的耶穌。","守墓的羅馬兵丁。","門徒們聚集。","大祭司。"],correctAnswerIndex:0,explanation:"約翰福音20章記載，抹大拉的馬利亞清早到墳墓那裡，看見石頭從墳墓挪開了。她成為第一個看見空墳墓，以及第一個見到復活基督的人。耶穌託付她去告訴門徒這好消息。",journalPrompt:{title:"第一個見證人",content:"神選擇一位女性作為復活的第一個見證人，這在當時的文化中是革命性的。馬利亞的忠心愛慕使她最先經歷復活的喜樂。"},deepDive:{title:"從黑暗到光明",content:"抹大拉的馬利亞曾被七個鬼附著，耶穌釋放了她（路加福音8:2）。她從深深的綑綁中得釋放，成為最忠心的跟隨者之一，甚至在十字架下和空墳墓前都有她的身影。她的生命轉變和對基督的委身，使她有資格成為復活的第一個見證人。在當時女性見證不被法庭接受的文化中，這更顯示神對女性的重視和祂國度價值觀的顛覆性。",sources:[{text:"約翰福音 20:1-18 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+20:1-18&version=NIV"},{text:"路加福音 8:1-3 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+8:1-3&version=ESV"}]}},{id:"q36",character:"多馬",characterImage:"https://picsum.photos/seed/thomas/100",question:"當其他門徒告訴我他們見到復活的主時，我說了什麼？",options:["我完全相信你們。","我非看見他手上的釘痕，不能信。","這太不可思議了！","我們去慶祝吧！"],correctAnswerIndex:1,explanation:"約翰福音20:25記載，多馬說：「我非看見他手上的釘痕，用指頭探入那釘痕，又用手探入他的肋旁，我總不信。」八天後，耶穌向他顯現，邀請他觸摸祂的傷痕。",journalPrompt:{title:"疑惑到相信",content:"耶穌沒有責備多馬的疑惑，反而滿足了他的需要。但耶穌也說：「你因看見了我才信；那沒有看見就信的有福了。」信心不需要所有的證據，但神願意在我們的軟弱中遇見我們。"},deepDive:{title:"誠實的懷疑",content:"多馬常被稱為「疑惑的多馬」，但他的懷疑是誠實的，而不是頑固的不信。當他看見主時，他做出了福音書中最偉大的認信之一：「我的主！我的神！」（約20:28）。這是第一次有門徒直接稱呼耶穌為神。傳統認為多馬後來成為宣教士，將福音傳到印度，最終為信仰殉道。他從疑惑者變為殉道者的旅程，鼓勵我們帶著誠實的問題來到神面前。",sources:[{text:"約翰福音 20:24-29 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+20:24-29&version=NIV"},{text:"約翰福音 11:16 (ESV)",url:"https://www.biblegateway.com/passage/?search=John+11:16&version=ESV"}]}},{id:"q37",character:"呂底亞",characterImage:"https://picsum.photos/seed/lydia/100",question:"在腓立比，當保羅傳道時，發生了什麼事？",options:["沒有人願意聽。","主開導我的心，使我留心聽保羅所講的話。","眾人趕走保羅。","會堂被關閉。"],correctAnswerIndex:1,explanation:"使徒行傳16:14記載：「有一個賣紫色布匹的婦人，名叫呂底亞，是推雅推喇城的人，素來敬拜神。她聽見了，主就開導她的心，叫她留心聽保羅所講的話。」她和她一家都受了洗。",journalPrompt:{title:"心門的開啟",content:"呂底亞已經是敬拜神的人，但她需要主開導她的心才能真正明白福音。得救不僅是人的決定，更是神的工作。她的家成為保羅在歐洲的第一個宣教基地。"},deepDive:{title:"歐洲的第一位信徒",content:"呂底亞是歐洲第一位基督徒，她的歸信標誌著福音從亞洲傳到歐洲的歷史性時刻。作為成功的女商人（賣紫色布匹是高級生意），她運用自己的資源和影響力支持保羅的事工。她的家成為腓立比教會的聚會地點。腓立比書是保羅寫給這教會的信，充滿了喜樂和感恩，部分原因可能是呂底亞和其他信徒的慷慨支持。",sources:[{text:"使徒行傳 16:11-15 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+16:11-15&version=NIV"},{text:"腓立比書 1:3-7 (ESV)",url:"https://www.biblegateway.com/passage/?search=Philippians+1:3-7&version=ESV"}]}},{id:"q38",character:"亞居拉和百基拉",characterImage:"https://picsum.photos/seed/aquila/100",question:"當我們遇見年輕傳道人亞波羅時，我們做了什麼？",options:["公開批評他的教導。","私下將神的道給他講解更加詳細。","把他趕出會堂。","忽視他的存在。"],correctAnswerIndex:1,explanation:"使徒行傳18:26記載：「他在會堂裡放膽講道，百基拉、亞居拉聽見，就接他來，將神的道給他講解更加詳細。」這對夫婦以智慧和愛心幫助亞波羅成長。",journalPrompt:{title:"謙卑的服事",content:"這對製作帳棚的夫婦展現了如何以恩慈和智慧造就他人。他們沒有公開糾正亞波羅，而是私下幫助他，使他成為更有效的神國工人。"},deepDive:{title:"平信徒的影響力",content:"亞居拉和百基拉是保羅同工的平信徒夫婦，他們以製作帳棚為生，同時積極參與宣教工作。保羅在多處書信中提到他們，稱他們為同工，甚至說他們「為我的命將自己的頸項置之度外」（羅馬書16:3-4）。他們的家成為教會聚會的地方。這對夫婦展示了平信徒如何在神的國度中發揮重大影響力，不需要全職事奉才能有效服事神。",sources:[{text:"使徒行傳 18:24-28 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+18:24-28&version=NIV"},{text:"羅馬書 16:3-5 (ESV)",url:"https://www.biblegateway.com/passage/?search=Romans+16:3-5&version=ESV"}]}},{id:"q39",character:"腓利門",characterImage:"https://picsum.photos/seed/philemon/100",question:"保羅寫信給我，請求我如何對待逃跑的奴隸阿尼西母？",options:["嚴厲懲罰他。","把他送回羅馬。","接納他，不再當奴僕，乃是高過奴僕，當作親愛的兄弟。","賣掉他。"],correctAnswerIndex:2,explanation:"腓利門書16節記載，保羅請求腓利門接納阿尼西母，「不再是奴僕，乃是高過奴僕，當作親愛的兄弟」。這封信展現了福音如何轉化社會關係。",journalPrompt:{title:"福音的轉化力量",content:"基督信仰沒有立即廢除奴隸制度，但它從內部轉化了這種關係。在基督裡，主人和奴隸都是弟兄。這種革命性的平等觀最終導致奴隸制的廢除。"},deepDive:{title:"饒恕與和解",content:"這封寫給腓利門的私人信件被包含在聖經中，因為它展現了福音如何處理人際衝突和社會不公。阿尼西母可能偷了主人的東西後逃跑，遇見保羅並成為基督徒。保羅沒有命令腓利門釋放阿尼西母，但他暗示這應該是結果。這種溫和但堅定的勸說方式，教導我們如何在權力不平等的情況下促進和解與公義。",sources:[{text:"腓利門書 1:8-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=Philemon+1:8-21&version=NIV"},{text:"加拉太書 3:28 (ESV)",url:"https://www.biblegateway.com/passage/?search=Galatians+3:28&version=ESV"}]}},{id:"q40",character:"提摩太",characterImage:"https://picsum.photos/seed/timothy/100",question:"保羅寫信提醒我，不可因為什麼而叫人小看我？",options:["我的財富不多。","我年輕。","我沒有受過高等教育。","我不是猶太人。"],correctAnswerIndex:1,explanation:"提摩太前書4:12記載：「不可叫人小看你年輕，總要在言語、行為、愛心、信心、清潔上，都作信徒的榜樣。」保羅鼓勵年輕的提摩太不要因年齡而自卑。",journalPrompt:{title:"忠心勝過年齡",content:"提摩太雖然年輕，卻被委以重任牧養以弗所教會。神不看外貌或年齡，祂看重的是忠心和品格。年輕人可以在信仰上成為榜樣。"},deepDive:{title:"屬靈父子",content:"保羅與提摩太的關係展現了屬靈導師的美好典範。保羅稱提摩太為「我親愛的兒子」、「因信主作我真兒子的」。提摩太從小被敬虔的外祖母羅以和母親友尼基教導聖經（提後1:5，3:15）。他後來成為保羅最信任的同工之一。保羅寫給他的兩封書信充滿了實用的牧會建議和深情的關懷，是跨代門徒訓練的經典範例。",sources:[{text:"提摩太前書 4:12-16 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Timothy+4:12-16&version=NIV"},{text:"提摩太後書 1:3-7 (ESV)",url:"https://www.biblegateway.com/passage/?search=2+Timothy+1:3-7&version=ESV"}]}},{id:"q41",character:"雅各（主的兄弟）",characterImage:"https://picsum.photos/seed/jamesbrother/100",question:"在我的書信中，我如何描述真實的信心？",options:["信心只要存在心裡就夠了。","沒有行為的信心是死的。","信心不需要任何證明。","信心是私人的事，不需要表現出來。"],correctAnswerIndex:1,explanation:"雅各書2:26寫道：「身體沒有靈魂是死的，信心沒有行為也是死的。」雅各強調真實的信心必然會在生活中結出行為的果子。",journalPrompt:{title:"活潑的信心",content:"雅各的教導不是與保羅的因信稱義矛盾，而是補充。保羅強調我們是因信得救，不是靠行為；雅各強調真實的信心必然產生行為。兩者都是真理。"},deepDive:{title:"從懷疑到領袖",content:"雅各是耶穌的親弟弟，但在耶穌傳道期間，他並不相信耶穌（約7:5）。復活後的顯現改變了他（林前15:7），他成為耶路撒冷教會的領袖。優西比烏記載他被稱為「公義的雅各」，因為他的敬虔生活。他最終為信仰殉道。雅各書是最實用的新約書信之一，強調信心與生活的結合，特別關注社會公義、馴服舌頭、和禱告的力量。",sources:[{text:"雅各書 2:14-26 (NIV)",url:"https://www.biblegateway.com/passage/?search=James+2:14-26&version=NIV"},{text:"加拉太書 2:9 (ESV)",url:"https://www.biblegateway.com/passage/?search=Galatians+2:9&version=ESV"}]}},{id:"q42",character:"西拉",characterImage:"https://picsum.photos/seed/silas/100",question:"當我和保羅在腓立比監獄中被毒打並關押時，我們做了什麼？",options:["大聲抱怨不公。","約在半夜，我們禱告唱詩讚美神。","計畫逃獄。","放棄了信仰。"],correctAnswerIndex:1,explanation:"使徒行傳16:25記載：「約在半夜，保羅和西拉禱告唱詩讚美神，眾囚犯也側耳而聽。」忽然地大震動，監門全開，眾囚犯的鎖鍊也都鬆開了。禁卒和他全家因此信主。",journalPrompt:{title:"患難中的讚美",content:"保羅和西拉在極端痛苦中選擇讚美神。他們的見證不只感動了獄卒，也成為歷代信徒在患難中的榜樣。真實的信心在逆境中更加閃耀。"},deepDive:{title:"同工的力量",content:"西拉（又名西拉斯）是耶路撒冷教會的領袖，被選為將使徒會議決定帶給外邦教會的使者。當保羅和巴拿巴分開後，西拉成為保羅第二次宣教旅程的夥伴。他不只是助手，更是同等的同工，被稱為先知。他與保羅一起經歷了腓立比的監獄、帖撒羅尼迦的暴亂、和庇哩亞的歡迎。後來他協助彼得寫信（彼前5:12）。他的事工展示了忠心同工的重要性。",sources:[{text:"使徒行傳 16:16-34 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+16:16-34&version=NIV"},{text:"帖撒羅尼迦前書 1:1 (ESV)",url:"https://www.biblegateway.com/passage/?search=1+Thessalonians+1:1&version=ESV"}]}},{id:"q43",character:"亞波羅",characterImage:"https://picsum.photos/seed/apollos/100",question:"當我在以弗所傳道時，我對舊約聖經的知識如何？",options:["我完全不懂聖經。","最有學問，最能講解聖經，但只曉得約翰的洗禮。","我只讀過新約。","我從不引用聖經。"],correctAnswerIndex:1,explanation:"使徒行傳18:24-25形容亞波羅「是有學問的，最能講解聖經。這人已經在主的道上受了教訓，心裡火熱，將耶穌的事詳細講論教訓人；只是他單曉得約翰的洗禮。」",journalPrompt:{title:"持續的學習",content:"亞波羅雖然有學問、熱心，但仍需要更完全的認識。他謙卑地接受百基拉和亞居拉的指導，成為更有效的工人。我們都需要持續學習和成長。"},deepDive:{title:"恩賜與合一",content:"亞波羅後來在哥林多大有能力，公開駁倒猶太人，引聖經證明耶穌是基督（徒18:28）。但哥林多教會有人說「我是屬亞波羅的」，引起分黨（林前1:12）。保羅在林前3:5-9澄清：他栽種，亞波羅澆灌，但使植物生長的是神。他們都是神的同工。這教導我們，不同的恩賜和角色應該互補，而非競爭。保羅甚至勸亞波羅去哥林多（林前16:12），顯示他們之間的合一。",sources:[{text:"使徒行傳 18:24-28 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+18:24-28&version=NIV"},{text:"哥林多前書 3:4-9 (ESV)",url:"https://www.biblegateway.com/passage/?search=1+Corinthians+3:4-9&version=ESV"}]}},{id:"q44",character:"腓利（執事）",characterImage:"https://picsum.photos/seed/philipdeacon/100",question:"當聖靈引導我去曠野的路上時，我遇見了誰？",options:["一位羅馬將軍。","一位埃提阿伯的太監，正在讀以賽亞書。","一群盜賊。","耶路撒冷的祭司。"],correctAnswerIndex:1,explanation:"使徒行傳8:27-35記載，腓利遇見一位埃提阿伯太監，正在讀以賽亞書53章。腓利向他講解這段經文指向耶穌，太監立刻要求受洗，成為非洲第一位基督徒。",journalPrompt:{title:"聖靈的引導",content:"腓利順服聖靈的引導，離開撒馬利亞的復興，去曠野只向一個人傳福音。神看重每一個靈魂。我們需要敏銳於聖靈的帶領，即使看似不合邏輯。"},deepDive:{title:"從管飯食到傳福音",content:"腓利原本被選為七位執事之一，管理飯食服事寡婦（徒6:1-6）。但他不滿足於此，成為強有力的佈道家。司提反殉道後，他將福音帶到撒馬利亞，帶領許多人歸主，甚至行神蹟。與太監的相遇後，他又被聖靈提去，在沿海一帶傳道。多年後，保羅訪問他在該撒利亞的家，他有四個女兒都作先知（徒21:8-9）。腓利的一生展示忠心從小事開始，但可以發展成偉大的事工。",sources:[{text:"使徒行傳 8:26-40 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+8:26-40&version=NIV"},{text:"使徒行傳 21:8-9 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+21:8-9&version=ESV"}]}},{id:"q45",character:"哥尼流",characterImage:"https://picsum.photos/seed/cornelius/100",question:"作為外邦人，神用什麼方式告訴我要邀請彼得來我家？",options:["透過夢。","天使在異象中向我顯現。","我在聖殿聽見聲音。","保羅來拜訪我。"],correctAnswerIndex:1,explanation:"使徒行傳10:3-6記載：「有一天，約在申初，他在異象中明明看見神的一個使者進去，到他那裡，說：哥尼流。」天使指示他派人到約帕去請彼得來。同時，神也給彼得異象，預備他打破猶太傳統去外邦人家。",journalPrompt:{title:"福音跨越藩籬",content:"哥尼流是敬畏神的外邦人，但直到彼得來傳講耶穌，他才完全明白福音。神同時預備了尋求者和傳道者。福音是為萬民預備的。"},deepDive:{title:"教會歷史的轉捩點",content:"哥尼流是羅馬百夫長，卻虔誠敬拜以色列的神。他樂善好施，常常禱告。他的歸信標誌著教會歷史的重大轉變：外邦人可以不經過猶太律法直接成為基督徒。當聖靈降在哥尼流和他家人身上時，彼得驚奇地說：「這些人既受了聖靈，與我們一樣，誰能禁止用水給他們施洗呢？」（徒10:47）。這個事件成為後來耶路撒冷會議的關鍵先例（徒15章）。",sources:[{text:"使徒行傳 10:1-48 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+10:1-48&version=NIV"},{text:"使徒行傳 11:1-18 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+11:1-18&version=ESV"}]}},{id:"q46",character:"巴拿巴",characterImage:"https://picsum.photos/seed/barnabas/100",question:"我的名字「巴拿巴」是什麼意思？",options:["大力士","勸慰子","智慧者","勇士"],correctAnswerIndex:1,explanation:"使徒行傳4:36記載：「有一個利未人，生在居比路，名叫約瑟，使徒稱他為巴拿巴（巴拿巴翻出來就是勸慰子）。」他的名字完美描述了他的恩賜和性格。",journalPrompt:{title:"鼓勵者的恩賜",content:"巴拿巴看見別人的潛力，願意給人第二次機會。他引薦保羅給使徒，給馬可第二次服事的機會。教會需要更多像巴拿巴這樣的鼓勵者。"},deepDive:{title:"好人與犧牲",content:"聖經形容巴拿巴是「好人，被聖靈充滿，大有信心」（徒11:24）。他賣了田產，將錢財帶來放在使徒腳前。當保羅歸主後沒人敢接納他時，巴拿巴勇敢為他擔保。他邀請保羅一起在安提阿服事，甚至主動讓保羅成為主要的講道者。後來他們因馬可的事分開，巴拿巴選擇給馬可第二次機會。保羅後來承認馬可對他有益處（提後4:11），證明巴拿巴的眼光是對的。",sources:[{text:"使徒行傳 4:36-37 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+4:36-37&version=NIV"},{text:"使徒行傳 15:36-41 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+15:36-41&version=ESV"}]}},{id:"q47",character:"以巴弗",characterImage:"https://picsum.photos/seed/epaphras/100",question:"保羅如何描述我為歌羅西教會的禱告？",options:["偶爾為他們禱告。","常常竭力為你們祈求，願你們在神一切的旨意上得以完全。","從不為他們禱告。","只在主日為他們禱告。"],correctAnswerIndex:1,explanation:"歌羅西書4:12記載，保羅說：「有你們那裡的人，作基督耶穌僕人的以巴弗問你們安。他在禱告之間，常為你們竭力的祈求，願你們在神一切的旨意上得以完全，信心充足，能站立得穩。」",journalPrompt:{title:"代禱的事工",content:"以巴弗可能建立了歌羅西教會，但他最大的事工是恆切的代禱。有時神呼召我們的事工不在前線，而是在禱告的密室中。忠心的代禱是有永恆價值的服事。"},deepDive:{title:"無名英雄",content:"以巴弗的名字在新約中只出現兩次，但每次都與禱告有關。保羅稱他為「親愛的同工」和「我一同坐監的」（門1:23）。他可能因福音的緣故與保羅同時被監禁。雖然他沒有像保羅那樣寫書信或建立眾多教會，但他忠心的代禱和服事卻被記錄在聖經中。教會需要更多像以巴弗這樣願意在背後竭力禱告的無名英雄。",sources:[{text:"歌羅西書 4:12-13 (NIV)",url:"https://www.biblegateway.com/passage/?search=Colossians+4:12-13&version=NIV"},{text:"歌羅西書 1:7-8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Colossians+1:7-8&version=ESV"}]}},{id:"q48",character:"非比",characterImage:"https://picsum.photos/seed/phoebe/100",question:"保羅如何介紹我給羅馬教會？",options:["普通信徒。","堅革哩教會的女執事，素來幫助許多人。","我的學生。","一位訪客。"],correctAnswerIndex:1,explanation:"羅馬書16:1-2記載：「我對你們舉薦我們的姊妹非比，她是堅革哩教會中的女執事。請你們為主接待她，合乎聖徒的體統。她在何事上要你們幫助，你們就幫助她，因她素來幫助許多人，也幫助了我。」",journalPrompt:{title:"服事的榜樣",content:"非比很可能是帶著羅馬書信去羅馬的人。她被稱為執事，是教會中有職分的服事者，也是許多人的幫助者。女性在早期教會擔任重要角色。"},deepDive:{title:"女性在教會中的角色",content:"非比被稱為「執事」（diakonos），與提摩太前書3:8-13中執事的資格用的是同一個詞。她也被稱為「幫助者」（prostatis），這個詞有領袖、庇護人的意思。她可能是富有的商人，資助保羅和其他工人。羅馬書16章提到多位女性同工：百基拉（保羅稱她為同工）、馬利亞（為你們多受勞苦）、土非拿氏和土富撒氏（在主裡勞碌）。早期教會中，女性積極參與各種服事。",sources:[{text:"羅馬書 16:1-2 (NIV)",url:"https://www.biblegateway.com/passage/?search=Romans+16:1-2&version=NIV"},{text:"羅馬書 16:3-16 (ESV)",url:"https://www.biblegateway.com/passage/?search=Romans+16:3-16&version=ESV"}]}},{id:"q49",character:"馬可（約翰馬可）",characterImage:"https://picsum.photos/seed/mark/100",question:"在第一次宣教旅程中，我做了什麼導致保羅不再信任我？",options:["我偷了奉獻。","我在旁非利亞離開他們，回耶路撒冷去了。","我公開批評保羅。","我從未跟他們一起去。"],correctAnswerIndex:1,explanation:"使徒行傳13:13記載：「保羅和他的同人從帕弗開船，來到旁非利亞的別加，約翰就離開他們，回耶路撒冷去。」這導致保羅在第二次旅程時拒絕帶馬可同行，引發他與巴拿巴的分歧。",journalPrompt:{title:"失敗後的恢復",content:"馬可的早期失敗沒有定義他的一生。巴拿巴給他第二次機會，最終連保羅都承認他的價值。我們都會失敗，但神能恢復和使用願意成長的人。"},deepDive:{title:"從失敗到福音作者",content:"馬可的母親馬利亞家中是早期教會的聚會地點（徒12:12）。他曾服事保羅、巴拿巴和彼得。雖然他在第一次宣教旅程中退出，但後來他成長成熟。保羅在晚年寫信給提摩太時說：「你來的時候，要把馬可帶來，因為他在傳道的事上於我有益處」（提後4:11）。彼得稱他為「我兒子馬可」（彼前5:13）。最重要的是，神使用他寫下馬可福音，成為四福音中最早寫成的。",sources:[{text:"使徒行傳 15:36-41 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+15:36-41&version=NIV"},{text:"提摩太後書 4:11 (ESV)",url:"https://www.biblegateway.com/passage/?search=2+Timothy+4:11&version=ESV"}]}},{id:"q50",character:"老底嘉教會",characterImage:"https://picsum.photos/seed/laodicea/100",question:"在啟示錄中，主對我們教會最嚴厲的責備是什麼？",options:["你們太窮了。","你們被迫害。","你們也不冷也不熱，我必從我口中把你吐出去。","你們太熱心了。"],correctAnswerIndex:2,explanation:"啟示錄3:16記載，主說：「你既如溫水，也不冷也不熱，所以我必從我口中把你吐出去。」老底嘉教會的問題是自滿和屬靈的不冷不熱。",journalPrompt:{title:"危險的不冷不熱",content:"老底嘉教會自以為富足，卻不知道自己在屬靈上是「困苦、可憐、貧窮、瞎眼、赤身的」。自滿是屬靈生命最危險的敵人。主呼籲：「我勸你向我買火煉的金子，叫你富足。」"},deepDive:{title:"七個教會的最後警告",content:"老底嘉是啟示錄七個教會中最後一個，也是唯一沒有受到任何稱讚的。這城市以銀行業、羊毛工業和眼藥聞名，導致屬靈的驕傲。它的水源是溫的，既不像希拉波立的熱水有療效，也不像歌羅西的冷水可解渴。主站在門外叩門（啟3:20），顯示祂已被排除在教會活動之外。這封信對今天富裕但屬靈冷淡的教會是嚴厲的警告。",sources:[{text:"啟示錄 3:14-22 (NIV)",url:"https://www.biblegateway.com/passage/?search=Revelation+3:14-22&version=NIV"},{text:"何西阿書 12:8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Hosea+12:8&version=ESV"}]}}],pl=[{id:"l1",name:"迦勒底的吾珥",era:"先祖時期",position:{top:"75%",left:"70%"},questId:"q1"},{id:"l2",name:"西奈山",era:"出埃及時期",position:{top:"55%",left:"45%"},questId:"q2",dependency:"l1"},{id:"l7",name:"約旦河東岸",era:"征服時期",position:{top:"45%",left:"52%"},questId:"q7",dependency:"l2"},{id:"l8",name:"耶路撒冷宮殿",era:"王國時期",position:{top:"42%",left:"48%"},questId:"q8",dependency:"l7"},{id:"l9",name:"基遍",era:"王國鼎盛期",position:{top:"40%",left:"47%"},questId:"q9",dependency:"l8"},{id:"l10",name:"耶路撒冷聖殿",era:"先知時期",position:{top:"43%",left:"49%"},questId:"q10",dependency:"l9"},{id:"l5",name:"巴比倫",era:"流亡時期",position:{top:"60%",left:"65%"},questId:"q5",dependency:"l10"},{id:"l11",name:"巴比倫宮殿",era:"流亡時期",position:{top:"62%",left:"67%"},questId:"q11",dependency:"l5"},{id:"l3",name:"約旦河",era:"新約先驅",position:{top:"40%",left:"50%"},questId:"q3",dependency:"l11"},{id:"l12",name:"加利利山上",era:"耶穌時期",position:{top:"35%",left:"49%"},questId:"q12",dependency:"l3"},{id:"l13",name:"耶利哥",era:"耶穌時期",position:{top:"44%",left:"50%"},questId:"q13",dependency:"l12"},{id:"l4",name:"耶路撒冷",era:"使徒時期",position:{top:"42%",left:"48%"},questId:"q4",dependency:"l13"},{id:"l14",name:"以弗所",era:"使徒時期",position:{top:"32%",left:"38%"},questId:"q14",dependency:"l4"},{id:"l15",name:"伯大尼",era:"耶穌時期",position:{top:"43%",left:"51%"},questId:"q15",dependency:"l14"},{id:"l6",name:"哥林多",era:"教會時期",position:{top:"30%",left:"35%"},questId:"q6",dependency:"l15"},{id:"l16",name:"伊甸園",era:"創世時期",position:{top:"80%",left:"68%"},questId:"q16",dependency:"l6"},{id:"l17",name:"亞拉臘山",era:"洪水時期",position:{top:"70%",left:"55%"},questId:"q17",dependency:"l16"},{id:"l18",name:"埃及",era:"先祖時期",position:{top:"65%",left:"42%"},questId:"q18",dependency:"l17"},{id:"l19",name:"紅海邊",era:"出埃及時期",position:{top:"58%",left:"46%"},questId:"q19",dependency:"l18"},{id:"l20",name:"加低斯巴尼亞",era:"曠野時期",position:{top:"52%",left:"47%"},questId:"q20",dependency:"l19"},{id:"l21",name:"伯利恆",era:"士師時期",position:{top:"43%",left:"49%"},questId:"q21",dependency:"l20"},{id:"l22",name:"示羅",era:"士師時期",position:{top:"41%",left:"48%"},questId:"q22",dependency:"l21"},{id:"l23",name:"大衛城",era:"王國時期",position:{top:"42%",left:"49%"},questId:"q23",dependency:"l22"},{id:"l24",name:"迦密山",era:"王國分裂期",position:{top:"38%",left:"47%"},questId:"q24",dependency:"l23"},{id:"l25",name:"撒瑪利亞",era:"王國分裂期",position:{top:"40%",left:"48%"},questId:"q25",dependency:"l24"},{id:"l26",name:"烏斯地",era:"先祖傳說期",position:{top:"72%",left:"58%"},questId:"q26",dependency:"l25"},{id:"l27",name:"耶利米之井",era:"王國末期",position:{top:"43%",left:"48%"},questId:"q27",dependency:"l26"},{id:"l28",name:"波斯書珊城",era:"回歸時期",position:{top:"55%",left:"73%"},questId:"q28",dependency:"l27"},{id:"l29",name:"波斯帝國",era:"回歸時期",position:{top:"58%",left:"70%"},questId:"q29",dependency:"l28"},{id:"l30",name:"猶大山地",era:"耶穌降生前",position:{top:"44%",left:"50%"},questId:"q30",dependency:"l29"},{id:"l31",name:"伯利恆野地",era:"耶穌降生",position:{top:"43%",left:"49%"},questId:"q31",dependency:"l30"},{id:"l32",name:"耶路撒冷城內",era:"耶穌時期",position:{top:"42%",left:"48%"},questId:"q32",dependency:"l31"},{id:"l33",name:"敘加城",era:"耶穌時期",position:{top:"39%",left:"48%"},questId:"q33",dependency:"l32"},{id:"l34",name:"迦百農",era:"耶穌時期",position:{top:"36%",left:"49%"},questId:"q34",dependency:"l33"},{id:"l35",name:"墓園",era:"復活時期",position:{top:"42%",left:"48%"},questId:"q35",dependency:"l34"},{id:"l36",name:"馬可樓",era:"復活後",position:{top:"42%",left:"49%"},questId:"q36",dependency:"l35"},{id:"l37",name:"推雅推喇",era:"使徒時期",position:{top:"33%",left:"40%"},questId:"q37",dependency:"l36"},{id:"l38",name:"哥林多",era:"使徒時期",position:{top:"30%",left:"35%"},questId:"q38",dependency:"l37"},{id:"l39",name:"歌羅西",era:"使徒時期",position:{top:"32%",left:"41%"},questId:"q39",dependency:"l38"},{id:"l40",name:"小亞細亞",era:"使徒時期",position:{top:"34%",left:"39%"},questId:"q40",dependency:"l39"},{id:"l41",name:"耶路撒冷議會",era:"使徒時期",position:{top:"42%",left:"48%"},questId:"q41",dependency:"l40"},{id:"l42",name:"該撒利亞",era:"使徒時期",position:{top:"37%",left:"47%"},questId:"q42",dependency:"l41"},{id:"l43",name:"安提阿",era:"使徒時期",position:{top:"28%",left:"52%"},questId:"q43",dependency:"l42"},{id:"l44",name:"腓立比",era:"使徒時期",position:{top:"25%",left:"36%"},questId:"q44",dependency:"l43"},{id:"l45",name:"以弗所教會",era:"使徒時期",position:{top:"32%",left:"38%"},questId:"q45",dependency:"l44"},{id:"l46",name:"堅革哩",era:"使徒時期",position:{top:"31%",left:"35%"},questId:"q46",dependency:"l45"},{id:"l47",name:"亞歷山大",era:"使徒時期",position:{top:"50%",left:"40%"},questId:"q47",dependency:"l46"},{id:"l48",name:"凱撒利亞",era:"使徒時期",position:{top:"37%",left:"47%"},questId:"q48",dependency:"l47"},{id:"l49",name:"羅馬",era:"使徒時期",position:{top:"22%",left:"20%"},questId:"q49",dependency:"l48"},{id:"l50",name:"老底嘉",era:"啟示錄時期",position:{top:"33%",left:"41%"},questId:"q50",dependency:"l49"}],op=[{id:"level1",name:"信仰的根基",locationIds:["l1","l2","l7"],discussionPrompts:["「聖約」的概念如何改變您對與上帝關係的看法？","為什麼身體上的潔淨在舊約中如此重要，它如何指向更深層次的屬靈現實？","約書亞設立紀念石的做法對今天的信仰傳承有何啟示？"]},{id:"level2",name:"王國的智慧",locationIds:["l8","l9","l10"],discussionPrompts:["大衛在詩篇中表達的信靠與交託，如何幫助我們面對現代生活的壓力？","所羅門選擇智慧而非財富的故事，對我們的人生優先次序有何挑戰？","以賽亞的「受苦僕人」預言如何幫助我們理解救贖的本質？"]},{id:"level3",name:"流亡與盼望",locationIds:["l5","l11"],discussionPrompts:["以西結關於「新心」的應許如何為耶穌的教導和基督教洗禮鋪路？","但以理在異邦環境中持守信仰的經歷，對現代基督徒有何實用意義？"]},{id:"level4",name:"彌賽亞的來臨",locationIds:["l3","l12","l13","l15"],discussionPrompts:["悔改在施洗約翰的事工中扮演什麼角色？它與我們今天對洗禮的理解有何關聯？","耶穌的「八福」如何挑戰世俗的價值觀？","撒該的悔改行動如何示範真正的生命改變？","馬大和馬利亞的故事如何幫助我們平衡服事與靈修？"]},{id:"level5",name:"教會的建立",locationIds:["l4","l14","l6"],discussionPrompts:["根據彼得在五旬節的講道，洗禮與領受聖靈之間有什麼關係？","約翰記錄的「我是道路、真理、生命」如何確立基督信仰的獨特性？","「披戴基督」對基督徒的日常生活有何實際意義？"]},{id:"level6",name:"創造與洪水",locationIds:["l16","l17","l18"],discussionPrompts:["夏娃面對試探的經歷如何幫助我們理解罪的本質和抵擋試探的方法？","挪亞的順服和忍耐對我們在不信的世代中持守信仰有何啟示？","約瑟從被賣到成為宰相的經歷如何展現神的主權和護理？"]},{id:"level7",name:"出埃及與曠野",locationIds:["l19","l20","l21"],discussionPrompts:["米利暗的讚美和領導力對今天的教會女性事奉有何啟發？","迦勒的信心和堅持如何激勵我們面對人生的挑戰？","路得對拿俄米的忠誠如何展現盟約關係的美好？"]},{id:"level8",name:"士師與王國初期",locationIds:["l22","l23","l24"],discussionPrompts:["撒母耳如何成為士師與君王制度之間的橋樑？","拔示巴的故事如何提醒我們罪的後果和神的憐憫？","以利亞對抗巴力的經歷對今天面對屬靈爭戰有何教導？"]},{id:"level9",name:"先知與苦難",locationIds:["l25","l26","l27"],discussionPrompts:["以利沙的神蹟事工如何延續以利亞的使命？","約伯的苦難和信心對我們理解苦難神學有何貢獻？","耶利米在艱難時期的忠心如何鼓勵我們在逆境中堅持？"]},{id:"level10",name:"回歸與重建",locationIds:["l28","l29","l30"],discussionPrompts:["尼希米的領導和組織能力對今天的教會建造有何啟示？","以斯帖的勇氣如何教導我們「為這樣的時刻而生」的使命感？","以利沙伯與馬利亞的相遇如何展現舊新約之間的連結？"]},{id:"level11",name:"耶穌的事工",locationIds:["l31","l32","l33","l34"],discussionPrompts:["東方智慧人尋找耶穌的旅程對我們尋求神有何啟發？","尼哥底母「重生」的對話如何幫助我們理解救恩的本質？","撒瑪利亞婦人與耶穌的對話如何打破文化和宗教的障礙？","百夫長的信心如何超越猶太人的理解？"]},{id:"level12",name:"復活與見證",locationIds:["l35","l36","l37","l38"],discussionPrompts:["抹大拉的馬利亞作為第一位復活見證人有何重要性？","多馬的懷疑和相信如何幫助我們處理信仰中的疑惑？","呂底亞成為第一位歐洲信徒的故事有何宣教意義？","亞居拉和百基拉夫婦的配搭事奉如何示範家庭宣教？"]},{id:"level13",name:"早期教會",locationIds:["l39","l40","l41","l42"],discussionPrompts:["腓利門書如何處理基督教倫理與當時社會制度的張力？","保羅對提摩太的栽培如何展現屬靈導師的重要性？","雅各書如何平衡信心與行為的教導？","西拉與保羅的宣教夥伴關係有何啟發？"]},{id:"level14",name:"使徒擴展",locationIds:["l43","l44","l45","l46"],discussionPrompts:["亞波羅被百基拉和亞居拉指教的故事對謙卑學習有何啟示？","腓利向埃提阿伯太監傳福音的經歷如何示範聖靈引導的宣教？","哥尼流的故事如何標誌福音向外邦人開放的轉折點？","巴拿巴的鼓勵恩賜如何建造早期教會？"]},{id:"level15",name:"教會的完全",locationIds:["l47","l48","l49","l50"],discussionPrompts:["以巴弗為歌羅西教會的竭力禱告對我們的代禱事工有何教導？","非比被保羅稱為「執事」和「幫助者」對女性事奉有何意義？","馬可從失敗到恢復的經歷如何鼓勵我們在事奉中重新得力？","老底嘉教會的不冷不熱對今天的教會有何警醒？"]}],i0=H.createContext(void 0),jb=({children:n})=>{const[e,a]=H.useState(()=>{const w=localStorage.getItem("bible-game-completed-quests");if(w)try{return new Set(JSON.parse(w))}catch{return new Set}return new Set}),[o,r]=H.useState(()=>{const w=localStorage.getItem("bible-game-journal-entries");if(w)try{return JSON.parse(w)}catch{return[]}return[]}),[u,f]=H.useState(Wg.NIV),[p,y]=H.useState(!1);H.useEffect(()=>{localStorage.setItem("bible-game-completed-quests",JSON.stringify(Array.from(e)))},[e]),H.useEffect(()=>{localStorage.setItem("bible-game-journal-entries",JSON.stringify(o))},[o]);const g=H.useMemo(()=>{const w=new Set;return pl.forEach(N=>{var _;if(!N.dependency)w.add(N.id);else{const E=(_=pl.find(A=>A.id===N.dependency))==null?void 0:_.questId;E&&e.has(E)&&w.add(N.id)}}),w},[e]),v=H.useCallback((w,N)=>{a(_=>new Set(_).add(w)),r(_=>[..._,{...N,id:w}])},[]),b=H.useMemo(()=>({completedQuests:e,unlockedLocations:g,journalEntries:o,bibleVersion:u,isFreeChoiceMode:p,completeQuest:v,setBibleVersion:f,setIsFreeChoiceMode:y}),[e,g,o,u,p,v]);return c.jsx(i0.Provider,{value:b,children:n})},Ci=()=>{const n=H.useContext(i0);if(n===void 0)throw new Error("useGame must be used within a GameProvider");return n};var a0=(n=>(n.NIV="NIV",n.ESV="ESV",n.KJV="KJV",n))(a0||{});const Bb={"book-open":c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),x:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),check:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),lightbulb:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-11.25H10.5a6.01 6.01 0 001.5 11.25v.25m0 0h.01M12 18v-5.25m0 0a6.01 6.01 0 00-1.5-11.25H10.5a6.01 6.01 0 00-1.5 11.25v.25m0 0h.01M12 18v-5.25m0 0a6.01 6.01 0 011.5-11.25H10.5a6.01 6.01 0 01-1.5 11.25v.25m0 0h.01"})}),unlock:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75M10.5 13.5V18c0 .414.336.75.75.75h3c.414 0 .75-.336.75-.75v-4.5M10.5 13.5h3.75"})}),lock:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),sparkles:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.456-2.456L12.5 18l1.178-.398a3.375 3.375 0 002.456-2.456L16.5 14.25l.398 1.178a3.375 3.375 0 002.456 2.456L20.5 18l-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),list:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),loader:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})},Fe=({name:n,className:e="w-6 h-6"})=>c.jsx("div",{className:e,children:Bb[n]}),zb=[{id:"gen",nameChinese:"創世記",nameEnglish:"Genesis",chapters:50,testament:"OT"},{id:"exo",nameChinese:"出埃及記",nameEnglish:"Exodus",chapters:40,testament:"OT"},{id:"lev",nameChinese:"利未記",nameEnglish:"Leviticus",chapters:27,testament:"OT"},{id:"num",nameChinese:"民數記",nameEnglish:"Numbers",chapters:36,testament:"OT"},{id:"deu",nameChinese:"申命記",nameEnglish:"Deuteronomy",chapters:34,testament:"OT"},{id:"jos",nameChinese:"約書亞記",nameEnglish:"Joshua",chapters:24,testament:"OT"},{id:"jdg",nameChinese:"士師記",nameEnglish:"Judges",chapters:21,testament:"OT"},{id:"rut",nameChinese:"路得記",nameEnglish:"Ruth",chapters:4,testament:"OT"},{id:"1sa",nameChinese:"撒母耳記上",nameEnglish:"1 Samuel",chapters:31,testament:"OT"},{id:"2sa",nameChinese:"撒母耳記下",nameEnglish:"2 Samuel",chapters:24,testament:"OT"},{id:"1ki",nameChinese:"列王紀上",nameEnglish:"1 Kings",chapters:22,testament:"OT"},{id:"2ki",nameChinese:"列王紀下",nameEnglish:"2 Kings",chapters:25,testament:"OT"},{id:"1ch",nameChinese:"歷代志上",nameEnglish:"1 Chronicles",chapters:29,testament:"OT"},{id:"2ch",nameChinese:"歷代志下",nameEnglish:"2 Chronicles",chapters:36,testament:"OT"},{id:"ezr",nameChinese:"以斯拉記",nameEnglish:"Ezra",chapters:10,testament:"OT"},{id:"neh",nameChinese:"尼希米記",nameEnglish:"Nehemiah",chapters:13,testament:"OT"},{id:"est",nameChinese:"以斯帖記",nameEnglish:"Esther",chapters:10,testament:"OT"},{id:"job",nameChinese:"約伯記",nameEnglish:"Job",chapters:42,testament:"OT"},{id:"psa",nameChinese:"詩篇",nameEnglish:"Psalms",chapters:150,testament:"OT"},{id:"pro",nameChinese:"箴言",nameEnglish:"Proverbs",chapters:31,testament:"OT"},{id:"ecc",nameChinese:"傳道書",nameEnglish:"Ecclesiastes",chapters:12,testament:"OT"},{id:"sng",nameChinese:"雅歌",nameEnglish:"Song of Solomon",chapters:8,testament:"OT"},{id:"isa",nameChinese:"以賽亞書",nameEnglish:"Isaiah",chapters:66,testament:"OT"},{id:"jer",nameChinese:"耶利米書",nameEnglish:"Jeremiah",chapters:52,testament:"OT"},{id:"lam",nameChinese:"耶利米哀歌",nameEnglish:"Lamentations",chapters:5,testament:"OT"},{id:"ezk",nameChinese:"以西結書",nameEnglish:"Ezekiel",chapters:48,testament:"OT"},{id:"dan",nameChinese:"但以理書",nameEnglish:"Daniel",chapters:12,testament:"OT"},{id:"hos",nameChinese:"何西阿書",nameEnglish:"Hosea",chapters:14,testament:"OT"},{id:"jol",nameChinese:"約珥書",nameEnglish:"Joel",chapters:3,testament:"OT"},{id:"amo",nameChinese:"阿摩司書",nameEnglish:"Amos",chapters:9,testament:"OT"},{id:"oba",nameChinese:"俄巴底亞書",nameEnglish:"Obadiah",chapters:1,testament:"OT"},{id:"jon",nameChinese:"約拿書",nameEnglish:"Jonah",chapters:4,testament:"OT"},{id:"mic",nameChinese:"彌迦書",nameEnglish:"Micah",chapters:7,testament:"OT"},{id:"nam",nameChinese:"那鴻書",nameEnglish:"Nahum",chapters:3,testament:"OT"},{id:"hab",nameChinese:"哈巴谷書",nameEnglish:"Habakkuk",chapters:3,testament:"OT"},{id:"zep",nameChinese:"西番雅書",nameEnglish:"Zephaniah",chapters:3,testament:"OT"},{id:"hag",nameChinese:"哈該書",nameEnglish:"Haggai",chapters:2,testament:"OT"},{id:"zec",nameChinese:"撒迦利亞書",nameEnglish:"Zechariah",chapters:14,testament:"OT"},{id:"mal",nameChinese:"瑪拉基書",nameEnglish:"Malachi",chapters:4,testament:"OT"}],Ob=[{id:"mat",nameChinese:"馬太福音",nameEnglish:"Matthew",chapters:28,testament:"NT"},{id:"mrk",nameChinese:"馬可福音",nameEnglish:"Mark",chapters:16,testament:"NT"},{id:"luk",nameChinese:"路加福音",nameEnglish:"Luke",chapters:24,testament:"NT"},{id:"jhn",nameChinese:"約翰福音",nameEnglish:"John",chapters:21,testament:"NT"},{id:"act",nameChinese:"使徒行傳",nameEnglish:"Acts",chapters:28,testament:"NT"},{id:"rom",nameChinese:"羅馬書",nameEnglish:"Romans",chapters:16,testament:"NT"},{id:"1co",nameChinese:"哥林多前書",nameEnglish:"1 Corinthians",chapters:16,testament:"NT"},{id:"2co",nameChinese:"哥林多後書",nameEnglish:"2 Corinthians",chapters:13,testament:"NT"},{id:"gal",nameChinese:"加拉太書",nameEnglish:"Galatians",chapters:6,testament:"NT"},{id:"eph",nameChinese:"以弗所書",nameEnglish:"Ephesians",chapters:6,testament:"NT"},{id:"php",nameChinese:"腓立比書",nameEnglish:"Philippians",chapters:4,testament:"NT"},{id:"col",nameChinese:"歌羅西書",nameEnglish:"Colossians",chapters:4,testament:"NT"},{id:"1th",nameChinese:"帖撒羅尼迦前書",nameEnglish:"1 Thessalonians",chapters:5,testament:"NT"},{id:"2th",nameChinese:"帖撒羅尼迦後書",nameEnglish:"2 Thessalonians",chapters:3,testament:"NT"},{id:"1ti",nameChinese:"提摩太前書",nameEnglish:"1 Timothy",chapters:6,testament:"NT"},{id:"2ti",nameChinese:"提摩太後書",nameEnglish:"2 Timothy",chapters:4,testament:"NT"},{id:"tit",nameChinese:"提多書",nameEnglish:"Titus",chapters:3,testament:"NT"},{id:"phm",nameChinese:"腓利門書",nameEnglish:"Philemon",chapters:1,testament:"NT"},{id:"heb",nameChinese:"希伯來書",nameEnglish:"Hebrews",chapters:13,testament:"NT"},{id:"jas",nameChinese:"雅各書",nameEnglish:"James",chapters:5,testament:"NT"},{id:"1pe",nameChinese:"彼得前書",nameEnglish:"1 Peter",chapters:5,testament:"NT"},{id:"2pe",nameChinese:"彼得後書",nameEnglish:"2 Peter",chapters:3,testament:"NT"},{id:"1jn",nameChinese:"約翰一書",nameEnglish:"1 John",chapters:5,testament:"NT"},{id:"2jn",nameChinese:"約翰二書",nameEnglish:"2 John",chapters:1,testament:"NT"},{id:"3jn",nameChinese:"約翰三書",nameEnglish:"3 John",chapters:1,testament:"NT"},{id:"jud",nameChinese:"猶大書",nameEnglish:"Jude",chapters:1,testament:"NT"},{id:"rev",nameChinese:"啟示錄",nameEnglish:"Revelation",chapters:22,testament:"NT"}],Jb=(n,e,a="CUVMPT")=>{const o=`${n.nameEnglish}+${e}`;return`https://www.biblegateway.com/passage/?search=${encodeURIComponent(o)}&version=${a}`},Yb=()=>{const{bibleVersion:n}=Ci(),[e,a]=H.useState("NT"),[o,r]=H.useState(null),[u,f]=H.useState(1),p=e==="OT"?zb:Ob,y=v=>{r(v),f(1)},g=()=>{if(o){const v=Jb(o,u,n);window.open(v,"_blank","noopener,noreferrer")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:()=>{a("OT"),r(null)},className:`px-6 py-3 rounded-lg font-bold transition-all ${e==="OT"?"bg-amber-800 text-white shadow-lg":"bg-amber-100 text-amber-900 hover:bg-amber-200"}`,children:"舊約聖經 (39卷)"}),c.jsx("button",{onClick:()=>{a("NT"),r(null)},className:`px-6 py-3 rounded-lg font-bold transition-all ${e==="NT"?"bg-amber-800 text-white shadow-lg":"bg-amber-100 text-amber-900 hover:bg-amber-200"}`,children:"新約聖經 (27卷)"})]}),!o&&c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:["選擇書卷 (",e==="OT"?"舊約":"新約",")"]}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 max-h-96 overflow-y-auto",children:p.map(v=>c.jsxs("button",{onClick:()=>y(v),className:"p-3 bg-amber-50 hover:bg-amber-100 border-2 border-amber-300 rounded-lg text-left transition-all hover:shadow-md",children:[c.jsx("div",{className:"font-bold text-amber-900",children:v.nameChinese}),c.jsx("div",{className:"text-xs text-amber-700 mt-1",children:v.nameEnglish}),c.jsxs("div",{className:"text-xs text-amber-600 mt-1",children:[v.chapters," 章"]})]},v.id))})]}),o&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:()=>r(null),className:"text-amber-800 hover:text-amber-900 font-semibold text-sm",children:"← 返回書卷選擇"}),c.jsxs("div",{className:"bg-amber-100 p-4 rounded-lg border-2 border-amber-300",children:[c.jsx("h3",{className:"text-2xl font-bold text-amber-900",children:o.nameChinese}),c.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[o.nameEnglish," · 共 ",o.chapters," 章"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"選擇章節："}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("select",{value:u,onChange:v=>f(parseInt(v.target.value)),className:"flex-1 bg-white border-2 border-amber-300 text-amber-900 rounded-lg px-4 py-2 font-semibold focus:ring-2 focus:ring-amber-500 focus:border-amber-500",children:Array.from({length:o.chapters},(v,b)=>b+1).map(v=>c.jsxs("option",{value:v,children:["第 ",v," 章"]},v))}),c.jsx("button",{onClick:g,className:"px-6 py-2 bg-amber-800 hover:bg-amber-700 text-white font-bold rounded-lg transition-all shadow-md hover:shadow-lg",children:"閱讀經文"})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-amber-900 mb-2",children:"快速跳轉："}),c.jsx("div",{className:"grid grid-cols-10 gap-2 max-h-64 overflow-y-auto",children:Array.from({length:o.chapters},(v,b)=>b+1).map(v=>c.jsx("button",{onClick:()=>f(v),className:`p-2 rounded font-semibold transition-all ${u===v?"bg-amber-800 text-white":"bg-amber-100 text-amber-900 hover:bg-amber-200"}`,children:v},v))})]}),c.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-600 p-4 rounded-r-lg",children:c.jsxs("p",{className:"text-sm text-amber-900",children:[c.jsx("strong",{children:"提示："}),"點擊「閱讀經文」按鈕將在新視窗中打開 Bible Gateway， 使用 ",n," 版本閱讀 ",o.nameChinese," 第 ",u," 章。"]})})]})]})},Fb=({onClose:n})=>{const{journalEntries:e}=Ci(),[a,o]=H.useState("journal");return c.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",role:"dialog","aria-modal":"true","aria-labelledby":"journal-title",children:c.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-4xl border-4 border-amber-900 text-stone-900 p-6 relative max-h-[90vh] flex flex-col",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h2",{id:"journal-title",className:"text-4xl font-bold text-amber-900",style:{fontFamily:"'Trajan Pro', serif"},children:"智慧卷軸"}),c.jsx("button",{onClick:n,className:"text-stone-600 hover:text-stone-900 transition-colors rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100","aria-label":"關閉日誌",children:c.jsx(Fe,{name:"x",className:"w-8 h-8"})})]}),c.jsxs("div",{className:"flex gap-2 mb-6 border-b-2 border-amber-300",children:[c.jsxs("button",{onClick:()=>o("journal"),className:`px-6 py-3 font-bold transition-all relative ${a==="journal"?"text-amber-900 bg-amber-100/70":"text-amber-700 hover:text-amber-900 hover:bg-amber-50/50"}`,children:["📖 任務日誌",a==="journal"&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-amber-800"})]}),c.jsxs("button",{onClick:()=>o("bible"),className:`px-6 py-3 font-bold transition-all relative ${a==="bible"?"text-amber-900 bg-amber-100/70":"text-amber-700 hover:text-amber-900 hover:bg-amber-50/50"}`,children:["📜 聖經閱讀",a==="bible"&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-amber-800"})]})]}),c.jsxs("div",{className:"overflow-y-auto flex-grow pr-2",children:[a==="journal"&&c.jsx("div",{children:e.length===0?c.jsx("p",{className:"text-center text-stone-700 mt-8",children:"您的日誌是空的。完成任務以收集智慧。"}):c.jsx("div",{className:"space-y-4",children:e.map(r=>c.jsxs("div",{className:"p-4 bg-amber-50/50 border-l-4 border-amber-800 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-xl text-amber-900",children:r.title}),c.jsx("p",{className:"mt-1 text-stone-800",children:r.content})]},r.id))})}),a==="bible"&&c.jsx(Yb,{})]})]})})},Kb=()=>{const{bibleVersion:n,setBibleVersion:e,journalEntries:a}=Ci(),[o,r]=H.useState(!1),[u,f]=H.useState(!1),p=()=>{a.length===0?f(!0):r(!0)};return c.jsxs(c.Fragment,{children:[c.jsxs("header",{className:"p-4 bg-stone-900 bg-opacity-40 text-white shadow-lg flex items-center justify-between flex-wrap gap-4",children:[c.jsx("h1",{className:"text-xl md:text-3xl font-extrabold",style:{fontFamily:"'Trajan Pro', serif"},children:"聖言之旅: 探索『唯獨聖經』認證的信仰"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{htmlFor:"bible-version",className:"text-sm font-semibold",children:"版本："}),c.jsx("select",{id:"bible-version",value:n,onChange:y=>e(y.target.value),className:"bg-stone-700 border border-stone-600 text-white text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block p-2",children:Object.values(a0).map(y=>c.jsx("option",{value:y,children:y},y))})]}),c.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-amber-800 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 transform hover:scale-105","aria-label":"開啟智慧卷軸",children:[c.jsx(Fe,{name:"book-open",className:"w-5 h-5"}),c.jsx("span",{className:"hidden sm:inline",children:"日誌"})]})]})]}),u&&c.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",onClick:()=>f(!1),children:c.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-2xl border-4 border-amber-900 text-stone-900 p-8 relative",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},onClick:y=>y.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("h2",{className:"text-3xl font-bold text-amber-900",style:{fontFamily:"'Trajan Pro', serif"},children:"📜 如何開始您的旅程"}),c.jsx("button",{onClick:()=>f(!1),className:"text-stone-600 hover:text-stone-900 transition-colors","aria-label":"關閉",children:c.jsx(Fe,{name:"x",className:"w-8 h-8"})})]}),c.jsxs("div",{className:"space-y-4 text-stone-800",children:[c.jsx("p",{className:"text-lg font-semibold",children:"歡迎來到聖言之旅！您的智慧卷軸目前是空的。"}),c.jsxs("div",{className:"bg-amber-50/70 border-l-4 border-amber-600 p-4 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"📖 任務日誌功能："}),c.jsx("p",{className:"mb-2",children:"完成地圖上的任務以解鎖智慧內容。每完成一個任務，您將獲得："}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[c.jsx("li",{children:"聖經知識與洞見"}),c.jsx("li",{children:"神學智慧的記錄"}),c.jsx("li",{children:"屬靈成長的里程碑"})]})]}),c.jsxs("div",{className:"bg-amber-50/70 border-l-4 border-amber-600 p-4 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"📜 聖經閱讀功能："}),c.jsx("p",{children:"即使沒有完成任務，您也可以使用「聖經閱讀」標籤："}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[c.jsx("li",{children:"瀏覽舊約39卷、新約27卷"}),c.jsx("li",{children:"選擇任何書卷和章節"}),c.jsx("li",{children:"在 Bible Gateway 閱讀經文"})]})]}),c.jsxs("div",{className:"mt-6 pt-4 border-t border-amber-300 flex gap-3",children:[c.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-6 py-3 bg-stone-600 hover:bg-stone-700 text-white font-bold rounded-lg transition-all",children:"開始探索地圖"}),c.jsx("button",{onClick:()=>{f(!1),r(!0)},className:"flex-1 px-6 py-3 bg-amber-800 hover:bg-amber-700 text-white font-bold rounded-lg transition-all",children:"直接閱讀聖經 →"})]})]})]})}),o&&c.jsx(Fb,{onClose:()=>r(!1)})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $b,Qb;function Xb(){return{geminiUrl:$b,vertexUrl:Qb}}function Zb(n,e,a,o){var r,u;if(!(n!=null&&n.baseUrl)){const f=Xb();return e?(r=f.vertexUrl)!==null&&r!==void 0?r:a:(u=f.geminiUrl)!==null&&u!==void 0?u:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ai{}function oe(n,e){const a=/\{([^}]+)\}/g;return n.replace(a,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const u=e[r];return u!=null?String(u):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function m(n,e,a){for(let u=0;u<e.length-1;u++){const f=e[u];if(f.endsWith("[]")){const p=f.slice(0,-2);if(!(p in n))if(Array.isArray(a))n[p]=Array.from({length:a.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[p])){const y=n[p];if(Array.isArray(a))for(let g=0;g<y.length;g++){const v=y[g];m(v,e.slice(u+1),a[g])}else for(const g of y)m(g,e.slice(u+1),a)}return}else if(f.endsWith("[0]")){const p=f.slice(0,-3);p in n||(n[p]=[{}]);const y=n[p];m(y[0],e.slice(u+1),a);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const o=e[e.length-1],r=n[o];if(r!==void 0){if(!a||typeof a=="object"&&Object.keys(a).length===0||a===r)return;if(typeof r=="object"&&typeof a=="object"&&r!==null&&a!==null)Object.assign(r,a);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof a=="object"&&a!==null&&!Array.isArray(a)?Object.assign(n,a):n[o]=a}function d(n,e,a=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return a;const r=e[o];if(r.endsWith("[]")){const u=r.slice(0,-2);if(u in n){const f=n[u];return Array.isArray(f)?f.map(p=>d(p,e.slice(o+1),a)):a}else return a}else n=n[r]}return n}catch(o){if(o instanceof TypeError)return a;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ac(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wb(n){const e={},a=d(n,["operationName"]);a!=null&&m(e,["operationName"],a);const o=d(n,["resourceName"]);return o!=null&&m(e,["_url","resourceName"],o),e}function e1(n){const e={},a=d(n,["name"]);a!=null&&m(e,["name"],a);const o=d(n,["metadata"]);o!=null&&m(e,["metadata"],o);const r=d(n,["done"]);r!=null&&m(e,["done"],r);const u=d(n,["error"]);u!=null&&m(e,["error"],u);const f=d(n,["response","generateVideoResponse"]);return f!=null&&m(e,["response"],n1(f)),e}function t1(n){const e={},a=d(n,["name"]);a!=null&&m(e,["name"],a);const o=d(n,["metadata"]);o!=null&&m(e,["metadata"],o);const r=d(n,["done"]);r!=null&&m(e,["done"],r);const u=d(n,["error"]);u!=null&&m(e,["error"],u);const f=d(n,["response"]);return f!=null&&m(e,["response"],i1(f)),e}function n1(n){const e={},a=d(n,["generatedSamples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>a1(f))),m(e,["generatedVideos"],u)}const o=d(n,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function i1(n){const e={},a=d(n,["videos"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>s1(f))),m(e,["generatedVideos"],u)}const o=d(n,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function a1(n){const e={},a=d(n,["_self"]);return a!=null&&m(e,["video"],r1(a)),e}function s1(n){const e={},a=d(n,["_self"]);return a!=null&&m(e,["video"],u1(a)),e}function o1(n){const e={},a=d(n,["operationName"]);return a!=null&&m(e,["_url","operationName"],a),e}function l1(n){const e={},a=d(n,["operationName"]);return a!=null&&m(e,["_url","operationName"],a),e}function r1(n){const e={},a=d(n,["video","uri"]);a!=null&&m(e,["uri"],a);const o=d(n,["video","encodedVideo"]);o!=null&&m(e,["videoBytes"],Ac(o));const r=d(n,["encoding"]);return r!=null&&m(e,["mimeType"],r),e}function u1(n){const e={},a=d(n,["gcsUri"]);a!=null&&m(e,["uri"],a);const o=d(n,["bytesBase64Encoded"]);o!=null&&m(e,["videoBytes"],Ac(o));const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lp||(lp={}));var rp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(rp||(rp={}));var me;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(me||(me={}));var up;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(up||(up={}));var cp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(cp||(cp={}));var dp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(dp||(dp={}));var fp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(fp||(fp={}));var hp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(hp||(hp={}));var mp;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(mp||(mp={}));var pp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(pp||(pp={}));var gp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(gp||(gp={}));var yp;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(yp||(yp={}));var xp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(xp||(xp={}));var vp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(vp||(vp={}));var bp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bp||(bp={}));var gl;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(gl||(gl={}));var wp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wp||(wp={}));var cc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cc||(cc={}));var Sp;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Sp||(Sp={}));var Np;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Np||(Np={}));var Tp;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Tp||(Tp={}));var Ep;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Ep||(Ep={}));var _p;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(_p||(_p={}));var Cp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Cp||(Cp={}));var Ap;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ap||(Ap={}));var Mp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Mp||(Mp={}));var Rp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Rp||(Rp={}));var Ip;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Ip||(Ip={}));var kp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(kp||(kp={}));var Dp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Dp||(Dp={}));var Up;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Up||(Up={}));var qp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(qp||(qp={}));var Lp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Lp||(Lp={}));var Gp;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Gp||(Gp={}));var Vp;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Vp||(Vp={}));var Hp;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Hp||(Hp={}));var Pp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Pp||(Pp={}));var jp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(jp||(jp={}));var Bp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Bp||(Bp={}));var zp;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(zp||(zp={}));var Op;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Op||(Op={}));var Jp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Jp||(Jp={}));var Yp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Yp||(Yp={}));var Fp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Fp||(Fp={}));var Kp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Kp||(Kp={}));var $p;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})($p||($p={}));var Qp;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Qp||(Qp={}));var Xp;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Xp||(Xp={}));var ma;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(ma||(ma={}));class dc{constructor(e){const a={};for(const o of e.headers.entries())a[o[0]]=o[1];this.headers=a,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ns{get text(){var e,a,o,r,u,f,p,y;if(((r=(o=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const b=[];for(const w of(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[N,_]of Object.entries(w))N!=="text"&&N!=="thought"&&(_!==null||_!==void 0)&&b.push(N);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;v=!0,g+=w.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,a,o,r,u,f,p,y;if(((r=(o=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const b of(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[w,N]of Object.entries(b))w!=="inlineData"&&(N!==null||N!==void 0)&&v.push(w);b.inlineData&&typeof b.inlineData.data=="string"&&(g+=atob(b.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,a,o,r,u,f,p,y;if(((r=(o=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,a,o,r,u,f,p,y,g;if(((r=(o=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,a,o,r,u,f,p,y,g;if(((r=(o=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class Zp{}class Wp{}class c1{}class d1{}class f1{}class h1{}class eg{}class tg{}class ng{}class m1{}class yl{_fromAPIResponse({apiResponse:e,isVertexAI:a}){const o=new yl;let r;const u=e;return a?r=t1(u):r=e1(u),Object.assign(o,r),o}}class ig{}class ag{}class sg{}class p1{}class g1{}class y1{}class og{}class x1{get text(){var e,a,o;let r="",u=!1;const f=[];for(const p of(o=(a=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&o!==void 0?o:[]){for(const[y,g]of Object.entries(p))y!=="text"&&y!=="thought"&&g!==null&&f.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,r+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?r:void 0}get data(){var e,a,o;let r="";const u=[];for(const f of(o=(a=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&o!==void 0?o:[]){for(const[p,y]of Object.entries(f))p!=="inlineData"&&y!==null&&u.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(r+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class v1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ce(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const a=e.split("/",2);return`publishers/${a[0]}/models/${a[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function s0(n,e){const a=Ce(n,e);return a?a.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${a}`:a.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${a}`:a:""}function o0(n){return Array.isArray(n)?n.map(e=>xl(e)):[xl(n)]}function xl(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function l0(n){const e=xl(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function r0(n){const e=xl(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function lg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function u0(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>lg(e)):[lg(n)]}function fc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function rg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function ug(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ut(n){if(n==null)throw new Error("ContentUnion is required");return fc(n)?n:{role:"user",parts:u0(n)}}function Mc(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(a=>{const o=ut(a);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const a=ut(e);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]}return Array.isArray(e)?e.map(a=>ut(a)):[ut(e)]}function Jt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(rg(n)||ug(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ut(n)]}const e=[],a=[],o=fc(n[0]);for(const r of n){const u=fc(r);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(r);else{if(rg(r)||ug(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(r)}}return o||e.push({role:"user",parts:u0(a)}),e}function b1(n,e){n.includes("null")&&(e.nullable=!0);const a=n.filter(o=>o!=="null");if(a.length===1)e.type=Object.values(me).includes(a[0].toUpperCase())?a[0].toUpperCase():me.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of a)e.anyOf.push({type:Object.values(me).includes(o.toUpperCase())?o.toUpperCase():me.TYPE_UNSPECIFIED})}}function xa(n){const e={},a=["items"],o=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&b1(n.type,e);for(const[f,p]of Object.entries(n))if(p!=null)if(f=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(me).includes(p.toUpperCase())?p.toUpperCase():me.TYPE_UNSPECIFIED}else if(a.includes(f))e[f]=xa(p);else if(o.includes(f)){const y=[];for(const g of p){if(g.type=="null"){e.nullable=!0;continue}y.push(xa(g))}e[f]=y}else if(r.includes(f)){const y={};for(const[g,v]of Object.entries(p))y[g]=xa(v);e[f]=y}else{if(f==="additionalProperties")continue;e[f]=p}return e}function Rc(n){return xa(n)}function Ic(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function kc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ea(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=xa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=xa(e.response));return n}function _a(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const a of n)e.push(a);return e}function w1(n,e,a,o=1){const r=!e.startsWith(`${a}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${a}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${a}/${e}`:e:r?`${a}/${e}`:e}function An(n,e){if(typeof e!="string")throw new Error("name must be a string");return w1(n,e,"cachedContents")}function c0(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ni(n){return Ac(n)}function S1(n){return n!=null&&typeof n=="object"&&"name"in n}function N1(n){return n!=null&&typeof n=="object"&&"video"in n}function T1(n){return n!=null&&typeof n=="object"&&"uri"in n}function d0(n){var e;let a;if(S1(n)&&(a=n.name),!(T1(n)&&(a=n.uri,a===void 0))&&!(N1(n)&&(a=(e=n.video)===null||e===void 0?void 0:e.uri,a===void 0))){if(typeof n=="string"&&(a=n),a===void 0)throw new Error("Could not extract file name from the provided input.");if(a.startsWith("https://")){const r=a.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${a}`);a=r[0]}else a.startsWith("files/")&&(a=a.split("files/")[1]);return a}}function f0(n,e){let a;return n.isVertexAI()?a=e?"publishers/google/models":"models":a=e?"models":"tunedModels",a}function h0(n){for(const e of["models","tunedModels","publisherModels"])if(E1(n,e))return n[e];return[]}function E1(n,e){return n!==null&&typeof n=="object"&&e in n}function _1(n,e={}){const a=n,o={name:a.name,description:a.description,parametersJsonSchema:a.inputSchema};return a.outputSchema&&(o.responseJsonSchema=a.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function C1(n,e={}){const a=[],o=new Set;for(const r of n){const u=r.name;if(o.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);o.add(u);const f=_1(r,e);f.functionDeclarations&&a.push(...f.functionDeclarations)}return{functionDeclarations:a}}function m0(n,e){let a;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))a={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))a={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))a={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");a={inlinedRequests:e}}else a=e;const o=[a.gcsUri,a.bigqueryUri].filter(Boolean).length,r=[a.inlinedRequests,a.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return a}function A1(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function p0(n){if(typeof n!="object"||n===null)return{};const e=n,a=e.inlinedResponses;if(typeof a!="object"||a===null)return n;const r=a.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let u=!1;for(const f of r){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ca(n,e){const a=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(a))return a.split("/").pop();throw new Error(`Invalid batch job name: ${a}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(a))return a.split("/").pop();if(/^\d+$/.test(a))return a;throw new Error(`Invalid batch job name: ${a}.`)}function g0(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M1(n){const e={},a=d(n,["responsesFile"]);a!=null&&m(e,["fileName"],a);const o=d(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>aw(f))),m(e,["inlinedResponses"],u)}const r=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),m(e,["inlinedEmbedContentResponses"],u)}return e}function R1(n){const e={},a=d(n,["predictionsFormat"]);a!=null&&m(e,["format"],a);const o=d(n,["gcsDestination","outputUriPrefix"]);o!=null&&m(e,["gcsUri"],o);const r=d(n,["bigqueryDestination","outputUri"]);return r!=null&&m(e,["bigqueryUri"],r),e}function I1(n){const e={},a=d(n,["format"]);a!=null&&m(e,["predictionsFormat"],a);const o=d(n,["gcsUri"]);o!=null&&m(e,["gcsDestination","outputUriPrefix"],o);const r=d(n,["bigqueryUri"]);if(r!=null&&m(e,["bigqueryDestination","outputUri"],r),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Es(n){const e={},a=d(n,["name"]);a!=null&&m(e,["name"],a);const o=d(n,["metadata","displayName"]);o!=null&&m(e,["displayName"],o);const r=d(n,["metadata","state"]);r!=null&&m(e,["state"],g0(r));const u=d(n,["metadata","createTime"]);u!=null&&m(e,["createTime"],u);const f=d(n,["metadata","endTime"]);f!=null&&m(e,["endTime"],f);const p=d(n,["metadata","updateTime"]);p!=null&&m(e,["updateTime"],p);const y=d(n,["metadata","model"]);y!=null&&m(e,["model"],y);const g=d(n,["metadata","output"]);return g!=null&&m(e,["dest"],M1(p0(g))),e}function hc(n){const e={},a=d(n,["name"]);a!=null&&m(e,["name"],a);const o=d(n,["displayName"]);o!=null&&m(e,["displayName"],o);const r=d(n,["state"]);r!=null&&m(e,["state"],g0(r));const u=d(n,["error"]);u!=null&&m(e,["error"],u);const f=d(n,["createTime"]);f!=null&&m(e,["createTime"],f);const p=d(n,["startTime"]);p!=null&&m(e,["startTime"],p);const y=d(n,["endTime"]);y!=null&&m(e,["endTime"],y);const g=d(n,["updateTime"]);g!=null&&m(e,["updateTime"],g);const v=d(n,["model"]);v!=null&&m(e,["model"],v);const b=d(n,["inputConfig"]);b!=null&&m(e,["src"],k1(b));const w=d(n,["outputConfig"]);return w!=null&&m(e,["dest"],R1(p0(w))),e}function k1(n){const e={},a=d(n,["instancesFormat"]);a!=null&&m(e,["format"],a);const o=d(n,["gcsSource","uris"]);o!=null&&m(e,["gcsUri"],o);const r=d(n,["bigquerySource","inputUri"]);return r!=null&&m(e,["bigqueryUri"],r),e}function D1(n,e){const a={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=d(e,["fileName"]);o!=null&&m(a,["fileName"],o);const r=d(e,["inlinedRequests"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>iw(n,f))),m(a,["requests","requests"],u)}return a}function U1(n){const e={},a=d(n,["format"]);a!=null&&m(e,["instancesFormat"],a);const o=d(n,["gcsUri"]);o!=null&&m(e,["gcsSource","uris"],o);const r=d(n,["bigqueryUri"]);if(r!=null&&m(e,["bigquerySource","inputUri"],r),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function q1(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(n,["data"]);a!=null&&m(e,["data"],a);const o=d(n,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function L1(n,e){const a={},o=d(e,["name"]);return o!=null&&m(a,["_url","name"],Ca(n,o)),a}function G1(n,e){const a={},o=d(e,["name"]);return o!=null&&m(a,["_url","name"],Ca(n,o)),a}function V1(n){const e={},a=d(n,["content"]);a!=null&&m(e,["content"],a);const o=d(n,["citationMetadata"]);o!=null&&m(e,["citationMetadata"],H1(o));const r=d(n,["tokenCount"]);r!=null&&m(e,["tokenCount"],r);const u=d(n,["finishReason"]);u!=null&&m(e,["finishReason"],u);const f=d(n,["urlContextMetadata"]);f!=null&&m(e,["urlContextMetadata"],f);const p=d(n,["avgLogprobs"]);p!=null&&m(e,["avgLogprobs"],p);const y=d(n,["groundingMetadata"]);y!=null&&m(e,["groundingMetadata"],y);const g=d(n,["index"]);g!=null&&m(e,["index"],g);const v=d(n,["logprobsResult"]);v!=null&&m(e,["logprobsResult"],v);const b=d(n,["safetyRatings"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(N=>N)),m(e,["safetyRatings"],w)}return e}function H1(n){const e={},a=d(n,["citationSources"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(r=>r)),m(e,["citations"],o)}return e}function y0(n){const e={},a=d(n,["parts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(u=>dw(u))),m(e,["parts"],r)}const o=d(n,["role"]);return o!=null&&m(e,["role"],o),e}function P1(n,e){const a={},o=d(n,["displayName"]);if(e!==void 0&&o!=null&&m(e,["batch","displayName"],o),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return a}function j1(n,e){const a={},o=d(n,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const r=d(n,["dest"]);return e!==void 0&&r!=null&&m(e,["outputConfig"],I1(A1(r))),a}function cg(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["src"]);r!=null&&m(a,["batch","inputConfig"],D1(n,m0(n,r)));const u=d(e,["config"]);return u!=null&&P1(u,a),a}function B1(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["model"],Ce(n,o));const r=d(e,["src"]);r!=null&&m(a,["inputConfig"],U1(m0(n,r)));const u=d(e,["config"]);return u!=null&&j1(u,a),a}function z1(n,e){const a={},o=d(n,["displayName"]);return e!==void 0&&o!=null&&m(e,["batch","displayName"],o),a}function sc(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["src"]);r!=null&&m(a,["batch","inputConfig"],Q1(n,r));const u=d(e,["config"]);return u!=null&&z1(u,a),a}function O1(n,e){const a={},o=d(e,["name"]);return o!=null&&m(a,["_url","name"],Ca(n,o)),a}function J1(n,e){const a={},o=d(e,["name"]);return o!=null&&m(a,["_url","name"],Ca(n,o)),a}function Y1(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["name"]);o!=null&&m(e,["name"],o);const r=d(n,["done"]);r!=null&&m(e,["done"],r);const u=d(n,["error"]);return u!=null&&m(e,["error"],u),e}function F1(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["name"]);o!=null&&m(e,["name"],o);const r=d(n,["done"]);r!=null&&m(e,["done"],r);const u=d(n,["error"]);return u!=null&&m(e,["error"],u),e}function K1(n,e){const a={},o=d(e,["contents"]);if(o!=null){let u=Mc(n,o);Array.isArray(u)&&(u=u.map(f=>f)),m(a,["requests[]","request","content"],u)}const r=d(e,["config"]);return r!=null&&m(a,["_self"],$1(r,a)),a}function $1(n,e){const a={},o=d(n,["taskType"]);e!==void 0&&o!=null&&m(e,["requests[]","taskType"],o);const r=d(n,["title"]);e!==void 0&&r!=null&&m(e,["requests[]","title"],r);const u=d(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&m(e,["requests[]","outputDimensionality"],u),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function Q1(n,e){const a={},o=d(e,["fileName"]);o!=null&&m(a,["file_name"],o);const r=d(e,["inlinedRequests"]);return r!=null&&m(a,["requests"],K1(n,r)),a}function X1(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(n,["fileUri"]);a!=null&&m(e,["fileUri"],a);const o=d(n,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Z1(n,e,a){const o={},r=d(e,["systemInstruction"]);a!==void 0&&r!=null&&m(a,["systemInstruction"],y0(ut(r)));const u=d(e,["temperature"]);u!=null&&m(o,["temperature"],u);const f=d(e,["topP"]);f!=null&&m(o,["topP"],f);const p=d(e,["topK"]);p!=null&&m(o,["topK"],p);const y=d(e,["candidateCount"]);y!=null&&m(o,["candidateCount"],y);const g=d(e,["maxOutputTokens"]);g!=null&&m(o,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&m(o,["stopSequences"],v);const b=d(e,["responseLogprobs"]);b!=null&&m(o,["responseLogprobs"],b);const w=d(e,["logprobs"]);w!=null&&m(o,["logprobs"],w);const N=d(e,["presencePenalty"]);N!=null&&m(o,["presencePenalty"],N);const _=d(e,["frequencyPenalty"]);_!=null&&m(o,["frequencyPenalty"],_);const E=d(e,["seed"]);E!=null&&m(o,["seed"],E);const A=d(e,["responseMimeType"]);A!=null&&m(o,["responseMimeType"],A);const R=d(e,["responseSchema"]);R!=null&&m(o,["responseSchema"],Rc(R));const L=d(e,["responseJsonSchema"]);if(L!=null&&m(o,["responseJsonSchema"],L),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=d(e,["safetySettings"]);if(a!==void 0&&V!=null){let Q=V;Array.isArray(Q)&&(Q=Q.map(Y=>fw(Y))),m(a,["safetySettings"],Q)}const M=d(e,["tools"]);if(a!==void 0&&M!=null){let Q=_a(M);Array.isArray(Q)&&(Q=Q.map(Y=>hw(Ea(Y)))),m(a,["tools"],Q)}const G=d(e,["toolConfig"]);if(a!==void 0&&G!=null&&m(a,["toolConfig"],G),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=d(e,["cachedContent"]);a!==void 0&&q!=null&&m(a,["cachedContent"],An(n,q));const k=d(e,["responseModalities"]);k!=null&&m(o,["responseModalities"],k);const F=d(e,["mediaResolution"]);F!=null&&m(o,["mediaResolution"],F);const $=d(e,["speechConfig"]);if($!=null&&m(o,["speechConfig"],Ic($)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Z=d(e,["thinkingConfig"]);Z!=null&&m(o,["thinkingConfig"],Z);const ae=d(e,["imageConfig"]);return ae!=null&&m(o,["imageConfig"],ae),o}function W1(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>V1(g))),m(e,["candidates"],y)}const r=d(n,["modelVersion"]);r!=null&&m(e,["modelVersion"],r);const u=d(n,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const f=d(n,["responseId"]);f!=null&&m(e,["responseId"],f);const p=d(n,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function ew(n,e){const a={},o=d(e,["name"]);return o!=null&&m(a,["_url","name"],Ca(n,o)),a}function tw(n,e){const a={},o=d(e,["name"]);return o!=null&&m(a,["_url","name"],Ca(n,o)),a}function nw(n){const e={},a=d(n,["timeRangeFilter"]);if(a!=null&&m(e,["timeRangeFilter"],a),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function iw(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["request","model"],Ce(n,o));const r=d(e,["contents"]);if(r!=null){let f=Jt(r);Array.isArray(f)&&(f=f.map(p=>y0(p))),m(a,["request","contents"],f)}const u=d(e,["config"]);return u!=null&&m(a,["request","generationConfig"],Z1(n,u,d(a,["request"],{}))),a}function aw(n){const e={},a=d(n,["response"]);a!=null&&m(e,["response"],W1(a));const o=d(n,["error"]);return o!=null&&m(e,["error"],o),e}function sw(n,e){const a={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);if(e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return a}function ow(n,e){const a={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const u=d(n,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),a}function lw(n){const e={},a=d(n,["config"]);return a!=null&&sw(a,e),e}function rw(n){const e={},a=d(n,["config"]);return a!=null&&ow(a,e),e}function uw(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=d(n,["operations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Es(f))),m(e,["batchJobs"],u)}return e}function cw(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=d(n,["batchPredictionJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>hc(f))),m(e,["batchJobs"],u)}return e}function dw(n){const e={},a=d(n,["videoMetadata"]);a!=null&&m(e,["videoMetadata"],a);const o=d(n,["thought"]);o!=null&&m(e,["thought"],o);const r=d(n,["inlineData"]);r!=null&&m(e,["inlineData"],q1(r));const u=d(n,["fileData"]);u!=null&&m(e,["fileData"],X1(u));const f=d(n,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const p=d(n,["functionCall"]);p!=null&&m(e,["functionCall"],p);const y=d(n,["codeExecutionResult"]);y!=null&&m(e,["codeExecutionResult"],y);const g=d(n,["executableCode"]);g!=null&&m(e,["executableCode"],g);const v=d(n,["functionResponse"]);v!=null&&m(e,["functionResponse"],v);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function fw(n){const e={};if(d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=d(n,["category"]);a!=null&&m(e,["category"],a);const o=d(n,["threshold"]);return o!=null&&m(e,["threshold"],o),e}function hw(n){const e={},a=d(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>g)),m(e,["functionDeclarations"],y)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearch"]);o!=null&&m(e,["googleSearch"],nw(o));const r=d(n,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],r),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const u=d(n,["urlContext"]);u!=null&&m(e,["urlContext"],u);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const p=d(n,["codeExecution"]);return p!=null&&m(e,["codeExecution"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ei;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ei||(Ei={}));class qs{constructor(e,a,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=a,this.init(e,o,r)}init(e,a,o){var r,u;this.nameInternal=e,this.pageInternal=a[this.nameInternal]||[],this.sdkHttpResponseInternal=a==null?void 0:a.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!o||Object.keys(o).length===0?f={config:{}}:typeof o=="object"?f=Object.assign({},o):f=o,f.config&&(f.config.pageToken=a.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(r=f.config)===null||r===void 0?void 0:r.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mw extends Ai{constructor(e){super(),this.apiClient=e,this.create=async a=>(this.apiClient.isVertexAI()&&(a.config=this.formatDestination(a.src,a.config)),this.createInternal(a)),this.createEmbeddings=async a=>{var o,r;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(a.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(a);const p=this.createInlinedEmbedContentRequest(a),y=p.path,g=p.body,v=sc(this.apiClient,a)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=a.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=a.config)===null||r===void 0?void 0:r.abortSignal}).then(w=>w.json()).then(w=>Es(w))},this.list=async(a={})=>new qs(Ei.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(a),a)}createInlinedGenerateContentRequest(e){const a=cg(this.apiClient,e),o=a._url,r=oe("{model}:batchGenerateContent",o),p=a.batch.inputConfig.requests,y=p.requests,g=[];for(const v of y){const b=Object.assign({},v);if(b.systemInstruction){const w=b.systemInstruction;delete b.systemInstruction;const N=b.request;N.systemInstruction=w,b.request=N}g.push(b)}return p.requests=g,delete a.config,delete a._url,delete a._query,{path:r,body:a}}createInlinedEmbedContentRequest(e){const a=sc(this.apiClient,e),o=a._url,r=oe("{model}:asyncBatchEmbedContent",o),p=a.batch.inputConfig.requests,y=p.requests,g=[];delete p.config;for(const v of y){const b=Object.assign({},v),w=b.request;for(const N in b)N!=="request"&&(w[N]=b[N],delete b[N]);g.push(b)}return p.requests=g,delete a.config,delete a._url,delete a._query,{path:r,body:a}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,a){const o=a?Object.assign({},a):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const u=this.getGcsUri(e),f=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?o.dest=`${u.slice(0,-6)}/dest`:o.dest=`${u}_dest_${r}`;else if(f)o.dest=`${f}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=B1(this.apiClient,e);return p=oe("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>hc(v))}else{const g=cg(this.apiClient,e);return p=oe("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Es(v))}}async createEmbeddingsInternal(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=sc(this.apiClient,e);return u=oe("{model}:asyncBatchEmbedContent",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>Es(y))}}async get(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=tw(this.apiClient,e);return p=oe("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>hc(v))}else{const g=ew(this.apiClient,e);return p=oe("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Es(v))}}async cancel(e){var a,o,r,u;let f="",p={};if(this.apiClient.isVertexAI()){const y=G1(this.apiClient,e);f=oe("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=L1(this.apiClient,e);f=oe("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=rw(e);return p=oe("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=cw(v),w=new og;return Object.assign(w,b),w})}else{const g=lw(e);return p=oe("batches",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=uw(v),w=new og;return Object.assign(w,b),w})}}async delete(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=J1(this.apiClient,e);return p=oe("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>F1(v))}else{const g=O1(this.apiClient,e);return p=oe("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>Y1(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pw(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(n,["data"]);a!=null&&m(e,["data"],a);const o=d(n,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function dg(n){const e={},a=d(n,["parts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(u=>qw(u))),m(e,["parts"],r)}const o=d(n,["role"]);return o!=null&&m(e,["role"],o),e}function gw(n,e){const a={},o=d(n,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const r=d(n,["expireTime"]);e!==void 0&&r!=null&&m(e,["expireTime"],r);const u=d(n,["displayName"]);e!==void 0&&u!=null&&m(e,["displayName"],u);const f=d(n,["contents"]);if(e!==void 0&&f!=null){let v=Jt(f);Array.isArray(v)&&(v=v.map(b=>dg(b))),m(e,["contents"],v)}const p=d(n,["systemInstruction"]);e!==void 0&&p!=null&&m(e,["systemInstruction"],dg(ut(p)));const y=d(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(b=>Lw(b))),m(e,["tools"],v)}const g=d(n,["toolConfig"]);if(e!==void 0&&g!=null&&m(e,["toolConfig"],g),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return a}function yw(n,e){const a={},o=d(n,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const r=d(n,["expireTime"]);e!==void 0&&r!=null&&m(e,["expireTime"],r);const u=d(n,["displayName"]);e!==void 0&&u!=null&&m(e,["displayName"],u);const f=d(n,["contents"]);if(e!==void 0&&f!=null){let b=Jt(f);Array.isArray(b)&&(b=b.map(w=>w)),m(e,["contents"],b)}const p=d(n,["systemInstruction"]);e!==void 0&&p!=null&&m(e,["systemInstruction"],ut(p));const y=d(n,["tools"]);if(e!==void 0&&y!=null){let b=y;Array.isArray(b)&&(b=b.map(w=>Gw(w))),m(e,["tools"],b)}const g=d(n,["toolConfig"]);e!==void 0&&g!=null&&m(e,["toolConfig"],g);const v=d(n,["kmsKeyName"]);return e!==void 0&&v!=null&&m(e,["encryption_spec","kmsKeyName"],v),a}function xw(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["model"],s0(n,o));const r=d(e,["config"]);return r!=null&&gw(r,a),a}function vw(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["model"],s0(n,o));const r=d(e,["config"]);return r!=null&&yw(r,a),a}function bw(n,e){const a={},o=d(e,["name"]);return o!=null&&m(a,["_url","name"],An(n,o)),a}function ww(n,e){const a={},o=d(e,["name"]);return o!=null&&m(a,["_url","name"],An(n,o)),a}function Sw(n){const e={},a=d(n,["sdkHttpResponse"]);return a!=null&&m(e,["sdkHttpResponse"],a),e}function Nw(n){const e={},a=d(n,["sdkHttpResponse"]);return a!=null&&m(e,["sdkHttpResponse"],a),e}function Tw(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(n,["fileUri"]);a!=null&&m(e,["fileUri"],a);const o=d(n,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Ew(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=d(n,["description"]);a!=null&&m(e,["description"],a);const o=d(n,["name"]);o!=null&&m(e,["name"],o);const r=d(n,["parameters"]);r!=null&&m(e,["parameters"],r);const u=d(n,["parametersJsonSchema"]);u!=null&&m(e,["parametersJsonSchema"],u);const f=d(n,["response"]);f!=null&&m(e,["response"],f);const p=d(n,["responseJsonSchema"]);return p!=null&&m(e,["responseJsonSchema"],p),e}function _w(n,e){const a={},o=d(e,["name"]);return o!=null&&m(a,["_url","name"],An(n,o)),a}function Cw(n,e){const a={},o=d(e,["name"]);return o!=null&&m(a,["_url","name"],An(n,o)),a}function Aw(n){const e={},a=d(n,["timeRangeFilter"]);if(a!=null&&m(e,["timeRangeFilter"],a),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Mw(n,e){const a={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),a}function Rw(n,e){const a={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),a}function Iw(n){const e={},a=d(n,["config"]);return a!=null&&Mw(a,e),e}function kw(n){const e={},a=d(n,["config"]);return a!=null&&Rw(a,e),e}function Dw(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=d(n,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),m(e,["cachedContents"],u)}return e}function Uw(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=d(n,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),m(e,["cachedContents"],u)}return e}function qw(n){const e={},a=d(n,["videoMetadata"]);a!=null&&m(e,["videoMetadata"],a);const o=d(n,["thought"]);o!=null&&m(e,["thought"],o);const r=d(n,["inlineData"]);r!=null&&m(e,["inlineData"],pw(r));const u=d(n,["fileData"]);u!=null&&m(e,["fileData"],Tw(u));const f=d(n,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const p=d(n,["functionCall"]);p!=null&&m(e,["functionCall"],p);const y=d(n,["codeExecutionResult"]);y!=null&&m(e,["codeExecutionResult"],y);const g=d(n,["executableCode"]);g!=null&&m(e,["executableCode"],g);const v=d(n,["functionResponse"]);v!=null&&m(e,["functionResponse"],v);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function Lw(n){const e={},a=d(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>g)),m(e,["functionDeclarations"],y)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearch"]);o!=null&&m(e,["googleSearch"],Aw(o));const r=d(n,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],r),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const u=d(n,["urlContext"]);u!=null&&m(e,["urlContext"],u);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const p=d(n,["codeExecution"]);return p!=null&&m(e,["codeExecution"],p),e}function Gw(n){const e={},a=d(n,["functionDeclarations"]);if(a!=null){let b=a;Array.isArray(b)&&(b=b.map(w=>Ew(w))),m(e,["functionDeclarations"],b)}const o=d(n,["retrieval"]);o!=null&&m(e,["retrieval"],o);const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],r);const u=d(n,["googleSearchRetrieval"]);u!=null&&m(e,["googleSearchRetrieval"],u);const f=d(n,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=d(n,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const y=d(n,["urlContext"]);y!=null&&m(e,["urlContext"],y);const g=d(n,["computerUse"]);g!=null&&m(e,["computerUse"],g);const v=d(n,["codeExecution"]);return v!=null&&m(e,["codeExecution"],v),e}function Vw(n,e){const a={},o=d(n,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const r=d(n,["expireTime"]);return e!==void 0&&r!=null&&m(e,["expireTime"],r),a}function Hw(n,e){const a={},o=d(n,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const r=d(n,["expireTime"]);return e!==void 0&&r!=null&&m(e,["expireTime"],r),a}function Pw(n,e){const a={},o=d(e,["name"]);o!=null&&m(a,["_url","name"],An(n,o));const r=d(e,["config"]);return r!=null&&Vw(r,a),a}function jw(n,e){const a={},o=d(e,["name"]);o!=null&&m(a,["_url","name"],An(n,o));const r=d(e,["config"]);return r!=null&&Hw(r,a),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bw extends Ai{constructor(e){super(),this.apiClient=e,this.list=async(a={})=>new qs(Ei.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(a),a)}async create(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=vw(this.apiClient,e);return p=oe("cachedContents",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const g=xw(this.apiClient,e);return p=oe("cachedContents",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=Cw(this.apiClient,e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const g=_w(this.apiClient,e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=ww(this.apiClient,e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=Nw(v),w=new ag;return Object.assign(w,b),w})}else{const g=bw(this.apiClient,e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=Sw(v),w=new ag;return Object.assign(w,b),w})}}async update(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=jw(this.apiClient,e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const g=Pw(this.apiClient,e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=kw(e);return p=oe("cachedContents",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=Uw(v),w=new sg;return Object.assign(w,b),w})}else{const g=Iw(e);return p=oe("cachedContents",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=Dw(v),w=new sg;return Object.assign(w,b),w})}}}function fg(n){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&n[e],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pe(n){return this instanceof Pe?(this.v=n,this):new Pe(n)}function va(n,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,e||[]),r,u=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),r[Symbol.asyncIterator]=function(){return this},r;function f(N){return function(_){return Promise.resolve(_).then(N,b)}}function p(N,_){o[N]&&(r[N]=function(E){return new Promise(function(A,R){u.push([N,E,A,R])>1||y(N,E)})},_&&(r[N]=_(r[N])))}function y(N,_){try{g(o[N](_))}catch(E){w(u[0][3],E)}}function g(N){N.value instanceof Pe?Promise.resolve(N.value.v).then(v,b):w(u[0][2],N)}function v(N){y("next",N)}function b(N){y("throw",N)}function w(N,_){N(_),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Rs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],a;return e?e.call(n):(n=typeof fg=="function"?fg(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(u){a[u]=n[u]&&function(f){return new Promise(function(p,y){f=n[u](f),r(p,y,f.done,f.value)})}}function r(u,f,p,y){Promise.resolve(y).then(function(g){u({value:g,done:p})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zw(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const a=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return a===void 0?!1:x0(a)}function x0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Ow(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function hg(n){if(n===void 0||n.length===0)return[];const e=[],a=n.length;let o=0;for(;o<a;)if(n[o].role==="user")e.push(n[o]),o++;else{const r=[];let u=!0;for(;o<a&&n[o].role==="model";)r.push(n[o]),u&&!x0(n[o])&&(u=!1),o++;u?e.push(...r):e.pop()}return e}class Jw{constructor(e,a){this.modelsModule=e,this.apiClient=a}create(e){return new Yw(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Yw{constructor(e,a,o,r={},u=[]){this.apiClient=e,this.modelsModule=a,this.model=o,this.config=r,this.history=u,this.sendPromise=Promise.resolve(),Ow(u)}async sendMessage(e){var a;await this.sendPromise;const o=ut(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(a=e.config)!==null&&a!==void 0?a:this.config});return this.sendPromise=(async()=>{var u,f,p;const y=await r,g=(f=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,v=y.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let w=[];v!=null&&(w=(p=v.slice(b))!==null&&p!==void 0?p:[]);const N=g?[g]:[];this.recordHistory(o,N,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var a;await this.sendPromise;const o=ut(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(a=e.config)!==null&&a!==void 0?a:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const u=await r;return this.processStreamResponse(u,o)}getHistory(e=!1){const a=e?hg(this.history):this.history;return structuredClone(a)}processStreamResponse(e,a){var o,r;return va(this,arguments,function*(){var f,p,y,g;const v=[];try{for(var b=!0,w=Rs(e),N;N=yield Pe(w.next()),f=N.done,!f;b=!0){g=N.value,b=!1;const _=g;if(zw(_)){const E=(r=(o=_.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;E!==void 0&&v.push(E)}yield yield Pe(_)}}catch(_){p={error:_}}finally{try{!b&&!f&&(y=w.return)&&(yield Pe(y.call(w)))}finally{if(p)throw p.error}}this.recordHistory(a,v)})}recordHistory(e,a,o){let r=[];a.length>0&&a.every(u=>u.role!==void 0)?r=a:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...hg(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class El extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,El.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fw(n){const e={},a=d(n,["file"]);return a!=null&&m(e,["file"],a),e}function Kw(n){const e={},a=d(n,["sdkHttpResponse"]);return a!=null&&m(e,["sdkHttpResponse"],a),e}function $w(n){const e={},a=d(n,["name"]);return a!=null&&m(e,["_url","file"],d0(a)),e}function Qw(n){const e={},a=d(n,["sdkHttpResponse"]);return a!=null&&m(e,["sdkHttpResponse"],a),e}function Xw(n){const e={},a=d(n,["name"]);return a!=null&&m(e,["_url","file"],d0(a)),e}function Zw(n,e){const a={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),a}function Ww(n){const e={},a=d(n,["config"]);return a!=null&&Zw(a,e),e}function eS(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=d(n,["files"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),m(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tS extends Ai{constructor(e){super(),this.apiClient=e,this.list=async(a={})=>new qs(Ei.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(a),a)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(a=>a)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ww(e);return u=oe("files",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=eS(y),v=new p1;return Object.assign(v,g),v})}}async createInternal(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Fw(e);return u=oe("upload/v1beta/files",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const g=Kw(y),v=new g1;return Object.assign(v,g),v})}}async get(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Xw(e);return u=oe("files/{file}",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=$w(e);return u=oe("files/{file}",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=Qw(y),v=new y1;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cl(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(n,["data"]);a!=null&&m(e,["data"],a);const o=d(n,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function nS(n){const e={},a=d(n,["parts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(u=>gS(u))),m(e,["parts"],r)}const o=d(n,["role"]);return o!=null&&m(e,["role"],o),e}function iS(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(n,["fileUri"]);a!=null&&m(e,["fileUri"],a);const o=d(n,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function aS(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=d(n,["description"]);a!=null&&m(e,["description"],a);const o=d(n,["name"]);o!=null&&m(e,["name"],o);const r=d(n,["parameters"]);r!=null&&m(e,["parameters"],r);const u=d(n,["parametersJsonSchema"]);u!=null&&m(e,["parametersJsonSchema"],u);const f=d(n,["response"]);f!=null&&m(e,["response"],f);const p=d(n,["responseJsonSchema"]);return p!=null&&m(e,["responseJsonSchema"],p),e}function sS(n){const e={},a=d(n,["modelSelectionConfig"]);a!=null&&m(e,["modelConfig"],a);const o=d(n,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const r=d(n,["candidateCount"]);r!=null&&m(e,["candidateCount"],r);const u=d(n,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=d(n,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=d(n,["logprobs"]);p!=null&&m(e,["logprobs"],p);const y=d(n,["maxOutputTokens"]);y!=null&&m(e,["maxOutputTokens"],y);const g=d(n,["mediaResolution"]);g!=null&&m(e,["mediaResolution"],g);const v=d(n,["presencePenalty"]);v!=null&&m(e,["presencePenalty"],v);const b=d(n,["responseJsonSchema"]);b!=null&&m(e,["responseJsonSchema"],b);const w=d(n,["responseLogprobs"]);w!=null&&m(e,["responseLogprobs"],w);const N=d(n,["responseMimeType"]);N!=null&&m(e,["responseMimeType"],N);const _=d(n,["responseModalities"]);_!=null&&m(e,["responseModalities"],_);const E=d(n,["responseSchema"]);E!=null&&m(e,["responseSchema"],E);const A=d(n,["routingConfig"]);A!=null&&m(e,["routingConfig"],A);const R=d(n,["seed"]);R!=null&&m(e,["seed"],R);const L=d(n,["speechConfig"]);L!=null&&m(e,["speechConfig"],v0(L));const V=d(n,["stopSequences"]);V!=null&&m(e,["stopSequences"],V);const M=d(n,["temperature"]);M!=null&&m(e,["temperature"],M);const G=d(n,["thinkingConfig"]);G!=null&&m(e,["thinkingConfig"],G);const q=d(n,["topK"]);q!=null&&m(e,["topK"],q);const k=d(n,["topP"]);return k!=null&&m(e,["topP"],k),e}function oS(n){const e={},a=d(n,["timeRangeFilter"]);if(a!=null&&m(e,["timeRangeFilter"],a),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function lS(n,e){const a={},o=d(n,["generationConfig"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig"],o);const r=d(n,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const u=d(n,["temperature"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","temperature"],u);const f=d(n,["topP"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topP"],f);const p=d(n,["topK"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","topK"],p);const y=d(n,["maxOutputTokens"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","maxOutputTokens"],y);const g=d(n,["mediaResolution"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","mediaResolution"],g);const v=d(n,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],kc(b));const w=d(n,["thinkingConfig"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","thinkingConfig"],w);const N=d(n,["enableAffectiveDialog"]);e!==void 0&&N!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],N);const _=d(n,["systemInstruction"]);e!==void 0&&_!=null&&m(e,["setup","systemInstruction"],nS(ut(_)));const E=d(n,["tools"]);if(e!==void 0&&E!=null){let q=_a(E);Array.isArray(q)&&(q=q.map(k=>xS(Ea(k)))),m(e,["setup","tools"],q)}const A=d(n,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],yS(A));const R=d(n,["inputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","inputAudioTranscription"],R);const L=d(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&m(e,["setup","outputAudioTranscription"],L);const V=d(n,["realtimeInputConfig"]);e!==void 0&&V!=null&&m(e,["setup","realtimeInputConfig"],V);const M=d(n,["contextWindowCompression"]);e!==void 0&&M!=null&&m(e,["setup","contextWindowCompression"],M);const G=d(n,["proactivity"]);return e!==void 0&&G!=null&&m(e,["setup","proactivity"],G),a}function rS(n,e){const a={},o=d(n,["generationConfig"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig"],sS(o));const r=d(n,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const u=d(n,["temperature"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","temperature"],u);const f=d(n,["topP"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topP"],f);const p=d(n,["topK"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","topK"],p);const y=d(n,["maxOutputTokens"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","maxOutputTokens"],y);const g=d(n,["mediaResolution"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","mediaResolution"],g);const v=d(n,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],v0(kc(b)));const w=d(n,["thinkingConfig"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","thinkingConfig"],w);const N=d(n,["enableAffectiveDialog"]);e!==void 0&&N!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],N);const _=d(n,["systemInstruction"]);e!==void 0&&_!=null&&m(e,["setup","systemInstruction"],ut(_));const E=d(n,["tools"]);if(e!==void 0&&E!=null){let q=_a(E);Array.isArray(q)&&(q=q.map(k=>vS(Ea(k)))),m(e,["setup","tools"],q)}const A=d(n,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],A);const R=d(n,["inputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","inputAudioTranscription"],R);const L=d(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&m(e,["setup","outputAudioTranscription"],L);const V=d(n,["realtimeInputConfig"]);e!==void 0&&V!=null&&m(e,["setup","realtimeInputConfig"],V);const M=d(n,["contextWindowCompression"]);e!==void 0&&M!=null&&m(e,["setup","contextWindowCompression"],M);const G=d(n,["proactivity"]);return e!==void 0&&G!=null&&m(e,["setup","proactivity"],G),a}function uS(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["setup","model"],Ce(n,o));const r=d(e,["config"]);return r!=null&&m(a,["config"],lS(r,a)),a}function cS(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["setup","model"],Ce(n,o));const r=d(e,["config"]);return r!=null&&m(a,["config"],rS(r,a)),a}function dS(n){const e={},a=d(n,["musicGenerationConfig"]);return a!=null&&m(e,["musicGenerationConfig"],a),e}function fS(n){const e={},a=d(n,["weightedPrompts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(r=>r)),m(e,["weightedPrompts"],o)}return e}function hS(n){const e={},a=d(n,["media"]);if(a!=null){let g=o0(a);Array.isArray(g)&&(g=g.map(v=>cl(v))),m(e,["mediaChunks"],g)}const o=d(n,["audio"]);o!=null&&m(e,["audio"],cl(r0(o)));const r=d(n,["audioStreamEnd"]);r!=null&&m(e,["audioStreamEnd"],r);const u=d(n,["video"]);u!=null&&m(e,["video"],cl(l0(u)));const f=d(n,["text"]);f!=null&&m(e,["text"],f);const p=d(n,["activityStart"]);p!=null&&m(e,["activityStart"],p);const y=d(n,["activityEnd"]);return y!=null&&m(e,["activityEnd"],y),e}function mS(n){const e={},a=d(n,["media"]);if(a!=null){let g=o0(a);Array.isArray(g)&&(g=g.map(v=>v)),m(e,["mediaChunks"],g)}const o=d(n,["audio"]);o!=null&&m(e,["audio"],r0(o));const r=d(n,["audioStreamEnd"]);r!=null&&m(e,["audioStreamEnd"],r);const u=d(n,["video"]);u!=null&&m(e,["video"],l0(u));const f=d(n,["text"]);f!=null&&m(e,["text"],f);const p=d(n,["activityStart"]);p!=null&&m(e,["activityStart"],p);const y=d(n,["activityEnd"]);return y!=null&&m(e,["activityEnd"],y),e}function pS(n){const e={},a=d(n,["setupComplete"]);a!=null&&m(e,["setupComplete"],a);const o=d(n,["serverContent"]);o!=null&&m(e,["serverContent"],o);const r=d(n,["toolCall"]);r!=null&&m(e,["toolCall"],r);const u=d(n,["toolCallCancellation"]);u!=null&&m(e,["toolCallCancellation"],u);const f=d(n,["usageMetadata"]);f!=null&&m(e,["usageMetadata"],bS(f));const p=d(n,["goAway"]);p!=null&&m(e,["goAway"],p);const y=d(n,["sessionResumptionUpdate"]);return y!=null&&m(e,["sessionResumptionUpdate"],y),e}function gS(n){const e={},a=d(n,["videoMetadata"]);a!=null&&m(e,["videoMetadata"],a);const o=d(n,["thought"]);o!=null&&m(e,["thought"],o);const r=d(n,["inlineData"]);r!=null&&m(e,["inlineData"],cl(r));const u=d(n,["fileData"]);u!=null&&m(e,["fileData"],iS(u));const f=d(n,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const p=d(n,["functionCall"]);p!=null&&m(e,["functionCall"],p);const y=d(n,["codeExecutionResult"]);y!=null&&m(e,["codeExecutionResult"],y);const g=d(n,["executableCode"]);g!=null&&m(e,["executableCode"],g);const v=d(n,["functionResponse"]);v!=null&&m(e,["functionResponse"],v);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function yS(n){const e={},a=d(n,["handle"]);if(a!=null&&m(e,["handle"],a),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function v0(n){const e={},a=d(n,["voiceConfig"]);if(a!=null&&m(e,["voiceConfig"],a),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=d(n,["languageCode"]);return o!=null&&m(e,["languageCode"],o),e}function xS(n){const e={},a=d(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>g)),m(e,["functionDeclarations"],y)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearch"]);o!=null&&m(e,["googleSearch"],oS(o));const r=d(n,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],r),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const u=d(n,["urlContext"]);u!=null&&m(e,["urlContext"],u);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const p=d(n,["codeExecution"]);return p!=null&&m(e,["codeExecution"],p),e}function vS(n){const e={},a=d(n,["functionDeclarations"]);if(a!=null){let b=a;Array.isArray(b)&&(b=b.map(w=>aS(w))),m(e,["functionDeclarations"],b)}const o=d(n,["retrieval"]);o!=null&&m(e,["retrieval"],o);const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],r);const u=d(n,["googleSearchRetrieval"]);u!=null&&m(e,["googleSearchRetrieval"],u);const f=d(n,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=d(n,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const y=d(n,["urlContext"]);y!=null&&m(e,["urlContext"],y);const g=d(n,["computerUse"]);g!=null&&m(e,["computerUse"],g);const v=d(n,["codeExecution"]);return v!=null&&m(e,["codeExecution"],v),e}function bS(n){const e={},a=d(n,["promptTokenCount"]);a!=null&&m(e,["promptTokenCount"],a);const o=d(n,["cachedContentTokenCount"]);o!=null&&m(e,["cachedContentTokenCount"],o);const r=d(n,["candidatesTokenCount"]);r!=null&&m(e,["responseTokenCount"],r);const u=d(n,["toolUsePromptTokenCount"]);u!=null&&m(e,["toolUsePromptTokenCount"],u);const f=d(n,["thoughtsTokenCount"]);f!=null&&m(e,["thoughtsTokenCount"],f);const p=d(n,["totalTokenCount"]);p!=null&&m(e,["totalTokenCount"],p);const y=d(n,["promptTokensDetails"]);if(y!=null){let N=y;Array.isArray(N)&&(N=N.map(_=>_)),m(e,["promptTokensDetails"],N)}const g=d(n,["cacheTokensDetails"]);if(g!=null){let N=g;Array.isArray(N)&&(N=N.map(_=>_)),m(e,["cacheTokensDetails"],N)}const v=d(n,["candidatesTokensDetails"]);if(v!=null){let N=v;Array.isArray(N)&&(N=N.map(_=>_)),m(e,["responseTokensDetails"],N)}const b=d(n,["toolUsePromptTokensDetails"]);if(b!=null){let N=b;Array.isArray(N)&&(N=N.map(_=>_)),m(e,["toolUsePromptTokensDetails"],N)}const w=d(n,["trafficType"]);return w!=null&&m(e,["trafficType"],w),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wS(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(n,["data"]);a!=null&&m(e,["data"],a);const o=d(n,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function SS(n){const e={},a=d(n,["content"]);a!=null&&m(e,["content"],a);const o=d(n,["citationMetadata"]);o!=null&&m(e,["citationMetadata"],NS(o));const r=d(n,["tokenCount"]);r!=null&&m(e,["tokenCount"],r);const u=d(n,["finishReason"]);u!=null&&m(e,["finishReason"],u);const f=d(n,["urlContextMetadata"]);f!=null&&m(e,["urlContextMetadata"],f);const p=d(n,["avgLogprobs"]);p!=null&&m(e,["avgLogprobs"],p);const y=d(n,["groundingMetadata"]);y!=null&&m(e,["groundingMetadata"],y);const g=d(n,["index"]);g!=null&&m(e,["index"],g);const v=d(n,["logprobsResult"]);v!=null&&m(e,["logprobsResult"],v);const b=d(n,["safetyRatings"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(N=>N)),m(e,["safetyRatings"],w)}return e}function NS(n){const e={},a=d(n,["citationSources"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(r=>r)),m(e,["citations"],o)}return e}function TS(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["contents"]);if(r!=null){let u=Jt(r);Array.isArray(u)&&(u=u.map(f=>f)),m(a,["contents"],u)}return a}function ES(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>u)),m(e,["tokensInfo"],r)}return e}function _S(n){const e={},a=d(n,["values"]);a!=null&&m(e,["values"],a);const o=d(n,["statistics"]);return o!=null&&m(e,["statistics"],CS(o)),e}function CS(n){const e={},a=d(n,["truncated"]);a!=null&&m(e,["truncated"],a);const o=d(n,["token_count"]);return o!=null&&m(e,["tokenCount"],o),e}function _l(n){const e={},a=d(n,["parts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(u=>I2(u))),m(e,["parts"],r)}const o=d(n,["role"]);return o!=null&&m(e,["role"],o),e}function AS(n){const e={},a=d(n,["controlType"]);a!=null&&m(e,["controlType"],a);const o=d(n,["enableControlImageComputation"]);return o!=null&&m(e,["computeControl"],o),e}function MS(n){const e={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function RS(n,e){const a={},o=d(n,["systemInstruction"]);e!==void 0&&o!=null&&m(e,["systemInstruction"],ut(o));const r=d(n,["tools"]);if(e!==void 0&&r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>T0(p))),m(e,["tools"],f)}const u=d(n,["generationConfig"]);return e!==void 0&&u!=null&&m(e,["generationConfig"],v2(u)),a}function IS(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["contents"]);if(r!=null){let f=Jt(r);Array.isArray(f)&&(f=f.map(p=>_l(p))),m(a,["contents"],f)}const u=d(e,["config"]);return u!=null&&MS(u),a}function kS(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["contents"]);if(r!=null){let f=Jt(r);Array.isArray(f)&&(f=f.map(p=>p)),m(a,["contents"],f)}const u=d(e,["config"]);return u!=null&&RS(u,a),a}function DS(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["totalTokens"]);o!=null&&m(e,["totalTokens"],o);const r=d(n,["cachedContentTokenCount"]);return r!=null&&m(e,["cachedContentTokenCount"],r),e}function US(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["totalTokens"]);return o!=null&&m(e,["totalTokens"],o),e}function qS(n,e){const a={},o=d(e,["model"]);return o!=null&&m(a,["_url","name"],Ce(n,o)),a}function LS(n,e){const a={},o=d(e,["model"]);return o!=null&&m(a,["_url","name"],Ce(n,o)),a}function GS(n){const e={},a=d(n,["sdkHttpResponse"]);return a!=null&&m(e,["sdkHttpResponse"],a),e}function VS(n){const e={},a=d(n,["sdkHttpResponse"]);return a!=null&&m(e,["sdkHttpResponse"],a),e}function HS(n,e){const a={},o=d(n,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const r=d(n,["negativePrompt"]);e!==void 0&&r!=null&&m(e,["parameters","negativePrompt"],r);const u=d(n,["numberOfImages"]);e!==void 0&&u!=null&&m(e,["parameters","sampleCount"],u);const f=d(n,["aspectRatio"]);e!==void 0&&f!=null&&m(e,["parameters","aspectRatio"],f);const p=d(n,["guidanceScale"]);e!==void 0&&p!=null&&m(e,["parameters","guidanceScale"],p);const y=d(n,["seed"]);e!==void 0&&y!=null&&m(e,["parameters","seed"],y);const g=d(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&m(e,["parameters","safetySetting"],g);const v=d(n,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const b=d(n,["includeSafetyAttributes"]);e!==void 0&&b!=null&&m(e,["parameters","includeSafetyAttributes"],b);const w=d(n,["includeRaiReason"]);e!==void 0&&w!=null&&m(e,["parameters","includeRaiReason"],w);const N=d(n,["language"]);e!==void 0&&N!=null&&m(e,["parameters","language"],N);const _=d(n,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const E=d(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","compressionQuality"],E);const A=d(n,["addWatermark"]);e!==void 0&&A!=null&&m(e,["parameters","addWatermark"],A);const R=d(n,["labels"]);e!==void 0&&R!=null&&m(e,["labels"],R);const L=d(n,["editMode"]);e!==void 0&&L!=null&&m(e,["parameters","editMode"],L);const V=d(n,["baseSteps"]);return e!==void 0&&V!=null&&m(e,["parameters","editConfig","baseSteps"],V),a}function PS(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["prompt"]);r!=null&&m(a,["instances[0]","prompt"],r);const u=d(e,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>G2(y))),m(a,["instances[0]","referenceImages"],p)}const f=d(e,["config"]);return f!=null&&HS(f,a),a}function jS(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>Cl(u))),m(e,["generatedImages"],r)}return e}function BS(n,e){const a={},o=d(n,["taskType"]);e!==void 0&&o!=null&&m(e,["requests[]","taskType"],o);const r=d(n,["title"]);e!==void 0&&r!=null&&m(e,["requests[]","title"],r);const u=d(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&m(e,["requests[]","outputDimensionality"],u),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function zS(n,e){const a={},o=d(n,["taskType"]);e!==void 0&&o!=null&&m(e,["instances[]","task_type"],o);const r=d(n,["title"]);e!==void 0&&r!=null&&m(e,["instances[]","title"],r);const u=d(n,["outputDimensionality"]);e!==void 0&&u!=null&&m(e,["parameters","outputDimensionality"],u);const f=d(n,["mimeType"]);e!==void 0&&f!=null&&m(e,["instances[]","mimeType"],f);const p=d(n,["autoTruncate"]);return e!==void 0&&p!=null&&m(e,["parameters","autoTruncate"],p),a}function OS(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["contents"]);if(r!=null){let p=Mc(n,r);Array.isArray(p)&&(p=p.map(y=>y)),m(a,["requests[]","content"],p)}const u=d(e,["config"]);u!=null&&BS(u,a);const f=d(e,["model"]);return f!==void 0&&m(a,["requests[]","model"],Ce(n,f)),a}function JS(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["contents"]);if(r!=null){let f=Mc(n,r);Array.isArray(f)&&(f=f.map(p=>p)),m(a,["instances[]","content"],f)}const u=d(e,["config"]);return u!=null&&zS(u,a),a}function YS(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),m(e,["embeddings"],u)}const r=d(n,["metadata"]);return r!=null&&m(e,["metadata"],r),e}function FS(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["predictions[]","embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>_S(f))),m(e,["embeddings"],u)}const r=d(n,["metadata"]);return r!=null&&m(e,["metadata"],r),e}function KS(n){const e={},a=d(n,["endpoint"]);a!=null&&m(e,["name"],a);const o=d(n,["deployedModelId"]);return o!=null&&m(e,["deployedModelId"],o),e}function $S(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(n,["fileUri"]);a!=null&&m(e,["fileUri"],a);const o=d(n,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function QS(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=d(n,["description"]);a!=null&&m(e,["description"],a);const o=d(n,["name"]);o!=null&&m(e,["name"],o);const r=d(n,["parameters"]);r!=null&&m(e,["parameters"],r);const u=d(n,["parametersJsonSchema"]);u!=null&&m(e,["parametersJsonSchema"],u);const f=d(n,["response"]);f!=null&&m(e,["response"],f);const p=d(n,["responseJsonSchema"]);return p!=null&&m(e,["responseJsonSchema"],p),e}function XS(n,e,a){const o={},r=d(e,["systemInstruction"]);a!==void 0&&r!=null&&m(a,["systemInstruction"],_l(ut(r)));const u=d(e,["temperature"]);u!=null&&m(o,["temperature"],u);const f=d(e,["topP"]);f!=null&&m(o,["topP"],f);const p=d(e,["topK"]);p!=null&&m(o,["topK"],p);const y=d(e,["candidateCount"]);y!=null&&m(o,["candidateCount"],y);const g=d(e,["maxOutputTokens"]);g!=null&&m(o,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&m(o,["stopSequences"],v);const b=d(e,["responseLogprobs"]);b!=null&&m(o,["responseLogprobs"],b);const w=d(e,["logprobs"]);w!=null&&m(o,["logprobs"],w);const N=d(e,["presencePenalty"]);N!=null&&m(o,["presencePenalty"],N);const _=d(e,["frequencyPenalty"]);_!=null&&m(o,["frequencyPenalty"],_);const E=d(e,["seed"]);E!=null&&m(o,["seed"],E);const A=d(e,["responseMimeType"]);A!=null&&m(o,["responseMimeType"],A);const R=d(e,["responseSchema"]);R!=null&&m(o,["responseSchema"],Rc(R));const L=d(e,["responseJsonSchema"]);if(L!=null&&m(o,["responseJsonSchema"],L),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=d(e,["safetySettings"]);if(a!==void 0&&V!=null){let Q=V;Array.isArray(Q)&&(Q=Q.map(Y=>V2(Y))),m(a,["safetySettings"],Q)}const M=d(e,["tools"]);if(a!==void 0&&M!=null){let Q=_a(M);Array.isArray(Q)&&(Q=Q.map(Y=>O2(Ea(Y)))),m(a,["tools"],Q)}const G=d(e,["toolConfig"]);if(a!==void 0&&G!=null&&m(a,["toolConfig"],G),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=d(e,["cachedContent"]);a!==void 0&&q!=null&&m(a,["cachedContent"],An(n,q));const k=d(e,["responseModalities"]);k!=null&&m(o,["responseModalities"],k);const F=d(e,["mediaResolution"]);F!=null&&m(o,["mediaResolution"],F);const $=d(e,["speechConfig"]);if($!=null&&m(o,["speechConfig"],Ic($)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Z=d(e,["thinkingConfig"]);Z!=null&&m(o,["thinkingConfig"],Z);const ae=d(e,["imageConfig"]);return ae!=null&&m(o,["imageConfig"],ae),o}function ZS(n,e,a){const o={},r=d(e,["systemInstruction"]);a!==void 0&&r!=null&&m(a,["systemInstruction"],ut(r));const u=d(e,["temperature"]);u!=null&&m(o,["temperature"],u);const f=d(e,["topP"]);f!=null&&m(o,["topP"],f);const p=d(e,["topK"]);p!=null&&m(o,["topK"],p);const y=d(e,["candidateCount"]);y!=null&&m(o,["candidateCount"],y);const g=d(e,["maxOutputTokens"]);g!=null&&m(o,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&m(o,["stopSequences"],v);const b=d(e,["responseLogprobs"]);b!=null&&m(o,["responseLogprobs"],b);const w=d(e,["logprobs"]);w!=null&&m(o,["logprobs"],w);const N=d(e,["presencePenalty"]);N!=null&&m(o,["presencePenalty"],N);const _=d(e,["frequencyPenalty"]);_!=null&&m(o,["frequencyPenalty"],_);const E=d(e,["seed"]);E!=null&&m(o,["seed"],E);const A=d(e,["responseMimeType"]);A!=null&&m(o,["responseMimeType"],A);const R=d(e,["responseSchema"]);R!=null&&m(o,["responseSchema"],Rc(R));const L=d(e,["responseJsonSchema"]);L!=null&&m(o,["responseJsonSchema"],L);const V=d(e,["routingConfig"]);V!=null&&m(o,["routingConfig"],V);const M=d(e,["modelSelectionConfig"]);M!=null&&m(o,["modelConfig"],M);const G=d(e,["safetySettings"]);if(a!==void 0&&G!=null){let B=G;Array.isArray(B)&&(B=B.map(te=>te)),m(a,["safetySettings"],B)}const q=d(e,["tools"]);if(a!==void 0&&q!=null){let B=_a(q);Array.isArray(B)&&(B=B.map(te=>T0(Ea(te)))),m(a,["tools"],B)}const k=d(e,["toolConfig"]);a!==void 0&&k!=null&&m(a,["toolConfig"],k);const F=d(e,["labels"]);a!==void 0&&F!=null&&m(a,["labels"],F);const $=d(e,["cachedContent"]);a!==void 0&&$!=null&&m(a,["cachedContent"],An(n,$));const Z=d(e,["responseModalities"]);Z!=null&&m(o,["responseModalities"],Z);const ae=d(e,["mediaResolution"]);ae!=null&&m(o,["mediaResolution"],ae);const Q=d(e,["speechConfig"]);Q!=null&&m(o,["speechConfig"],N0(Ic(Q)));const Y=d(e,["audioTimestamp"]);Y!=null&&m(o,["audioTimestamp"],Y);const ne=d(e,["thinkingConfig"]);ne!=null&&m(o,["thinkingConfig"],ne);const ee=d(e,["imageConfig"]);return ee!=null&&m(o,["imageConfig"],ee),o}function mg(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["contents"]);if(r!=null){let f=Jt(r);Array.isArray(f)&&(f=f.map(p=>_l(p))),m(a,["contents"],f)}const u=d(e,["config"]);return u!=null&&m(a,["generationConfig"],XS(n,u,a)),a}function pg(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["contents"]);if(r!=null){let f=Jt(r);Array.isArray(f)&&(f=f.map(p=>p)),m(a,["contents"],f)}const u=d(e,["config"]);return u!=null&&m(a,["generationConfig"],ZS(n,u,a)),a}function gg(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>SS(g))),m(e,["candidates"],y)}const r=d(n,["modelVersion"]);r!=null&&m(e,["modelVersion"],r);const u=d(n,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const f=d(n,["responseId"]);f!=null&&m(e,["responseId"],f);const p=d(n,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function yg(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["candidates"],g)}const r=d(n,["createTime"]);r!=null&&m(e,["createTime"],r);const u=d(n,["modelVersion"]);u!=null&&m(e,["modelVersion"],u);const f=d(n,["promptFeedback"]);f!=null&&m(e,["promptFeedback"],f);const p=d(n,["responseId"]);p!=null&&m(e,["responseId"],p);const y=d(n,["usageMetadata"]);return y!=null&&m(e,["usageMetadata"],y),e}function WS(n,e){const a={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=d(n,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const r=d(n,["aspectRatio"]);e!==void 0&&r!=null&&m(e,["parameters","aspectRatio"],r);const u=d(n,["guidanceScale"]);if(e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=d(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const p=d(n,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const y=d(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&m(e,["parameters","includeSafetyAttributes"],y);const g=d(n,["includeRaiReason"]);e!==void 0&&g!=null&&m(e,["parameters","includeRaiReason"],g);const v=d(n,["language"]);e!==void 0&&v!=null&&m(e,["parameters","language"],v);const b=d(n,["outputMimeType"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","mimeType"],b);const w=d(n,["outputCompressionQuality"]);if(e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=d(n,["imageSize"]);if(e!==void 0&&N!=null&&m(e,["parameters","sampleImageSize"],N),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function e2(n,e){const a={},o=d(n,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const r=d(n,["negativePrompt"]);e!==void 0&&r!=null&&m(e,["parameters","negativePrompt"],r);const u=d(n,["numberOfImages"]);e!==void 0&&u!=null&&m(e,["parameters","sampleCount"],u);const f=d(n,["aspectRatio"]);e!==void 0&&f!=null&&m(e,["parameters","aspectRatio"],f);const p=d(n,["guidanceScale"]);e!==void 0&&p!=null&&m(e,["parameters","guidanceScale"],p);const y=d(n,["seed"]);e!==void 0&&y!=null&&m(e,["parameters","seed"],y);const g=d(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&m(e,["parameters","safetySetting"],g);const v=d(n,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const b=d(n,["includeSafetyAttributes"]);e!==void 0&&b!=null&&m(e,["parameters","includeSafetyAttributes"],b);const w=d(n,["includeRaiReason"]);e!==void 0&&w!=null&&m(e,["parameters","includeRaiReason"],w);const N=d(n,["language"]);e!==void 0&&N!=null&&m(e,["parameters","language"],N);const _=d(n,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const E=d(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","compressionQuality"],E);const A=d(n,["addWatermark"]);e!==void 0&&A!=null&&m(e,["parameters","addWatermark"],A);const R=d(n,["labels"]);e!==void 0&&R!=null&&m(e,["labels"],R);const L=d(n,["imageSize"]);e!==void 0&&L!=null&&m(e,["parameters","sampleImageSize"],L);const V=d(n,["enhancePrompt"]);return e!==void 0&&V!=null&&m(e,["parameters","enhancePrompt"],V),a}function t2(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["prompt"]);r!=null&&m(a,["instances[0]","prompt"],r);const u=d(e,["config"]);return u!=null&&WS(u,a),a}function n2(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["prompt"]);r!=null&&m(a,["instances[0]","prompt"],r);const u=d(e,["config"]);return u!=null&&e2(u,a),a}function i2(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>p2(f))),m(e,["generatedImages"],u)}const r=d(n,["positivePromptSafetyAttributes"]);return r!=null&&m(e,["positivePromptSafetyAttributes"],w0(r)),e}function a2(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Cl(f))),m(e,["generatedImages"],u)}const r=d(n,["positivePromptSafetyAttributes"]);return r!=null&&m(e,["positivePromptSafetyAttributes"],S0(r)),e}function s2(n,e){const a={},o=d(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=d(n,["durationSeconds"]);if(e!==void 0&&r!=null&&m(e,["parameters","durationSeconds"],r),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=d(n,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=d(n,["resolution"]);e!==void 0&&f!=null&&m(e,["parameters","resolution"],f);const p=d(n,["personGeneration"]);if(e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=d(n,["negativePrompt"]);e!==void 0&&y!=null&&m(e,["parameters","negativePrompt"],y);const g=d(n,["enhancePrompt"]);if(e!==void 0&&g!=null&&m(e,["parameters","enhancePrompt"],g),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=d(n,["lastFrame"]);e!==void 0&&v!=null&&m(e,["instances[0]","lastFrame"],Al(v));const b=d(n,["referenceImages"]);if(e!==void 0&&b!=null){let w=b;Array.isArray(w)&&(w=w.map(N=>iN(N))),m(e,["instances[0]","referenceImages"],w)}if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function o2(n,e){const a={},o=d(n,["numberOfVideos"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const u=d(n,["fps"]);e!==void 0&&u!=null&&m(e,["parameters","fps"],u);const f=d(n,["durationSeconds"]);e!==void 0&&f!=null&&m(e,["parameters","durationSeconds"],f);const p=d(n,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const y=d(n,["aspectRatio"]);e!==void 0&&y!=null&&m(e,["parameters","aspectRatio"],y);const g=d(n,["resolution"]);e!==void 0&&g!=null&&m(e,["parameters","resolution"],g);const v=d(n,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const b=d(n,["pubsubTopic"]);e!==void 0&&b!=null&&m(e,["parameters","pubsubTopic"],b);const w=d(n,["negativePrompt"]);e!==void 0&&w!=null&&m(e,["parameters","negativePrompt"],w);const N=d(n,["enhancePrompt"]);e!==void 0&&N!=null&&m(e,["parameters","enhancePrompt"],N);const _=d(n,["generateAudio"]);e!==void 0&&_!=null&&m(e,["parameters","generateAudio"],_);const E=d(n,["lastFrame"]);e!==void 0&&E!=null&&m(e,["instances[0]","lastFrame"],Qt(E));const A=d(n,["referenceImages"]);if(e!==void 0&&A!=null){let V=A;Array.isArray(V)&&(V=V.map(M=>aN(M))),m(e,["instances[0]","referenceImages"],V)}const R=d(n,["mask"]);e!==void 0&&R!=null&&m(e,["instances[0]","mask"],nN(R));const L=d(n,["compressionQuality"]);return e!==void 0&&L!=null&&m(e,["parameters","compressionQuality"],L),a}function l2(n){const e={},a=d(n,["name"]);a!=null&&m(e,["name"],a);const o=d(n,["metadata"]);o!=null&&m(e,["metadata"],o);const r=d(n,["done"]);r!=null&&m(e,["done"],r);const u=d(n,["error"]);u!=null&&m(e,["error"],u);const f=d(n,["response","generateVideoResponse"]);return f!=null&&m(e,["response"],d2(f)),e}function r2(n){const e={},a=d(n,["name"]);a!=null&&m(e,["name"],a);const o=d(n,["metadata"]);o!=null&&m(e,["metadata"],o);const r=d(n,["done"]);r!=null&&m(e,["done"],r);const u=d(n,["error"]);u!=null&&m(e,["error"],u);const f=d(n,["response"]);return f!=null&&m(e,["response"],f2(f)),e}function u2(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["prompt"]);r!=null&&m(a,["instances[0]","prompt"],r);const u=d(e,["image"]);u!=null&&m(a,["instances[0]","image"],Al(u));const f=d(e,["video"]);f!=null&&m(a,["instances[0]","video"],E0(f));const p=d(e,["source"]);p!=null&&h2(p,a);const y=d(e,["config"]);return y!=null&&s2(y,a),a}function c2(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["prompt"]);r!=null&&m(a,["instances[0]","prompt"],r);const u=d(e,["image"]);u!=null&&m(a,["instances[0]","image"],Qt(u));const f=d(e,["video"]);f!=null&&m(a,["instances[0]","video"],_0(f));const p=d(e,["source"]);p!=null&&m2(p,a);const y=d(e,["config"]);return y!=null&&o2(y,a),a}function d2(n){const e={},a=d(n,["generatedSamples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>y2(f))),m(e,["generatedVideos"],u)}const o=d(n,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function f2(n){const e={},a=d(n,["videos"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>x2(f))),m(e,["generatedVideos"],u)}const o=d(n,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function h2(n,e){const a={},o=d(n,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const r=d(n,["image"]);e!==void 0&&r!=null&&m(e,["instances[0]","image"],Al(r));const u=d(n,["video"]);return e!==void 0&&u!=null&&m(e,["instances[0]","video"],E0(u)),a}function m2(n,e){const a={},o=d(n,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const r=d(n,["image"]);e!==void 0&&r!=null&&m(e,["instances[0]","image"],Qt(r));const u=d(n,["video"]);return e!==void 0&&u!=null&&m(e,["instances[0]","video"],_0(u)),a}function p2(n){const e={},a=d(n,["_self"]);a!=null&&m(e,["image"],N2(a));const o=d(n,["raiFilteredReason"]);o!=null&&m(e,["raiFilteredReason"],o);const r=d(n,["_self"]);return r!=null&&m(e,["safetyAttributes"],w0(r)),e}function Cl(n){const e={},a=d(n,["_self"]);a!=null&&m(e,["image"],b0(a));const o=d(n,["raiFilteredReason"]);o!=null&&m(e,["raiFilteredReason"],o);const r=d(n,["_self"]);r!=null&&m(e,["safetyAttributes"],S0(r));const u=d(n,["prompt"]);return u!=null&&m(e,["enhancedPrompt"],u),e}function g2(n){const e={},a=d(n,["_self"]);a!=null&&m(e,["mask"],b0(a));const o=d(n,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>u)),m(e,["labels"],r)}return e}function y2(n){const e={},a=d(n,["_self"]);return a!=null&&m(e,["video"],eN(a)),e}function x2(n){const e={},a=d(n,["_self"]);return a!=null&&m(e,["video"],tN(a)),e}function v2(n){const e={},a=d(n,["modelSelectionConfig"]);a!=null&&m(e,["modelConfig"],a);const o=d(n,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const r=d(n,["candidateCount"]);r!=null&&m(e,["candidateCount"],r);const u=d(n,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=d(n,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=d(n,["logprobs"]);p!=null&&m(e,["logprobs"],p);const y=d(n,["maxOutputTokens"]);y!=null&&m(e,["maxOutputTokens"],y);const g=d(n,["mediaResolution"]);g!=null&&m(e,["mediaResolution"],g);const v=d(n,["presencePenalty"]);v!=null&&m(e,["presencePenalty"],v);const b=d(n,["responseJsonSchema"]);b!=null&&m(e,["responseJsonSchema"],b);const w=d(n,["responseLogprobs"]);w!=null&&m(e,["responseLogprobs"],w);const N=d(n,["responseMimeType"]);N!=null&&m(e,["responseMimeType"],N);const _=d(n,["responseModalities"]);_!=null&&m(e,["responseModalities"],_);const E=d(n,["responseSchema"]);E!=null&&m(e,["responseSchema"],E);const A=d(n,["routingConfig"]);A!=null&&m(e,["routingConfig"],A);const R=d(n,["seed"]);R!=null&&m(e,["seed"],R);const L=d(n,["speechConfig"]);L!=null&&m(e,["speechConfig"],N0(L));const V=d(n,["stopSequences"]);V!=null&&m(e,["stopSequences"],V);const M=d(n,["temperature"]);M!=null&&m(e,["temperature"],M);const G=d(n,["thinkingConfig"]);G!=null&&m(e,["thinkingConfig"],G);const q=d(n,["topK"]);q!=null&&m(e,["topK"],q);const k=d(n,["topP"]);return k!=null&&m(e,["topP"],k),e}function b2(n,e){const a={},o=d(e,["model"]);return o!=null&&m(a,["_url","name"],Ce(n,o)),a}function w2(n,e){const a={},o=d(e,["model"]);return o!=null&&m(a,["_url","name"],Ce(n,o)),a}function S2(n){const e={},a=d(n,["timeRangeFilter"]);if(a!=null&&m(e,["timeRangeFilter"],a),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function N2(n){const e={},a=d(n,["bytesBase64Encoded"]);a!=null&&m(e,["imageBytes"],ni(a));const o=d(n,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function b0(n){const e={},a=d(n,["gcsUri"]);a!=null&&m(e,["gcsUri"],a);const o=d(n,["bytesBase64Encoded"]);o!=null&&m(e,["imageBytes"],ni(o));const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Al(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=d(n,["imageBytes"]);a!=null&&m(e,["bytesBase64Encoded"],ni(a));const o=d(n,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Qt(n){const e={},a=d(n,["gcsUri"]);a!=null&&m(e,["gcsUri"],a);const o=d(n,["imageBytes"]);o!=null&&m(e,["bytesBase64Encoded"],ni(o));const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function T2(n,e,a){const o={},r=d(e,["pageSize"]);a!==void 0&&r!=null&&m(a,["_query","pageSize"],r);const u=d(e,["pageToken"]);a!==void 0&&u!=null&&m(a,["_query","pageToken"],u);const f=d(e,["filter"]);a!==void 0&&f!=null&&m(a,["_query","filter"],f);const p=d(e,["queryBase"]);return a!==void 0&&p!=null&&m(a,["_url","models_url"],f0(n,p)),o}function E2(n,e,a){const o={},r=d(e,["pageSize"]);a!==void 0&&r!=null&&m(a,["_query","pageSize"],r);const u=d(e,["pageToken"]);a!==void 0&&u!=null&&m(a,["_query","pageToken"],u);const f=d(e,["filter"]);a!==void 0&&f!=null&&m(a,["_query","filter"],f);const p=d(e,["queryBase"]);return a!==void 0&&p!=null&&m(a,["_url","models_url"],f0(n,p)),o}function _2(n,e){const a={},o=d(e,["config"]);return o!=null&&T2(n,o,a),a}function C2(n,e){const a={},o=d(e,["config"]);return o!=null&&E2(n,o,a),a}function A2(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=d(n,["_self"]);if(r!=null){let u=h0(r);Array.isArray(u)&&(u=u.map(f=>mc(f))),m(e,["models"],u)}return e}function M2(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=d(n,["_self"]);if(r!=null){let u=h0(r);Array.isArray(u)&&(u=u.map(f=>pc(f))),m(e,["models"],u)}return e}function R2(n){const e={},a=d(n,["maskMode"]);a!=null&&m(e,["maskMode"],a);const o=d(n,["segmentationClasses"]);o!=null&&m(e,["maskClasses"],o);const r=d(n,["maskDilation"]);return r!=null&&m(e,["dilation"],r),e}function mc(n){const e={},a=d(n,["name"]);a!=null&&m(e,["name"],a);const o=d(n,["displayName"]);o!=null&&m(e,["displayName"],o);const r=d(n,["description"]);r!=null&&m(e,["description"],r);const u=d(n,["version"]);u!=null&&m(e,["version"],u);const f=d(n,["_self"]);f!=null&&m(e,["tunedModelInfo"],J2(f));const p=d(n,["inputTokenLimit"]);p!=null&&m(e,["inputTokenLimit"],p);const y=d(n,["outputTokenLimit"]);y!=null&&m(e,["outputTokenLimit"],y);const g=d(n,["supportedGenerationMethods"]);return g!=null&&m(e,["supportedActions"],g),e}function pc(n){const e={},a=d(n,["name"]);a!=null&&m(e,["name"],a);const o=d(n,["displayName"]);o!=null&&m(e,["displayName"],o);const r=d(n,["description"]);r!=null&&m(e,["description"],r);const u=d(n,["versionId"]);u!=null&&m(e,["version"],u);const f=d(n,["deployedModels"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(w=>KS(w))),m(e,["endpoints"],b)}const p=d(n,["labels"]);p!=null&&m(e,["labels"],p);const y=d(n,["_self"]);y!=null&&m(e,["tunedModelInfo"],Y2(y));const g=d(n,["defaultCheckpointId"]);g!=null&&m(e,["defaultCheckpointId"],g);const v=d(n,["checkpoints"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(w=>w)),m(e,["checkpoints"],b)}return e}function I2(n){const e={},a=d(n,["videoMetadata"]);a!=null&&m(e,["videoMetadata"],a);const o=d(n,["thought"]);o!=null&&m(e,["thought"],o);const r=d(n,["inlineData"]);r!=null&&m(e,["inlineData"],wS(r));const u=d(n,["fileData"]);u!=null&&m(e,["fileData"],$S(u));const f=d(n,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const p=d(n,["functionCall"]);p!=null&&m(e,["functionCall"],p);const y=d(n,["codeExecutionResult"]);y!=null&&m(e,["codeExecutionResult"],y);const g=d(n,["executableCode"]);g!=null&&m(e,["executableCode"],g);const v=d(n,["functionResponse"]);v!=null&&m(e,["functionResponse"],v);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function k2(n){const e={},a=d(n,["productImage"]);return a!=null&&m(e,["image"],Qt(a)),e}function D2(n,e){const a={},o=d(n,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const r=d(n,["baseSteps"]);e!==void 0&&r!=null&&m(e,["parameters","editConfig","baseSteps"],r);const u=d(n,["outputGcsUri"]);e!==void 0&&u!=null&&m(e,["parameters","storageUri"],u);const f=d(n,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const p=d(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&m(e,["parameters","safetySetting"],p);const y=d(n,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const g=d(n,["addWatermark"]);e!==void 0&&g!=null&&m(e,["parameters","addWatermark"],g);const v=d(n,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const b=d(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const w=d(n,["enhancePrompt"]);e!==void 0&&w!=null&&m(e,["parameters","enhancePrompt"],w);const N=d(n,["labels"]);return e!==void 0&&N!=null&&m(e,["labels"],N),a}function U2(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["source"]);r!=null&&L2(r,a);const u=d(e,["config"]);return u!=null&&D2(u,a),a}function q2(n){const e={},a=d(n,["predictions"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(r=>Cl(r))),m(e,["generatedImages"],o)}return e}function L2(n,e){const a={},o=d(n,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const r=d(n,["personImage"]);e!==void 0&&r!=null&&m(e,["instances[0]","personImage","image"],Qt(r));const u=d(n,["productImages"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>k2(p))),m(e,["instances[0]","productImages"],f)}return a}function G2(n){const e={},a=d(n,["referenceImage"]);a!=null&&m(e,["referenceImage"],Qt(a));const o=d(n,["referenceId"]);o!=null&&m(e,["referenceId"],o);const r=d(n,["referenceType"]);r!=null&&m(e,["referenceType"],r);const u=d(n,["maskImageConfig"]);u!=null&&m(e,["maskImageConfig"],R2(u));const f=d(n,["controlImageConfig"]);f!=null&&m(e,["controlImageConfig"],AS(f));const p=d(n,["styleImageConfig"]);p!=null&&m(e,["styleImageConfig"],p);const y=d(n,["subjectImageConfig"]);return y!=null&&m(e,["subjectImageConfig"],y),e}function w0(n){const e={},a=d(n,["safetyAttributes","categories"]);a!=null&&m(e,["categories"],a);const o=d(n,["safetyAttributes","scores"]);o!=null&&m(e,["scores"],o);const r=d(n,["contentType"]);return r!=null&&m(e,["contentType"],r),e}function S0(n){const e={},a=d(n,["safetyAttributes","categories"]);a!=null&&m(e,["categories"],a);const o=d(n,["safetyAttributes","scores"]);o!=null&&m(e,["scores"],o);const r=d(n,["contentType"]);return r!=null&&m(e,["contentType"],r),e}function V2(n){const e={};if(d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=d(n,["category"]);a!=null&&m(e,["category"],a);const o=d(n,["threshold"]);return o!=null&&m(e,["threshold"],o),e}function H2(n){const e={},a=d(n,["image"]);return a!=null&&m(e,["image"],Qt(a)),e}function P2(n,e){const a={},o=d(n,["mode"]);e!==void 0&&o!=null&&m(e,["parameters","mode"],o);const r=d(n,["maxPredictions"]);e!==void 0&&r!=null&&m(e,["parameters","maxPredictions"],r);const u=d(n,["confidenceThreshold"]);e!==void 0&&u!=null&&m(e,["parameters","confidenceThreshold"],u);const f=d(n,["maskDilation"]);e!==void 0&&f!=null&&m(e,["parameters","maskDilation"],f);const p=d(n,["binaryColorThreshold"]);e!==void 0&&p!=null&&m(e,["parameters","binaryColorThreshold"],p);const y=d(n,["labels"]);return e!==void 0&&y!=null&&m(e,["labels"],y),a}function j2(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["source"]);r!=null&&z2(r,a);const u=d(e,["config"]);return u!=null&&P2(u,a),a}function B2(n){const e={},a=d(n,["predictions"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(r=>g2(r))),m(e,["generatedMasks"],o)}return e}function z2(n,e){const a={},o=d(n,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const r=d(n,["image"]);e!==void 0&&r!=null&&m(e,["instances[0]","image"],Qt(r));const u=d(n,["scribbleImage"]);return e!==void 0&&u!=null&&m(e,["instances[0]","scribble"],H2(u)),a}function N0(n){const e={},a=d(n,["voiceConfig"]);if(a!=null&&m(e,["voiceConfig"],a),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=d(n,["languageCode"]);return o!=null&&m(e,["languageCode"],o),e}function O2(n){const e={},a=d(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>g)),m(e,["functionDeclarations"],y)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearch"]);o!=null&&m(e,["googleSearch"],S2(o));const r=d(n,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],r),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const u=d(n,["urlContext"]);u!=null&&m(e,["urlContext"],u);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const p=d(n,["codeExecution"]);return p!=null&&m(e,["codeExecution"],p),e}function T0(n){const e={},a=d(n,["functionDeclarations"]);if(a!=null){let b=a;Array.isArray(b)&&(b=b.map(w=>QS(w))),m(e,["functionDeclarations"],b)}const o=d(n,["retrieval"]);o!=null&&m(e,["retrieval"],o);const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],r);const u=d(n,["googleSearchRetrieval"]);u!=null&&m(e,["googleSearchRetrieval"],u);const f=d(n,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=d(n,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const y=d(n,["urlContext"]);y!=null&&m(e,["urlContext"],y);const g=d(n,["computerUse"]);g!=null&&m(e,["computerUse"],g);const v=d(n,["codeExecution"]);return v!=null&&m(e,["codeExecution"],v),e}function J2(n){const e={},a=d(n,["baseModel"]);a!=null&&m(e,["baseModel"],a);const o=d(n,["createTime"]);o!=null&&m(e,["createTime"],o);const r=d(n,["updateTime"]);return r!=null&&m(e,["updateTime"],r),e}function Y2(n){const e={},a=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&m(e,["baseModel"],a);const o=d(n,["createTime"]);o!=null&&m(e,["createTime"],o);const r=d(n,["updateTime"]);return r!=null&&m(e,["updateTime"],r),e}function F2(n,e){const a={},o=d(n,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const r=d(n,["description"]);e!==void 0&&r!=null&&m(e,["description"],r);const u=d(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&m(e,["defaultCheckpointId"],u),a}function K2(n,e){const a={},o=d(n,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const r=d(n,["description"]);e!==void 0&&r!=null&&m(e,["description"],r);const u=d(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&m(e,["defaultCheckpointId"],u),a}function $2(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","name"],Ce(n,o));const r=d(e,["config"]);return r!=null&&F2(r,a),a}function Q2(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["config"]);return r!=null&&K2(r,a),a}function X2(n,e){const a={},o=d(n,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const r=d(n,["includeRaiReason"]);e!==void 0&&r!=null&&m(e,["parameters","includeRaiReason"],r);const u=d(n,["outputMimeType"]);e!==void 0&&u!=null&&m(e,["parameters","outputOptions","mimeType"],u);const f=d(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const p=d(n,["enhanceInputImage"]);e!==void 0&&p!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],p);const y=d(n,["imagePreservationFactor"]);e!==void 0&&y!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const g=d(n,["labels"]);e!==void 0&&g!=null&&m(e,["labels"],g);const v=d(n,["numberOfImages"]);e!==void 0&&v!=null&&m(e,["parameters","sampleCount"],v);const b=d(n,["mode"]);return e!==void 0&&b!=null&&m(e,["parameters","mode"],b),a}function Z2(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["_url","model"],Ce(n,o));const r=d(e,["image"]);r!=null&&m(a,["instances[0]","image"],Qt(r));const u=d(e,["upscaleFactor"]);u!=null&&m(a,["parameters","upscaleConfig","upscaleFactor"],u);const f=d(e,["config"]);return f!=null&&X2(f,a),a}function W2(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>Cl(u))),m(e,["generatedImages"],r)}return e}function eN(n){const e={},a=d(n,["video","uri"]);a!=null&&m(e,["uri"],a);const o=d(n,["video","encodedVideo"]);o!=null&&m(e,["videoBytes"],ni(o));const r=d(n,["encoding"]);return r!=null&&m(e,["mimeType"],r),e}function tN(n){const e={},a=d(n,["gcsUri"]);a!=null&&m(e,["uri"],a);const o=d(n,["bytesBase64Encoded"]);o!=null&&m(e,["videoBytes"],ni(o));const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function nN(n){const e={},a=d(n,["image"]);a!=null&&m(e,["_self"],Qt(a));const o=d(n,["maskMode"]);return o!=null&&m(e,["maskMode"],o),e}function iN(n){const e={},a=d(n,["image"]);a!=null&&m(e,["image"],Al(a));const o=d(n,["referenceType"]);return o!=null&&m(e,["referenceType"],o),e}function aN(n){const e={},a=d(n,["image"]);a!=null&&m(e,["image"],Qt(a));const o=d(n,["referenceType"]);return o!=null&&m(e,["referenceType"],o),e}function E0(n){const e={},a=d(n,["uri"]);a!=null&&m(e,["video","uri"],a);const o=d(n,["videoBytes"]);o!=null&&m(e,["video","encodedVideo"],ni(o));const r=d(n,["mimeType"]);return r!=null&&m(e,["encoding"],r),e}function _0(n){const e={},a=d(n,["uri"]);a!=null&&m(e,["gcsUri"],a);const o=d(n,["videoBytes"]);o!=null&&m(e,["bytesBase64Encoded"],ni(o));const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sN="Content-Type",oN="X-Server-Timeout",lN="User-Agent",gc="x-goog-api-client",rN="1.23.0",uN=`google-genai-sdk/${rN}`,cN="v1beta1",dN="v1beta",xg=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class fN{constructor(e){var a,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:cN,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:dN,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),a=new URL(e);return a.protocol=a.protocol=="http:"?"ws":"wss",a.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,a,o){const r=[this.getRequestUrlInternal(a)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let a=this.clientOptions.httpOptions;e.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,a,o);if(e.queryParams)for(const[f,p]of Object.entries(e.queryParams))r.searchParams.append(f,String(p));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,a,e.abortSignal),this.unaryApiCall(r,u,e.httpMethod)}patchHttpOptions(e,a){const o=JSON.parse(JSON.stringify(e));for(const[r,u]of Object.entries(a))typeof u=="object"?o[r]=Object.assign(Object.assign({},o[r]),u):u!==void 0&&(o[r]=u);return o}async requestStream(e){let a=this.clientOptions.httpOptions;e.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,a,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,a,e.abortSignal),this.streamApiCall(r,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,a,o){if(a&&a.timeout||o){const r=new AbortController,u=r.signal;if(a.timeout&&(a==null?void 0:a.timeout)>0){const f=setTimeout(()=>r.abort(),a.timeout);f&&typeof f.unref=="function"&&f.unref()}o&&o.addEventListener("abort",()=>{r.abort()}),e.signal=u}return a&&a.extraBody!==null&&hN(e,a.extraBody),e.headers=await this.getHeadersInternal(a),e}async unaryApiCall(e,a,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},a),{method:o})).then(async r=>(await vg(r),new dc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,a,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},a),{method:o})).then(async r=>(await vg(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var a;return va(this,arguments,function*(){const r=(a=e==null?void 0:e.body)===null||a===void 0?void 0:a.getReader(),u=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let f="";for(;;){const{done:p,value:y}=yield Pe(r.read());if(p){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=u.decode(y,{stream:!0});try{const b=JSON.parse(g);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),N=w.status,_=w.code,E=`got status: ${N}. ${JSON.stringify(b)}`;if(_>=400&&_<600)throw new El({message:E,status:_})}}catch(b){if(b.name==="ApiError")throw b}f+=g;let v=f.match(xg);for(;v;){const b=v[1];try{const w=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Pe(new dc(w)),f=f.slice(v[0].length),v=f.match(xg)}catch(w){throw new Error(`exception parsing stream chunk ${b}. ${w}`)}}}}finally{r.releaseLock()}})}async apiCall(e,a){return fetch(e,a).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},a=uN+" "+this.clientOptions.userAgentExtra;return e[lN]=a,e[gc]=a,e[sN]="application/json",e}async getHeadersInternal(e){const a=new Headers;if(e&&e.headers){for(const[o,r]of Object.entries(e.headers))a.append(o,r);e.timeout&&e.timeout>0&&a.append(oN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a),a}async uploadFile(e,a){var o;const r={};a!=null&&(r.mimeType=a.mimeType,r.name=a.name,r.displayName=a.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const u=this.clientOptions.uploader,f=await u.stat(e);r.sizeBytes=String(f.size);const p=(o=a==null?void 0:a.mimeType)!==null&&o!==void 0?o:f.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=p;const y=await this.fetchUploadUrl(r,a);return u.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,a){var o;let r={};a!=null&&a.httpOptions?r=a.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},f=await this.request({path:oe("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:r});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(o=f==null?void 0:f.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function vg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const a=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(o);throw a>=400&&a<600?new El({message:r,status:a}):new Error(r)}}function hN(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let a={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))a=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(u,f){const p=Object.assign({},u);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const g=f[y],v=p[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?p[y]=o(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),p[y]=g)}return p}const r=o(a,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mN="mcp_used/unknown";let pN=!1;function C0(n){for(const e of n)if(gN(e)||typeof e=="object"&&"inputSchema"in e)return!0;return pN}function A0(n){var e;const a=(e=n[gc])!==null&&e!==void 0?e:"";n[gc]=(a+` ${mN}`).trimStart()}function gN(n){return n!==null&&typeof n=="object"&&n instanceof Dc}function yN(n,e=100){return va(this,arguments,function*(){let o,r=0;for(;r<e;){const u=yield Pe(n.listTools({cursor:o}));for(const f of u.tools)yield yield Pe(f),r++;if(!u.nextCursor)break;o=u.nextCursor}})}class Dc{constructor(e=[],a){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=a}static create(e,a){return new Dc(e,a)}async initialize(){var e,a,o,r;if(this.mcpTools.length>0)return;const u={},f=[];for(const v of this.mcpClients)try{for(var p=!0,y=(a=void 0,Rs(yN(v))),g;g=await y.next(),e=g.done,!e;p=!0){r=g.value,p=!1;const b=r;f.push(b);const w=b.name;if(u[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);u[w]=v}}catch(b){a={error:b}}finally{try{!p&&!e&&(o=y.return)&&await o.call(y)}finally{if(a)throw a.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),C1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const a=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await r.callTool({name:o.name,arguments:o.args},void 0,u);a.push({functionResponse:{name:o.name,response:f.isError?{error:f}:f}})}return a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xN(n,e,a){const o=new v1;let r;a.data instanceof Blob?r=JSON.parse(await a.data.text()):r=JSON.parse(a.data),Object.assign(o,r),e(o)}class vN{constructor(e,a,o){this.apiClient=e,this.auth=a,this.webSocketFactory=o}async connect(e){var a,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=SN(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const v=new Promise(V=>{g=V}),b=e.callbacks,w=function(){g({})},N=this.apiClient,_={onopen:w,onmessage:V=>{xN(N,b.onmessage,V)},onerror:(a=b==null?void 0:b.onerror)!==null&&a!==void 0?a:function(V){},onclose:(o=b==null?void 0:b.onclose)!==null&&o!==void 0?o:function(V){}},E=this.webSocketFactory.create(y,wN(f),_);E.connect(),await v;const L={setup:{model:Ce(this.apiClient,e.model)}};return E.send(JSON.stringify(L)),new bN(E,this.apiClient)}}class bN{constructor(e,a){this.conn=e,this.apiClient=a}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const a=fS(e);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const a=dS(e);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const a={playbackControl:e};this.conn.send(JSON.stringify(a))}play(){this.sendPlaybackControl(ma.PLAY)}pause(){this.sendPlaybackControl(ma.PAUSE)}stop(){this.sendPlaybackControl(ma.STOP)}resetContext(){this.sendPlaybackControl(ma.RESET_CONTEXT)}close(){this.conn.close()}}function wN(n){const e={};return n.forEach((a,o)=>{e[o]=a}),e}function SN(n){const e=new Headers;for(const[a,o]of Object.entries(n))e.append(a,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TN(n,e,a){const o=new x1;let r;a.data instanceof Blob?r=await a.data.text():a.data instanceof ArrayBuffer?r=new TextDecoder().decode(a.data):r=a.data;const u=JSON.parse(r);if(n.isVertexAI()){const f=pS(u);Object.assign(o,f)}else Object.assign(o,u);e(o)}class EN{constructor(e,a,o){this.apiClient=e,this.auth=a,this.webSocketFactory=o,this.music=new vN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var a,o,r,u,f,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&C0(e.config.tools)&&A0(b);const w=MN(b);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w);else{const $=this.apiClient.getApiKey();let Z="BidiGenerateContent",ae="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Z="BidiGenerateContentConstrained",ae="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${Z}?${ae}=${$}`}let N=()=>{};const _=new Promise($=>{N=$}),E=e.callbacks,A=function(){var $;($=E==null?void 0:E.onopen)===null||$===void 0||$.call(E),N({})},R=this.apiClient,L={onopen:A,onmessage:$=>{TN(R,E.onmessage,$)},onerror:(a=E==null?void 0:E.onerror)!==null&&a!==void 0?a:function($){},onclose:(o=E==null?void 0:E.onclose)!==null&&o!==void 0?o:function($){}},V=this.webSocketFactory.create(v,AN(w),L);V.connect(),await _;let M=Ce(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const $=this.apiClient.getProject(),Z=this.apiClient.getLocation();M=`projects/${$}/locations/${Z}/`+M}let G={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[gl.AUDIO]}:e.config.responseModalities=[gl.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(p=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[],k=[];for(const $ of q)if(this.isCallableTool($)){const Z=$;k.push(await Z.tool())}else k.push($);k.length>0&&(e.config.tools=k);const F={model:M,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=cS(this.apiClient,F):G=uS(this.apiClient,F),delete G.config,V.send(JSON.stringify(G)),new CN(V,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const _N={turnComplete:!0};class CN{constructor(e,a){this.conn=e,this.apiClient=a}tLiveClientContent(e,a){if(a.turns!==null&&a.turns!==void 0){let o=[];try{o=Jt(a.turns),e.isVertexAI()||(o=o.map(r=>_l(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof a.turns}'`)}return{clientContent:{turns:o,turnComplete:a.turnComplete}}}return{clientContent:{turnComplete:a.turnComplete}}}tLiveClienttToolResponse(e,a){let o=[];if(a.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(a.functionResponses)?o=a.functionResponses:o=[a.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const u of o){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(NN)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},_N),e);const a=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(a))}sendRealtimeInput(e){let a={};this.apiClient.isVertexAI()?a={realtimeInput:mS(e)}:a={realtimeInput:hS(e)},this.conn.send(JSON.stringify(a))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const a=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(a))}close(){this.conn.close()}}function AN(n){const e={};return n.forEach((a,o)=>{e[o]=a}),e}function MN(n){const e=new Headers;for(const[a,o]of Object.entries(n))e.append(a,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bg=10;function wg(n){var e,a,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const f of(a=n==null?void 0:n.tools)!==null&&a!==void 0?a:[])if(ba(f)){r=!0;break}if(!r)return!0;const u=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function ba(n){return"callTool"in n&&typeof n.callTool=="function"}function RN(n){var e,a,o;return(o=(a=(e=n.config)===null||e===void 0?void 0:e.tools)===null||a===void 0?void 0:a.some(r=>ba(r)))!==null&&o!==void 0?o:!1}function IN(n){var e,a,o;return(o=(a=(e=n.config)===null||e===void 0?void 0:e.tools)===null||a===void 0?void 0:a.some(r=>!ba(r)))!==null&&o!==void 0?o:!1}function Sg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kN extends Ai{constructor(e){super(),this.apiClient=e,this.generateContent=async a=>{var o,r,u,f,p;const y=await this.processParamsMaybeAddMcpUsage(a);if(this.maybeMoveToResponseJsonSchem(a),!RN(a)||wg(a.config))return await this.generateContentInternal(y);if(IN(a))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,v;const b=Jt(y.contents),w=(u=(r=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&u!==void 0?u:bg;let N=0;for(;N<w&&(g=await this.generateContentInternal(y),!(!g.functionCalls||g.functionCalls.length===0));){const _=g.candidates[0].content,E=[];for(const A of(p=(f=a.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[])if(ba(A)){const L=await A.callTool(g.functionCalls);E.push(...L)}N++,v={role:"user",parts:E},y.contents=Jt(y.contents),y.contents.push(_),y.contents.push(v),Sg(y.config)&&(b.push(_),b.push(v))}return Sg(y.config)&&(g.automaticFunctionCallingHistory=b),g},this.generateContentStream=async a=>{if(this.maybeMoveToResponseJsonSchem(a),wg(a.config)){const o=await this.processParamsMaybeAddMcpUsage(a);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(a)},this.generateImages=async a=>await this.generateImagesInternal(a).then(o=>{var r;let u;const f=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:f.push(y);let p;return u?p={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:o.sdkHttpResponse}:p={generatedImages:f,sdkHttpResponse:o.sdkHttpResponse},p}),this.list=async a=>{var o;const f={config:Object.assign(Object.assign({},{queryBase:!0}),a==null?void 0:a.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((o=f.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new qs(Ei.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(f),f)},this.editImage=async a=>{const o={model:a.model,prompt:a.prompt,referenceImages:[],config:a.config};return a.referenceImages&&a.referenceImages&&(o.referenceImages=a.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async a=>{let o={numberOfImages:1,mode:"upscale"};a.config&&(o=Object.assign(Object.assign({},o),a.config));const r={model:a.model,image:a.image,upscaleFactor:a.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async a=>{if((a.prompt||a.image||a.video)&&a.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(a)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var a,o,r;const u=(a=e.config)===null||a===void 0?void 0:a.tools;if(!u)return e;const f=await Promise.all(u.map(async y=>ba(y)?await y.tool():y)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(p.config.tools=f,e.config&&e.config.tools&&C0(e.config.tools)){const y=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),A0(g),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(e){var a,o,r;const u=new Map;for(const f of(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(ba(f)){const p=f,y=await p.tool();for(const g of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,p)}}return u}async processAfcStream(e){var a,o,r;const u=(r=(o=(a=e.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:bg;let f=!1,p=0;const y=await this.initAfcToolsMap(e);return(function(g,v,b){var w,N;return va(this,arguments,function*(){for(var _,E,A,R;p<u;){f&&(p++,f=!1);const G=yield Pe(g.processParamsMaybeAddMcpUsage(b)),q=yield Pe(g.generateContentStreamInternal(G)),k=[],F=[];try{for(var L=!0,V=(E=void 0,Rs(q)),M;M=yield Pe(V.next()),_=M.done,!_;L=!0){R=M.value,L=!1;const $=R;if(yield yield Pe($),$.candidates&&(!((w=$.candidates[0])===null||w===void 0)&&w.content)){F.push($.candidates[0].content);for(const Z of(N=$.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(p<u&&Z.functionCall){if(!Z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(Z.functionCall.name)){const ae=yield Pe(v.get(Z.functionCall.name).callTool([Z.functionCall]));k.push(...ae)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${Z.functionCall.name}`)}}}}catch($){E={error:$}}finally{try{!L&&!_&&(A=V.return)&&(yield Pe(A.call(V)))}finally{if(E)throw E.error}}if(k.length>0){f=!0;const $=new Ns;$.candidates=[{content:{role:"user",parts:k}}],yield yield Pe($);const Z=[];Z.push(...F),Z.push({role:"user",parts:k});const ae=Jt(b.contents).concat(Z);b.contents=ae}else break}})})(this,y,e)}async generateContentInternal(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=pg(this.apiClient,e);return p=oe("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=yg(v),w=new Ns;return Object.assign(w,b),w})}else{const g=mg(this.apiClient,e);return p=oe("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=gg(v),w=new Ns;return Object.assign(w,b),w})}}async generateContentStreamInternal(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=pg(this.apiClient,e);return p=oe("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),f.then(function(b){return va(this,arguments,function*(){var w,N,_,E;try{for(var A=!0,R=Rs(b),L;L=yield Pe(R.next()),w=L.done,!w;A=!0){E=L.value,A=!1;const V=E,M=yg(yield Pe(V.json()));M.sdkHttpResponse={headers:V.headers};const G=new Ns;Object.assign(G,M),yield yield Pe(G)}}catch(V){N={error:V}}finally{try{!A&&!w&&(_=R.return)&&(yield Pe(_.call(R)))}finally{if(N)throw N.error}}})})}else{const g=mg(this.apiClient,e);return p=oe("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(b){return va(this,arguments,function*(){var w,N,_,E;try{for(var A=!0,R=Rs(b),L;L=yield Pe(R.next()),w=L.done,!w;A=!0){E=L.value,A=!1;const V=E,M=gg(yield Pe(V.json()));M.sdkHttpResponse={headers:V.headers};const G=new Ns;Object.assign(G,M),yield yield Pe(G)}}catch(V){N={error:V}}finally{try{!A&&!w&&(_=R.return)&&(yield Pe(_.call(R)))}finally{if(N)throw N.error}}})})}}async embedContent(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=JS(this.apiClient,e);return p=oe("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=FS(v),w=new Zp;return Object.assign(w,b),w})}else{const g=OS(this.apiClient,e);return p=oe("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=YS(v),w=new Zp;return Object.assign(w,b),w})}}async generateImagesInternal(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=n2(this.apiClient,e);return p=oe("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=a2(v),w=new Wp;return Object.assign(w,b),w})}else{const g=t2(this.apiClient,e);return p=oe("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=i2(v),w=new Wp;return Object.assign(w,b),w})}}async editImageInternal(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=PS(this.apiClient,e);return u=oe("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=jS(y),v=new c1;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=Z2(this.apiClient,e);return u=oe("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=W2(y),v=new d1;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=U2(this.apiClient,e);return u=oe("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const g=q2(y),v=new f1;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=j2(this.apiClient,e);return u=oe("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const g=B2(y),v=new h1;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=w2(this.apiClient,e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>pc(v))}else{const g=b2(this.apiClient,e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>mc(v))}}async listInternal(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=C2(this.apiClient,e);return p=oe("{models_url}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=M2(v),w=new eg;return Object.assign(w,b),w})}else{const g=_2(this.apiClient,e);return p=oe("{models_url}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=A2(v),w=new eg;return Object.assign(w,b),w})}}async update(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=Q2(this.apiClient,e);return p=oe("{model}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>pc(v))}else{const g=$2(this.apiClient,e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>mc(v))}}async delete(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=LS(this.apiClient,e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=VS(v),w=new tg;return Object.assign(w,b),w})}else{const g=qS(this.apiClient,e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=GS(v),w=new tg;return Object.assign(w,b),w})}}async countTokens(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=kS(this.apiClient,e);return p=oe("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=US(v),w=new ng;return Object.assign(w,b),w})}else{const g=IS(this.apiClient,e);return p=oe("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=DS(v),w=new ng;return Object.assign(w,b),w})}}async computeTokens(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=TS(this.apiClient,e);return u=oe("{model}:computeTokens",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=ES(y),v=new m1;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=c2(this.apiClient,e);return p=oe("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f.then(v=>{const b=r2(v),w=new yl;return Object.assign(w,b),w})}else{const g=u2(this.apiClient,e);return p=oe("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>{const b=l2(v),w=new yl;return Object.assign(w,b),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DN extends Ai{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const a=e.operation,o=e.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=a.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:r,config:{httpOptions:u}});return a._fromAPIResponse({apiResponse:f,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:a.name,config:o});return a._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(e){const a=e.operation,o=e.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=a.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:r,config:{httpOptions:u}});return a._fromAPIResponse({apiResponse:f,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:a.name,config:o});return a._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=l1(e);return p=oe("{operationName}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),f}else{const g=o1(e);return p=oe("{operationName}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=Wb(e);return u=oe("{resourceName}:fetchPredictOperation",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UN(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(n,["data"]);a!=null&&m(e,["data"],a);const o=d(n,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function qN(n){const e={},a=d(n,["parts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(u=>BN(u))),m(e,["parts"],r)}const o=d(n,["role"]);return o!=null&&m(e,["role"],o),e}function LN(n,e,a){const o={},r=d(e,["expireTime"]);a!==void 0&&r!=null&&m(a,["expireTime"],r);const u=d(e,["newSessionExpireTime"]);a!==void 0&&u!=null&&m(a,["newSessionExpireTime"],u);const f=d(e,["uses"]);a!==void 0&&f!=null&&m(a,["uses"],f);const p=d(e,["liveConnectConstraints"]);a!==void 0&&p!=null&&m(a,["bidiGenerateContentSetup"],jN(n,p));const y=d(e,["lockAdditionalFields"]);return a!==void 0&&y!=null&&m(a,["fieldMask"],y),o}function GN(n,e){const a={},o=d(e,["config"]);return o!=null&&m(a,["config"],LN(n,o,a)),a}function VN(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(n,["fileUri"]);a!=null&&m(e,["fileUri"],a);const o=d(n,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function HN(n){const e={},a=d(n,["timeRangeFilter"]);if(a!=null&&m(e,["timeRangeFilter"],a),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function PN(n,e){const a={},o=d(n,["generationConfig"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig"],o);const r=d(n,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const u=d(n,["temperature"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","temperature"],u);const f=d(n,["topP"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topP"],f);const p=d(n,["topK"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","topK"],p);const y=d(n,["maxOutputTokens"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","maxOutputTokens"],y);const g=d(n,["mediaResolution"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","mediaResolution"],g);const v=d(n,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],kc(b));const w=d(n,["thinkingConfig"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","thinkingConfig"],w);const N=d(n,["enableAffectiveDialog"]);e!==void 0&&N!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],N);const _=d(n,["systemInstruction"]);e!==void 0&&_!=null&&m(e,["setup","systemInstruction"],qN(ut(_)));const E=d(n,["tools"]);if(e!==void 0&&E!=null){let q=_a(E);Array.isArray(q)&&(q=q.map(k=>ON(Ea(k)))),m(e,["setup","tools"],q)}const A=d(n,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],zN(A));const R=d(n,["inputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","inputAudioTranscription"],R);const L=d(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&m(e,["setup","outputAudioTranscription"],L);const V=d(n,["realtimeInputConfig"]);e!==void 0&&V!=null&&m(e,["setup","realtimeInputConfig"],V);const M=d(n,["contextWindowCompression"]);e!==void 0&&M!=null&&m(e,["setup","contextWindowCompression"],M);const G=d(n,["proactivity"]);return e!==void 0&&G!=null&&m(e,["setup","proactivity"],G),a}function jN(n,e){const a={},o=d(e,["model"]);o!=null&&m(a,["setup","model"],Ce(n,o));const r=d(e,["config"]);return r!=null&&m(a,["config"],PN(r,a)),a}function BN(n){const e={},a=d(n,["videoMetadata"]);a!=null&&m(e,["videoMetadata"],a);const o=d(n,["thought"]);o!=null&&m(e,["thought"],o);const r=d(n,["inlineData"]);r!=null&&m(e,["inlineData"],UN(r));const u=d(n,["fileData"]);u!=null&&m(e,["fileData"],VN(u));const f=d(n,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const p=d(n,["functionCall"]);p!=null&&m(e,["functionCall"],p);const y=d(n,["codeExecutionResult"]);y!=null&&m(e,["codeExecutionResult"],y);const g=d(n,["executableCode"]);g!=null&&m(e,["executableCode"],g);const v=d(n,["functionResponse"]);v!=null&&m(e,["functionResponse"],v);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function zN(n){const e={},a=d(n,["handle"]);if(a!=null&&m(e,["handle"],a),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ON(n){const e={},a=d(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>g)),m(e,["functionDeclarations"],y)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearch"]);o!=null&&m(e,["googleSearch"],HN(o));const r=d(n,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],r),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const u=d(n,["urlContext"]);u!=null&&m(e,["urlContext"],u);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const p=d(n,["codeExecution"]);return p!=null&&m(e,["codeExecution"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JN(n){const e=[];for(const a in n)if(Object.prototype.hasOwnProperty.call(n,a)){const o=n[a];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(u=>`${a}.${u}`);e.push(...r)}else e.push(a)}return e.join(",")}function YN(n,e){let a=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const u=o.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,a=u):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(a){const u=JN(a);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];r.length>0&&(p=r.map(g=>f.includes(g)?`generationConfig.${g}`:g));const y=[];u&&y.push(u),p.length>0&&y.push(...p),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class FN extends Ai{constructor(e){super(),this.apiClient=e}async create(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=GN(this.apiClient,e);u=oe("auth_tokens",p._url),f=p._query,delete p.config,delete p._url,delete p._query;const y=YN(p,e.config);return r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KN(n){const e={},a=d(n,["name"]);return a!=null&&m(e,["_url","name"],a),e}function $N(n){const e={},a=d(n,["name"]);return a!=null&&m(e,["_url","name"],a),e}function QN(n,e){const a={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&m(e,["displayName"],o),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=d(n,["epochCount"]);e!==void 0&&r!=null&&m(e,["tuningTask","hyperparameters","epochCount"],r);const u=d(n,["learningRateMultiplier"]);if(u!=null&&m(a,["tuningTask","hyperparameters","learningRateMultiplier"],u),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(n,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const p=d(n,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return a}function XN(n,e){const a={},o=d(n,["validationDataset"]);e!==void 0&&o!=null&&m(e,["supervisedTuningSpec"],fT(o,a));const r=d(n,["tunedModelDisplayName"]);e!==void 0&&r!=null&&m(e,["tunedModelDisplayName"],r);const u=d(n,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);const f=d(n,["epochCount"]);e!==void 0&&f!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],f);const p=d(n,["learningRateMultiplier"]);e!==void 0&&p!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],p);const y=d(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const g=d(n,["adapterSize"]);if(e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g),d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=d(n,["labels"]);return e!==void 0&&v!=null&&m(e,["labels"],v),a}function ZN(n){const e={},a=d(n,["baseModel"]);a!=null&&m(e,["baseModel"],a);const o=d(n,["preTunedModel"]);o!=null&&m(e,["preTunedModel"],o);const r=d(n,["trainingDataset"]);r!=null&&m(e,["tuningTask","trainingData"],uT(r));const u=d(n,["config"]);return u!=null&&QN(u,e),e}function WN(n){const e={},a=d(n,["baseModel"]);a!=null&&m(e,["baseModel"],a);const o=d(n,["preTunedModel"]);o!=null&&m(e,["preTunedModel"],o);const r=d(n,["trainingDataset"]);r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],cT(r,e));const u=d(n,["config"]);return u!=null&&XN(u,e),e}function eT(n){const e={},a=d(n,["name"]);return a!=null&&m(e,["_url","name"],a),e}function tT(n){const e={},a=d(n,["name"]);return a!=null&&m(e,["_url","name"],a),e}function nT(n,e){const a={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const u=d(n,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),a}function iT(n,e){const a={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const u=d(n,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),a}function aT(n){const e={},a=d(n,["config"]);return a!=null&&nT(a,e),e}function sT(n){const e={},a=d(n,["config"]);return a!=null&&iT(a,e),e}function oT(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=d(n,["tunedModels"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>M0(f))),m(e,["tuningJobs"],u)}return e}function lT(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=d(n,["tuningJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>yc(f))),m(e,["tuningJobs"],u)}return e}function rT(n){const e={},a=d(n,["name"]);a!=null&&m(e,["model"],a);const o=d(n,["name"]);return o!=null&&m(e,["endpoint"],o),e}function uT(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=d(n,["examples"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(r=>r)),m(e,["examples","examples"],o)}return e}function cT(n,e){const a={},o=d(n,["gcsUri"]);e!==void 0&&o!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],o);const r=d(n,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r),d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function M0(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["name"]);o!=null&&m(e,["name"],o);const r=d(n,["state"]);r!=null&&m(e,["state"],c0(r));const u=d(n,["createTime"]);u!=null&&m(e,["createTime"],u);const f=d(n,["tuningTask","startTime"]);f!=null&&m(e,["startTime"],f);const p=d(n,["tuningTask","completeTime"]);p!=null&&m(e,["endTime"],p);const y=d(n,["updateTime"]);y!=null&&m(e,["updateTime"],y);const g=d(n,["description"]);g!=null&&m(e,["description"],g);const v=d(n,["baseModel"]);v!=null&&m(e,["baseModel"],v);const b=d(n,["_self"]);b!=null&&m(e,["tunedModel"],rT(b));const w=d(n,["customBaseModel"]);w!=null&&m(e,["customBaseModel"],w);const N=d(n,["experiment"]);N!=null&&m(e,["experiment"],N);const _=d(n,["labels"]);_!=null&&m(e,["labels"],_);const E=d(n,["outputUri"]);E!=null&&m(e,["outputUri"],E);const A=d(n,["pipelineJob"]);A!=null&&m(e,["pipelineJob"],A);const R=d(n,["serviceAccount"]);R!=null&&m(e,["serviceAccount"],R);const L=d(n,["tunedModelDisplayName"]);L!=null&&m(e,["tunedModelDisplayName"],L);const V=d(n,["veoTuningSpec"]);return V!=null&&m(e,["veoTuningSpec"],V),e}function yc(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["name"]);o!=null&&m(e,["name"],o);const r=d(n,["state"]);r!=null&&m(e,["state"],c0(r));const u=d(n,["createTime"]);u!=null&&m(e,["createTime"],u);const f=d(n,["startTime"]);f!=null&&m(e,["startTime"],f);const p=d(n,["endTime"]);p!=null&&m(e,["endTime"],p);const y=d(n,["updateTime"]);y!=null&&m(e,["updateTime"],y);const g=d(n,["error"]);g!=null&&m(e,["error"],g);const v=d(n,["description"]);v!=null&&m(e,["description"],v);const b=d(n,["baseModel"]);b!=null&&m(e,["baseModel"],b);const w=d(n,["tunedModel"]);w!=null&&m(e,["tunedModel"],w);const N=d(n,["preTunedModel"]);N!=null&&m(e,["preTunedModel"],N);const _=d(n,["supervisedTuningSpec"]);_!=null&&m(e,["supervisedTuningSpec"],_);const E=d(n,["tuningDataStats"]);E!=null&&m(e,["tuningDataStats"],E);const A=d(n,["encryptionSpec"]);A!=null&&m(e,["encryptionSpec"],A);const R=d(n,["partnerModelTuningSpec"]);R!=null&&m(e,["partnerModelTuningSpec"],R);const L=d(n,["customBaseModel"]);L!=null&&m(e,["customBaseModel"],L);const V=d(n,["experiment"]);V!=null&&m(e,["experiment"],V);const M=d(n,["labels"]);M!=null&&m(e,["labels"],M);const G=d(n,["outputUri"]);G!=null&&m(e,["outputUri"],G);const q=d(n,["pipelineJob"]);q!=null&&m(e,["pipelineJob"],q);const k=d(n,["serviceAccount"]);k!=null&&m(e,["serviceAccount"],k);const F=d(n,["tunedModelDisplayName"]);F!=null&&m(e,["tunedModelDisplayName"],F);const $=d(n,["veoTuningSpec"]);return $!=null&&m(e,["veoTuningSpec"],$),e}function dT(n){const e={},a=d(n,["sdkHttpResponse"]);a!=null&&m(e,["sdkHttpResponse"],a);const o=d(n,["name"]);o!=null&&m(e,["name"],o);const r=d(n,["metadata"]);r!=null&&m(e,["metadata"],r);const u=d(n,["done"]);u!=null&&m(e,["done"],u);const f=d(n,["error"]);return f!=null&&m(e,["error"],f),e}function fT(n,e){const a={},o=d(n,["gcsUri"]);o!=null&&m(a,["validationDatasetUri"],o);const r=d(n,["vertexDatasetResource"]);return e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hT extends Ai{constructor(e){super(),this.apiClient=e,this.get=async a=>await this.getInternal(a),this.list=async(a={})=>new qs(Ei.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(a),a),this.tune=async a=>{var o;if(this.apiClient.isVertexAI())if(a.baseModel.startsWith("projects/")){const r={tunedModelName:a.baseModel};!((o=a.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=a.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},a),{preTunedModel:r});return u.baseModel=void 0,await this.tuneInternal(u)}else{const r=Object.assign({},a);return await this.tuneInternal(r)}else{const r=Object.assign({},a),u=await this.tuneMldevInternal(r);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:cc.JOB_STATE_QUEUED}}}}async getInternal(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=tT(e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>yc(v))}else{const g=eT(e);return p=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>M0(v))}}async listInternal(e){var a,o,r,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=sT(e);return p=oe("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=lT(v),w=new ig;return Object.assign(w,b),w})}else{const g=aT(e);return p=oe("tunedModels",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),f.then(v=>{const b=oT(v),w=new ig;return Object.assign(w,b),w})}}async cancel(e){var a,o,r,u;let f="",p={};if(this.apiClient.isVertexAI()){const y=$N(e);f=oe("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=KN(e);f=oe("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=WN(e);return u=oe("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>yc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var a,o;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=ZN(e);return u=oe("tunedModels",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>dT(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mT{async download(e,a){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const pT=1024*1024*8,gT=3,yT=1e3,xT=2,oc="x-goog-upload-status";async function vT(n,e,a){var o,r,u;let f=0,p=0,y=new dc(new Response),g="upload";for(f=n.size;p<f;){const b=Math.min(pT,f-p),w=n.slice(p,p+b);p+b>=f&&(g+=", finalize");let N=0,_=yT;for(;N<gT&&(y=await a.request({path:"",body:w,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(p),"Content-Length":String(b)}}}),!(!((o=y==null?void 0:y.headers)===null||o===void 0)&&o[oc]));)N++,await wT(_),_=_*xT;if(p+=b,((r=y==null?void 0:y.headers)===null||r===void 0?void 0:r[oc])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[oc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function bT(n){return{size:n.size,type:n.type}}function wT(n){return new Promise(e=>setTimeout(e,n))}class ST{async upload(e,a,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vT(e,a,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bT(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NT{create(e,a,o){return new TT(e,a,o)}}class TT{constructor(e,a,o){this.url=e,this.headers=a,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ng="x-goog-api-key";class ET{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Ng)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ng,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _T="gl-node/";class ii{constructor(e){var a;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(a=e.vertexai)!==null&&a!==void 0?a:!1,this.apiKey=e.apiKey;const o=Zb(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const r=new ET(this.apiKey);this.apiClient=new fN({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:_T+"web",uploader:new ST,downloader:new mT}),this.models=new kN(this.apiClient),this.live=new EN(this.apiClient,r,new NT),this.batches=new mw(this.apiClient),this.chats=new Jw(this.models,this.apiClient),this.caches=new Bw(this.apiClient),this.files=new tS(this.apiClient),this.operations=new DN(this.apiClient),this.authTokens=new FN(this.apiClient),this.tunings=new hT(this.apiClient)}}const CT=({deepDive:n,onBack:e})=>{const{bibleVersion:a}=Ci(),[o,r]=H.useState(""),[u,f]=H.useState(""),[p,y]=H.useState(!1),[g,v]=H.useState(""),[b,w]=H.useState("gemini"),N=(E,A)=>{if(E==="#")return E;const R=new URL(E);return R.searchParams.set("version",a),R.toString()},_=async()=>{if(o.trim()){y(!0),f(""),v("");try{if(b==="gemini"){const E=new ii({apiKey:"AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4"}),A="You are a helpful Bible study assistant. Your purpose is to answer questions based on the provided context in a clear, concise, and theologically sound manner. Ground your answers in trustworthy biblical sources and historical context, similar to information found on Wikipedia for historical background. Do not speculate or provide personal opinions. Your response should be in Traditional Chinese.",R=`Context about "${n.title}":
${n.content}

Based on this context and general biblical knowledge, answer the following question:

Question: "${o}"`,L=await E.models.generateContent({model:"gemini-2.5-flash",contents:R,config:{systemInstruction:A}});f(L.text)}else b==="openai"&&(await new Promise(E=>setTimeout(E,1500)),f("OpenAI 整合即將推出。目前，請使用 Gemini 模型進行查詢。"))}catch(E){console.error("Error generating AI answer:",E),v("抱歉，生成答案時發生錯誤。請稍後再試。")}finally{y(!1)}}};return c.jsxs("div",{className:"flex-grow overflow-y-auto pr-4 -mr-4",children:[c.jsxs("h2",{id:"deepdive-title",className:"text-4xl font-bold text-amber-900 mb-4 flex items-center gap-3",style:{fontFamily:"'Trajan Pro', serif"},children:[c.jsx(Fe,{name:"lightbulb",className:"w-8 h-8"}),"深入探索：",n.title]}),c.jsx("p",{className:"text-lg text-stone-800 leading-relaxed mb-6 whitespace-pre-wrap",children:n.content}),c.jsx("h3",{className:"text-2xl font-bold text-amber-900 border-b-2 border-amber-800 pb-2 mb-4",children:"來源查找器"}),c.jsx("ul",{className:"space-y-2 mb-8",children:n.sources.map((E,A)=>c.jsx("li",{children:c.jsx("a",{href:N(E.url,E.text),target:"_blank",rel:"noopener noreferrer",className:"text-amber-800 hover:text-amber-600 hover:underline transition-colors font-semibold rounded focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-600",children:E.text.replace(/\((NIV|ESV|KJV)\)/,`(${a})`)})},A))}),c.jsx("div",{className:"border-t-4 border-dashed border-amber-800/50 my-8"}),c.jsxs("h3",{className:"text-2xl font-bold text-amber-900 pb-2 mb-4 flex items-center gap-3",children:[c.jsx(Fe,{name:"sparkles",className:"w-7 h-7"}),"探索更深"]}),c.jsx("p",{className:"text-stone-700 mb-4",children:"對這個主題有更多問題嗎？問問 AI 助理！"}),c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"text-sm font-bold text-stone-600 mr-4",children:"選擇模型:"}),c.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[c.jsx("button",{type:"button",onClick:()=>w("gemini"),className:`px-4 py-2 text-sm font-medium border rounded-l-lg transition-colors focus:z-10 focus:ring-2 focus:ring-amber-500 ${b==="gemini"?"bg-amber-800 text-white border-amber-800":"bg-white text-stone-900 border-stone-300 hover:bg-stone-100"}`,children:"Gemini"}),c.jsx("button",{type:"button",onClick:()=>w("openai"),className:`px-4 py-2 text-sm font-medium border rounded-r-lg transition-colors focus:z-10 focus:ring-2 focus:ring-amber-500 ${b==="openai"?"bg-amber-800 text-white border-amber-800":"bg-white text-stone-900 border-stone-300 hover:bg-stone-100"}`,children:"OpenAI"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("textarea",{value:o,onChange:E=>r(E.target.value),placeholder:"例如：這個概念如何應用在現代教會中？",className:"flex-grow p-2 border-2 border-amber-700/50 rounded-lg bg-amber-50/50 placeholder:text-stone-600 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition",rows:2,disabled:p}),c.jsx("button",{onClick:_,disabled:p||!o.trim(),className:"bg-amber-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-700 transition-all disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center w-24 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:p?c.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"發問"})]}),g&&c.jsx("p",{className:"mt-4 text-red-600 bg-red-100 p-3 rounded-lg",children:g}),u&&c.jsx("div",{className:"mt-4 p-4 bg-amber-50/70 border-l-4 border-amber-800 rounded-r-lg animate-fade-in",children:c.jsx("p",{className:"text-stone-800 whitespace-pre-wrap",children:u})}),c.jsx("div",{className:"mt-8 border-t-2 border-amber-800/20 pt-6",children:c.jsx("button",{onClick:e,className:"bg-stone-600 hover:bg-stone-500 text-white font-bold py-2 px-4 rounded-lg transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:"返回說明"})})]})},Tg=30,al="jttw_quest_timers",AT=({quest:n,onClose:e})=>{const{completeQuest:a,completedQuests:o}=Ci(),[r,u]=H.useState(null),[f,p]=H.useState(!1),[y,g]=H.useState(!1),[v,b]=H.useState(Tg),[w,N]=H.useState(!1),_=r===n.correctAnswerIndex,E=o.has(n.id),A=H.useCallback(()=>{try{const M=localStorage.getItem(al);if(!M)return;const G=JSON.parse(M);G[n.id]&&(delete G[n.id],localStorage.setItem(al,JSON.stringify(G)))}catch(M){console.error("Failed to update timers in localStorage",M)}},[n.id]);H.useEffect(()=>{w&&A()},[w,A]),H.useEffect(()=>{if(E||f)return;const M=()=>{try{const Z=localStorage.getItem(al);return Z?JSON.parse(Z):{}}catch{return{}}},G=Z=>{localStorage.setItem(al,JSON.stringify(Z))},q=M();let k=q[n.id];k||(k=Date.now()+Tg*1e3,q[n.id]=k,G(q));const F=()=>{const Z=k-Date.now();Z<=0?(b(0),N(!0),p(!0)):b(Math.ceil(Z/1e3))};F();const $=setInterval(F,1e3);return()=>{clearInterval($)}},[n.id,E,f]);const R=M=>{f||(u(M),p(!0),M===n.correctAnswerIndex&&!E&&a(n.id,{id:n.id,title:n.journalPrompt.title,content:n.journalPrompt.content}),A())},L=H.useCallback(()=>{A(),e()},[e,A]),V=H.useCallback(M=>f?M===n.correctAnswerIndex?"bg-green-700":M===r&&!_?"bg-red-700":"bg-stone-700 opacity-70":"bg-stone-700 hover:bg-stone-600",[f,r,_,n.correctAnswerIndex]);return c.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-40 animate-fade-in",role:"dialog","aria-modal":"true","aria-labelledby":y?"deepdive-title":"quest-title",children:c.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-3xl border-4 border-amber-900 text-stone-900 p-8 relative flex flex-col max-h-[90vh]",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[c.jsx("button",{onClick:L,className:"absolute top-4 right-4 text-stone-600 hover:text-stone-900 transition-colors rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100 z-10","aria-label":"關閉任務",children:c.jsx(Fe,{name:"x",className:"w-8 h-8"})}),y?c.jsx("div",{className:"animate-fade-in",children:c.jsx(CT,{deepDive:n.deepDive,onBack:()=>g(!1)})}):c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:n.characterImage,alt:n.character,className:"w-24 h-24 rounded-full border-4 border-amber-800 object-cover"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-lg text-stone-800",children:"來自的消息"}),c.jsx("h2",{id:"quest-title",className:"text-4xl font-bold text-amber-900",children:n.character})]})]}),!E&&!f&&c.jsxs("div",{className:"text-lg font-bold text-amber-800 bg-amber-200 border-2 border-amber-400 rounded-full px-4 py-1 flex-shrink-0",children:["時間：",v,"秒"]})]}),c.jsx("div",{className:"bg-stone-800/95 p-4 rounded-lg mb-6 border-l-4 border-amber-500 shadow-inner",children:c.jsx("p",{className:"text-xl font-semibold text-amber-50 leading-relaxed",children:n.question})}),c.jsx("div",{className:"space-y-3 mb-6",children:n.options.map((M,G)=>c.jsx("button",{onClick:()=>R(G),disabled:f,className:`w-full text-left p-4 rounded-lg text-white font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white ${V(G)} ${f?"":"cursor-pointer"}`,children:M},G))}),(f||E)&&c.jsxs("div",{className:"p-4 rounded-lg bg-amber-100 border border-amber-300 animate-slide-up",children:[c.jsx("h3",{className:"font-bold text-lg text-amber-900 flex items-center gap-2",children:w?c.jsxs(c.Fragment,{children:[c.jsx(Fe,{name:"x",className:"w-6 h-6"}),"時間到！"]}):_||E?c.jsxs(c.Fragment,{children:[c.jsx(Fe,{name:"check",className:"w-6 h-6"}),"答對了！"]}):c.jsxs(c.Fragment,{children:[c.jsx(Fe,{name:"x",className:"w-6 h-6"}),"不太對..."]})}),c.jsx("p",{className:"mt-2 text-stone-900",children:w?"您的時間已用完。請隨時關閉此視窗再試一次。":n.explanation}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[c.jsx("button",{onClick:L,className:"flex-1 bg-amber-800 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded-lg transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:"繼續旅程"}),(_||E)&&c.jsx("button",{onClick:()=>g(!0),className:"flex-1 bg-transparent border-2 border-amber-800 hover:bg-amber-100 text-amber-900 font-bold py-2 px-4 rounded-lg transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:"深入探索"})]})]})]})]})})},MT=({level:n,onClose:e})=>c.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",role:"alertdialog","aria-modal":"true","aria-labelledby":"level-complete-title","aria-describedby":"level-complete-description",children:c.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-2xl border-4 border-amber-900 text-stone-900 p-8 relative",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{id:"level-complete-title",className:"text-3xl font-bold text-amber-900",style:{fontFamily:"'Trajan Pro', serif"},children:"時代完成！"}),c.jsxs("p",{id:"level-complete-description",className:"text-xl text-stone-700 mt-1 mb-6",children:["您已完成「",n.name,"」時代。"]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-amber-900 border-b-2 border-amber-800 pb-2 mb-4",children:"討論提示"}),c.jsx("ul",{className:"space-y-3 list-disc list-inside text-stone-800",children:n.discussionPrompts.map((a,o)=>c.jsx("li",{className:"text-lg",children:a},o))})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsx("button",{onClick:e,className:"bg-amber-800 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-lg transition-transform transform hover:scale-105 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:"繼續您的旅程"})})]})}),RT=({onSelectQuest:n,onClose:e,additionalQuests:a=[]})=>{const{completedQuests:o}=Ci(),[r,u]=H.useState(""),[f,p]=H.useState("all"),y=[...n0,...a],g=y.filter(v=>{const b=v.character.toLowerCase().includes(r.toLowerCase())||v.question.toLowerCase().includes(r.toLowerCase()),w=f==="all"||f==="completed"&&o.has(v.id)||f==="incomplete"&&!o.has(v.id);return b&&w});return c.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",children:c.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-5xl border-4 border-amber-900 text-stone-900 p-6 relative max-h-[90vh] overflow-hidden flex flex-col",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-stone-600 hover:text-stone-900 transition-colors rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 z-10","aria-label":"關閉問題瀏覽器",children:c.jsx(Fe,{name:"x",className:"w-8 h-8"})}),c.jsx("h2",{className:"text-3xl font-bold text-amber-900 mb-4",children:"選擇問題"}),c.jsxs("div",{className:"mb-4 space-y-3",children:[c.jsx("input",{type:"text",placeholder:"搜尋角色或問題...",value:r,onChange:v=>u(v.target.value),className:"w-full px-4 py-2 rounded-lg border-2 border-amber-700 bg-amber-50 text-stone-900 focus:outline-none focus:ring-2 focus:ring-amber-500"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-lg font-semibold transition ${f==="all"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:["全部 (",y.length,")"]}),c.jsxs("button",{onClick:()=>p("incomplete"),className:`px-4 py-2 rounded-lg font-semibold transition ${f==="incomplete"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:["未完成 (",y.filter(v=>!o.has(v.id)).length,")"]}),c.jsxs("button",{onClick:()=>p("completed"),className:`px-4 py-2 rounded-lg font-semibold transition ${f==="completed"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:["已完成 (",o.size,")"]})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(v=>{const b=o.has(v.id);return c.jsx("button",{onClick:()=>n(v),className:`text-left p-4 rounded-lg border-2 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-amber-500 ${v.id.startsWith("qg")?"border-purple-500 bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200":"border-amber-700 bg-gradient-to-br from-amber-50 to-amber-100 hover:from-amber-100 hover:to-amber-200"}`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("img",{src:v.characterImage,alt:v.character,className:"w-16 h-16 rounded-full border-2 border-amber-800 object-cover flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h3",{className:"text-lg font-bold text-amber-900",children:v.character}),v.id.startsWith("qg")&&c.jsxs("span",{className:"flex items-center gap-1 text-purple-700 text-xs bg-purple-200 px-2 py-0.5 rounded",children:[c.jsx(Fe,{name:"sparkles",className:"w-3 h-3"}),"AI生成"]}),b&&c.jsxs("span",{className:"flex items-center gap-1 text-green-700 text-sm",children:[c.jsx(Fe,{name:"check",className:"w-4 h-4"}),"已完成"]})]}),c.jsx("p",{className:"text-sm text-stone-700 line-clamp-2",children:v.question})]})]})},v.id)})}),g.length===0&&c.jsx("div",{className:"text-center py-12 text-stone-600",children:c.jsx("p",{className:"text-lg",children:"找不到符合條件的問題"})})]})]})})},IT=new ii({apiKey:"AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4"}),kT={type:me.OBJECT,properties:{character:{type:me.STRING,description:"The name of the Biblical character in Traditional Chinese (繁體中文)"},question:{type:me.STRING,description:"A thought-provoking question about the character in Traditional Chinese, written in first person from the character's perspective"},options:{type:me.ARRAY,description:"Four multiple choice options in Traditional Chinese",items:{type:me.STRING},minItems:4,maxItems:4},correctAnswerIndex:{type:me.INTEGER,description:"The index (0-3) of the correct answer in the options array"},explanation:{type:me.STRING,description:"A detailed explanation of the answer in Traditional Chinese, including specific Bible verse references (e.g., 創世記 3:5, 約翰福音 3:16)"},journalPromptTitle:{type:me.STRING,description:"A short title for the journal prompt in Traditional Chinese"},journalPromptContent:{type:me.STRING,description:"Reflective content for personal meditation in Traditional Chinese, connecting the Biblical story to modern Christian life"},deepDiveTitle:{type:me.STRING,description:"A title for the deep dive theological exploration in Traditional Chinese"},deepDiveContent:{type:me.STRING,description:"In-depth theological analysis in Traditional Chinese, exploring themes, historical context, and theological implications"},bibleSources:{type:me.ARRAY,description:"Array of relevant Bible passages (at least 2-3 sources)",items:{type:me.OBJECT,properties:{reference:{type:me.STRING,description:"Bible reference in Traditional Chinese with version (e.g., '創世記 3:1-6 (NIV)')"},englishReference:{type:me.STRING,description:"Bible reference in English for URL generation (e.g., 'Genesis 3:1-6')"}}}}},required:["character","question","options","correctAnswerIndex","explanation","journalPromptTitle","journalPromptContent","deepDiveTitle","deepDiveContent","bibleSources"]},R0=async n=>{const e=await IT.models.generateContent({model:"gemini-2.0-flash-exp",contents:n,config:{systemInstruction:`你是一位專業的聖經教師和神學教育者，專門創作高質量的聖經學習問題。

你的任務是生成一個關於聖經人物或事件的教育性問題，包含：

1. **角色選擇**：選擇一個有意義的聖經人物（舊約或新約）
2. **問題設計**：以第一人稱（角色視角）撰寫問題，讓學習者能夠代入角色思考
3. **選項設計**：提供4個選項，其中3個是合理但錯誤的干擾項
4. **解釋**：提供詳細的答案解釋，必須包含具體的聖經經文引用
5. **靈修引導**：提供日誌提示，幫助學習者將聖經故事應用到現代生活
6. **深度探索**：提供神學深度分析，探討主題、歷史背景和神學意義
7. **經文來源**：提供2-3個相關的聖經章節引用

要求：
- 所有內容使用繁體中文
- 問題要有教育意義和思考深度
- 答案解釋要準確引用聖經經文
- 神學內容要符合正統基督教教義
- 語氣要尊重、教育性強
- 適合各年齡層的基督徒學習者`,temperature:.9,topP:.95,responseMimeType:"application/json",responseSchema:kT}}),a=JSON.parse(e.text);return{character:a.character,question:a.question,options:a.options,correctAnswerIndex:a.correctAnswerIndex,explanation:a.explanation,journalPrompt:{title:a.journalPromptTitle,content:a.journalPromptContent},deepDive:{title:a.deepDiveTitle,content:a.deepDiveContent,sources:a.bibleSources.map(r=>({text:r.reference,url:`https://www.biblegateway.com/passage/?search=${encodeURIComponent(r.englishReference)}&version=NIV`}))}}},DT=async(n,e,a)=>{let o="請生成一個聖經問題";return n&&(o+=`，關於聖經人物「${n}」`),e&&(o+=`，主題是「${e}」`),a==="old"?o+="，來自舊約聖經":a==="new"&&(o+="，來自新約聖經"),o+="。",R0(o)},UT=({onQuestionGenerated:n,onClose:e})=>{const[a,o]=H.useState("guided"),[r,u]=H.useState(""),[f,p]=H.useState(""),[y,g]=H.useState("both"),[v,b]=H.useState(""),[w,N]=H.useState(!1),[_,E]=H.useState(null),[A,R]=H.useState(null),L=async()=>{N(!0),E(null),R(null);try{let M;if(a==="free"){if(!v.trim())throw new Error("請輸入自訂提示");M=await R0(v)}else M=await DT(r.trim()||void 0,f.trim()||void 0,y);R(M)}catch(M){console.error("Question generation error:",M),E(M instanceof Error?M.message:"生成問題時發生錯誤，請重試。")}finally{N(!1)}},V=()=>{A&&(n(A),e())};return c.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",children:c.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-4xl border-4 border-amber-900 text-stone-900 p-6 relative max-h-[90vh] overflow-y-auto",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-stone-600 hover:text-stone-900 transition-colors rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 z-10","aria-label":"關閉",children:c.jsx(Fe,{name:"x",className:"w-8 h-8"})}),c.jsx("h2",{className:"text-3xl font-bold text-amber-900 mb-4",children:"AI 問題生成器"}),c.jsx("p",{className:"text-stone-700 mb-6",children:"使用 AI 生成新的聖經學習問題"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"生成模式"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>o("guided"),className:`flex-1 px-4 py-3 rounded-lg font-semibold transition ${a==="guided"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:"引導式生成"}),c.jsx("button",{onClick:()=>o("free"),className:`flex-1 px-4 py-3 rounded-lg font-semibold transition ${a==="free"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:"自由提示"})]})]}),a==="guided"&&c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"聖經人物（選填）"}),c.jsx("input",{type:"text",value:r,onChange:M=>u(M.target.value),placeholder:"例如：摩西、大衛、保羅",className:"w-full px-4 py-2 rounded-lg border-2 border-amber-700 bg-amber-50 text-stone-900 focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"主題（選填）"}),c.jsx("input",{type:"text",value:f,onChange:M=>p(M.target.value),placeholder:"例如：信心、順服、領導力",className:"w-full px-4 py-2 rounded-lg border-2 border-amber-700 bg-amber-50 text-stone-900 focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"聖經範圍"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>g("both"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition ${y==="both"?"bg-amber-700 text-white":"bg-stone-200 text-stone-700 hover:bg-stone-300"}`,children:"新舊約"}),c.jsx("button",{onClick:()=>g("old"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition ${y==="old"?"bg-amber-700 text-white":"bg-stone-200 text-stone-700 hover:bg-stone-300"}`,children:"舊約"}),c.jsx("button",{onClick:()=>g("new"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition ${y==="new"?"bg-amber-700 text-white":"bg-stone-200 text-stone-700 hover:bg-stone-300"}`,children:"新約"})]})]})]}),a==="free"&&c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"自訂提示"}),c.jsx("textarea",{value:v,onChange:M=>b(M.target.value),placeholder:"例如：生成一個關於耶穌登山寶訓的問題，著重於八福的教導",rows:4,className:"w-full px-4 py-2 rounded-lg border-2 border-amber-700 bg-amber-50 text-stone-900 focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none"})]}),_&&c.jsx("div",{className:"mb-4 p-4 bg-red-100 border-2 border-red-400 rounded-lg",children:c.jsx("p",{className:"text-red-800 font-semibold",children:_})}),A&&c.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-400 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-bold text-green-900 mb-2",children:"✓ 問題已生成"}),c.jsxs("p",{className:"text-sm text-green-800 mb-2",children:[c.jsx("strong",{children:"角色："}),A.character]}),c.jsxs("p",{className:"text-sm text-green-800 mb-2",children:[c.jsx("strong",{children:"問題："}),A.question]}),c.jsx("p",{className:"text-xs text-green-700",children:"點擊「加入遊戲」將此問題添加到遊戲中"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:L,disabled:w,className:`flex-1 px-6 py-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 ${w?"bg-stone-400 text-stone-200 cursor-not-allowed":"bg-amber-700 hover:bg-amber-600 text-white"}`,children:w?c.jsxs(c.Fragment,{children:[c.jsx(Fe,{name:"loader",className:"w-5 h-5 animate-spin"}),"生成中..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Fe,{name:"sparkles",className:"w-5 h-5"}),"生成問題"]})}),A&&c.jsxs("button",{onClick:V,className:"flex-1 px-6 py-3 bg-green-700 hover:bg-green-600 text-white rounded-lg font-bold transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2",children:[c.jsx(Fe,{name:"check",className:"w-5 h-5"}),"加入遊戲"]})]})]})})},Eg="bible-game-generated-questions",qT=()=>{const{unlockedLocations:n,completedQuests:e,isFreeChoiceMode:a,setIsFreeChoiceMode:o}=Ci(),[r,u]=H.useState(null),[f,p]=H.useState(null),[y,g]=H.useState(!1),[v,b]=H.useState(!1),[w,N]=H.useState([]);H.useEffect(()=>{try{const M=localStorage.getItem(Eg);if(M){const G=JSON.parse(M);N(G)}}catch(M){console.error("Failed to load generated questions:",M)}},[]),H.useEffect(()=>{try{w.length>0&&localStorage.setItem(Eg,JSON.stringify(w))}catch(M){console.error("Failed to save generated questions:",M)}},[w]);const _=[...n0,...w],E=M=>{const G=_.find(q=>q.id===M);G&&u(G)},A=M=>{u(M),g(!1)},R=M=>{const G=`qg${Date.now()}`,q={...M,id:G,characterImage:`https://picsum.photos/seed/${G}/100`};N(k=>[...k,q]),u(q)},L=M=>{u(null);const G=new Set(e).add(M);for(const q of op){const k=pl.filter($=>q.locationIds.includes($.id)),F=k.map($=>$.questId);F.every($=>G.has($))&&k.filter(Z=>e.has(Z.questId)).length<F.length&&p(q.id)}},V=op.find(M=>M.id===f);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-center gap-3",children:[c.jsxs("div",{className:"bg-stone-800/90 rounded-lg p-3 border-2 border-amber-700 flex items-center gap-3",children:[c.jsx("span",{className:"text-amber-200 font-semibold",children:"遊戲模式："}),c.jsx("button",{onClick:()=>o(!a),className:`px-4 py-2 rounded-lg font-semibold transition ${a?"bg-stone-600 text-stone-300 hover:bg-stone-500":"bg-amber-600 text-white"}`,children:"順序解鎖"}),c.jsx("button",{onClick:()=>o(!a),className:`px-4 py-2 rounded-lg font-semibold transition ${a?"bg-amber-600 text-white":"bg-stone-600 text-stone-300 hover:bg-stone-500"}`,children:"自由選擇"})]}),a&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>g(!0),className:"bg-amber-700 hover:bg-amber-600 text-white px-6 py-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105 flex items-center gap-2 border-2 border-amber-900",children:[c.jsx(Fe,{name:"list",className:"w-5 h-5"}),"瀏覽所有問題"]}),c.jsxs("button",{onClick:()=>b(!0),className:"bg-purple-700 hover:bg-purple-600 text-white px-6 py-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105 flex items-center gap-2 border-2 border-purple-900",children:[c.jsx(Fe,{name:"sparkles",className:"w-5 h-5"}),"AI 生成問題"]})]})]}),c.jsxs("div",{className:"relative w-full max-w-5xl mx-auto aspect-video rounded-lg shadow-2xl overflow-hidden border-4 border-amber-900",style:{backgroundImage:"url(https://picsum.photos/seed/map/1200/675)",backgroundSize:"cover"},children:[c.jsx("div",{className:"absolute inset-0 bg-black/30"}),pl.map(M=>{const G=a||n.has(M.id),q=e.has(M.questId);let k="bg-gray-600 text-gray-300 cursor-not-allowed";return G&&(k="bg-amber-500 text-stone-900 hover:bg-amber-400 cursor-pointer animate-pulse"),q&&(k="bg-green-700 text-white hover:bg-green-600 cursor-pointer animate-none"),c.jsxs("button",{disabled:!G,onClick:()=>E(M.questId),className:`absolute transform -translate-x-1/2 -translate-y-1/2 p-2 rounded-full shadow-lg transition-all duration-300 flex items-center justify-center focus:outline-none focus:ring-4 focus:ring-white/50 group ${k}`,style:{top:M.position.top,left:M.position.left},"aria-label":`地點：${M.name}`,children:[q?c.jsx(Fe,{name:"check",className:"w-5 h-5"}):G?c.jsx(Fe,{name:"unlock",className:"w-5 h-5"}):c.jsx(Fe,{name:"lock",className:"w-5 h-5"}),c.jsxs("div",{className:"absolute bottom-full mb-2 w-max bg-gray-900 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 group-focus:opacity-100 transition-opacity pointer-events-none",role:"tooltip",children:[c.jsx("span",{className:"font-bold",children:M.name}),c.jsx("br",{}),c.jsx("span",{className:"text-gray-300",children:M.era})]})]},M.id)}),r&&c.jsx(AT,{quest:r,onClose:()=>L(r.id)}),V&&c.jsx(MT,{level:V,onClose:()=>p(null)})]}),y&&c.jsx(RT,{onSelectQuest:A,onClose:()=>g(!1),additionalQuests:w}),v&&c.jsx(UT,{onQuestionGenerated:R,onClose:()=>b(!1)})]})},LT=({onBack:n})=>c.jsx(jb,{children:c.jsx("div",{className:"fixed inset-0 bg-cover bg-center text-stone-900 font-serif",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-wall.png')"},children:c.jsxs("div",{className:"bg-stone-800 bg-opacity-60 min-h-screen overflow-auto",children:[c.jsx("div",{className:"p-4",children:c.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-stone-200 hover:text-white transition-colors mb-4 bg-stone-700 hover:bg-stone-600 px-4 py-2 rounded-lg",children:[c.jsx(Ta,{className:"w-5 h-5"}),"返回主頁"]})}),c.jsx(Kb,{}),c.jsx("main",{className:"p-4 sm:p-6 md:p-8",children:c.jsx(qT,{})})]})})}),I0=[{id:"gemini-2.0-flash",name:"Google Gemini 2.0 Flash",size:"Cloud",description:"最新的Google AI模型，多模態支援，快速回應"},{id:"gpt-4o",name:"OpenAI GPT-4o",size:"Cloud",description:"OpenAI最先進模型，卓越的理解和生成能力"},{id:"gpt-4o-mini",name:"OpenAI GPT-4o Mini",size:"Cloud",description:"輕量快速版本，性價比高"}],k0=[{id:"gpt-oss:120b-cloud",name:"GPT-OSS 120B Cloud",size:"Cloud",description:"雲端超大規模模型，適合複雜神學分析"},{id:"deepseek-v3.1:671b-cloud",name:"DeepSeek v3.1 671B Cloud",size:"Cloud",description:"雲端頂級推理模型，適合邏輯性神學論證"},{id:"kimi-k2:1t-cloud",name:"Kimi K2 1T Cloud",size:"Cloud",description:"雲端超長文本模型，處理完整經文和詳細講道稿"},{id:"qwen3-coder:480b-cloud",name:"Qwen3 Coder 480B Cloud",size:"Cloud",description:"雲端智能模型，中英文混合神學討論"},{id:"gpt-oss:20b-cloud",name:"GPT-OSS 20B Cloud",size:"Cloud",description:"雲端快速模型，日常神學問答"}],D0=[{id:"llama4:scout",name:"Llama 4 Scout",size:"67 GB",description:"最新版本的Llama模型，適合複雜的神學討論和分析"},{id:"llama3.3:latest",name:"Llama 3.3",size:"42 GB",description:"高性能的通用語言模型，平衡效率與質量"},{id:"deepseek-coder:33b-instruct",name:"DeepSeek Coder 33B",size:"18 GB",description:"專精於邏輯推理和結構化思考，適合神學論證"},{id:"deepseek-r1:32b",name:"DeepSeek R1 32B",size:"19 GB",description:"推理能力強的模型，適合深度神學分析"},{id:"mistral-small:24b",name:"Mistral Small 24B",size:"14 GB",description:"輕量高效的模型，快速回應神學問題"},{id:"qwq:latest",name:"QwQ",size:"19 GB",description:"問答特化模型，適合聖經問答和教義解釋"},{id:"qwen2.5v1:32b",name:"Qwen 2.5v1 32B",size:"32 GB",description:"中英雙語優化模型，適合繁體中文神學討論"},{id:"gemma3:27b",name:"Gemma 3 27B",size:"17 GB",description:"Google開發的高效模型，適合教育和學習場景"},{id:"llava:34b",name:"LLaVA 34B",size:"20 GB",description:"多模態模型，支援圖像和文字的神學資料分析",hasVision:!0},{id:"llama3.2-vision:latest",name:"Llama 3.2 Vision",size:"7.9 GB",description:"視覺語言模型，可分析聖經插圖和神學圖表",hasVision:!0},{id:"llama3.2:latest",name:"Llama 3.2",size:"2.0 GB",description:"輕量版本，適合快速對話和基礎問答"}],sl=[...I0,...k0,...D0],GT={mode:nn.THEOLOGY_CHAT,messages:[],documents:[],assignmentTopic:"",theologyArea:"",academicLevel:ha.UNDERGRADUATE,assignmentLength:1500,assignmentTone:"academic",assignmentStage:an.INPUT,revisionNumber:0,maxRevisions:3,selectedModel:"gpt-oss:120b-cloud",temperature:.7,topP:.9,isProcessing:!1},VT=[{title:"系統神學導論 (Introduction to Systematic Theology)",author:"路易斯·柏克富 (Louis Berkhof)",type:"book",description:"經典的改革宗系統神學著作，全面探討基督教教義的各個方面，包括神論、人論、基督論、救恩論等核心主題。",url:"https://example.com",tags:["系統神學","改革宗","教義"]},{title:"聖經註釋：羅馬書 (Romans Commentary)",author:"約翰·加爾文 (John Calvin)",type:"commentary",description:"加爾文對羅馬書的深入註釋，闡述保羅的神學思想，特別關注因信稱義和神的主權等核心議題。",url:"https://example.com",tags:["聖經註釋","羅馬書","因信稱義"]},{title:"教會歷史研究：宗教改革時期 (Reformation History)",author:"多位作者",type:"article",description:"探討16世紀宗教改革運動的歷史背景、神學爭議和對現代教會的影響。",tags:["教會歷史","宗教改革","馬丁路德"]},{title:"三一神論的聖經基礎 (Biblical Basis for Trinity)",author:"奧古斯丁 (Augustine)",type:"thesis",description:"從聖經角度深入探討三位一體教義的神學基礎和歷史發展。",url:"https://example.com",tags:["三一神論","教義","教父神學"]}],HT=({onBack:n})=>{const[e,a]=H.useState(GT),[o,r]=H.useState(""),[u,f]=H.useState(""),[p,y]=H.useState("all"),[g,v]=H.useState([]),[b,w]=H.useState(!1),N=H.useRef(null),_=H.useRef(null);H.useEffect(()=>{var Y;(Y=_.current)==null||Y.scrollIntoView({behavior:"smooth"})},[e.messages]);const E=Y=>{a(ne=>({...ne,...Y}))},A=async()=>{if(!o.trim()||e.isProcessing)return;const Y={role:"user",content:o,timestamp:new Date().toISOString()};E({messages:[...e.messages,Y],isProcessing:!0}),r("");try{await new Promise(B=>setTimeout(B,1500));const ne=sl.find(B=>B.id===e.selectedModel),ee={role:"assistant",content:`【${(ne==null?void 0:ne.name)||"未知模型"}】回應您關於「${o}」的神學問題：

根據聖經教導和神學傳統，我來為您分析這個主題。在當前的${e.mode}模式下，並採用 Temperature: ${e.temperature}, Top-P: ${e.topP} 的參數設定。

請注意：這是一個模擬回應，實際實現中會整合真實的本地 LLM 服務 (${e.selectedModel})。`,timestamp:new Date().toISOString()};E({messages:[...e.messages,Y,ee],isProcessing:!1})}catch{E({isProcessing:!1})}},R=Y=>{Array.from(Y.target.files||[]).forEach(ee=>{const B=new FileReader;B.onload=te=>{var Re;const de=(Re=te.target)==null?void 0:Re.result,Me={name:ee.name,content:de,type:ee.name.split(".").pop()||"txt"};E({documents:[...e.documents,Me]})},B.readAsText(ee)})},L=async()=>{if(!(!e.assignmentTopic.trim()||!e.theologyArea.trim())){E({isProcessing:!0,assignmentStage:an.PLANNING});try{await new Promise(ne=>setTimeout(ne,2e3));const Y={id:Date.now().toString(),topic:e.assignmentTopic,content:`# 神學作業計劃：${e.assignmentTopic}

## 研究領域
${e.theologyArea}

## 學術水平
${e.academicLevel}

## 作業長度
約 ${e.assignmentLength} 字

## 研究大綱
1. 引言和背景
2. 聖經基礎分析
3. 神學傳統觀點
4. 當代應用
5. 結論和反思

## 參考資源
- 聖經經文研究
- 教父著作
- 現代神學評論
- 學術期刊文章

這個計劃將指導您完成一份全面的神學作業。`,createdAt:new Date().toISOString()};E({currentPlan:Y,isProcessing:!1,assignmentStage:an.DRAFTING})}catch{E({isProcessing:!1})}}},V=async()=>{if(e.currentPlan){E({isProcessing:!0,assignmentStage:an.CRITIQUING});try{await new Promise(ne=>setTimeout(ne,3e3));const Y={id:Date.now().toString(),topic:e.assignmentTopic,content:`# ${e.assignmentTopic}

## 引言

${e.assignmentTopic}是當代神學研究中的重要議題。本文將從聖經、教會歷史和系統神學的角度來探討這個主題。

## 聖經基礎

根據聖經教導，我們可以看到相關的原則和指導...

## 神學分析

從${e.theologyArea}的角度來看，這個議題涉及到多個重要的神學概念...

## 當代應用

在現代教會和基督徒生活中，這些原則如何應用...

## 結論

通過深入研究，我們可以得出...

*注意：這是一個示例草稿，實際實現中會生成更詳細和準確的內容。*`,stage:an.DRAFTING,revisionNumber:e.revisionNumber,createdAt:new Date().toISOString()};E({currentDraft:Y,isProcessing:!1})}catch{E({isProcessing:!1})}}},M=async()=>{if(!u.trim())return;w(!0),await new Promise(ne=>setTimeout(ne,1e3));let Y=VT.filter(ne=>ne.title.toLowerCase().includes(u.toLowerCase())||ne.description.toLowerCase().includes(u.toLowerCase())||ne.tags.some(ee=>ee.toLowerCase().includes(u.toLowerCase())));p!=="all"&&(Y=Y.filter(ne=>ne.type===p)),v(Y),w(!1)},G=Y=>({book:"📚",article:"📄",commentary:"📖",encyclopedia:"📕",thesis:"🎓"})[Y]||"📝",q=Y=>({book:"書籍",article:"文章",commentary:"註釋",encyclopedia:"百科",thesis:"論文"})[Y]||Y,k=(Y,ne,ee)=>c.jsxs("button",{onClick:()=>E({mode:Y}),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${e.mode===Y?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[ne,ee]}),F=()=>{var Y,ne;return sl.find(ee=>ee.id===e.selectedModel),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"對話參數設定"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"選擇 AI 模型"}),c.jsxs("select",{value:e.selectedModel,onChange:ee=>E({selectedModel:ee.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white",children:[c.jsx("optgroup",{label:"☁️ 雲端 AI 模型 (Gemini / OpenAI)",children:I0.map(ee=>c.jsxs("option",{value:ee.id,children:[ee.name," (",ee.size,")"]},ee.id))}),c.jsx("optgroup",{label:"☁️ Ollama Cloud 模型",children:k0.map(ee=>c.jsxs("option",{value:ee.id,children:[ee.name," (",ee.size,")"]},ee.id))}),c.jsx("optgroup",{label:"🖥️ 本地 Ollama 模型",children:D0.map(ee=>c.jsxs("option",{value:ee.id,children:[ee.name," (",ee.size,")"]},ee.id))})]}),c.jsxs("div",{className:"mt-2 p-3 bg-gray-700/50 rounded-lg",children:[c.jsx("p",{className:"text-xs text-gray-300",children:(Y=sl.find(ee=>ee.id===e.selectedModel))==null?void 0:Y.description}),((ne=sl.find(ee=>ee.id===e.selectedModel))==null?void 0:ne.hasVision)&&c.jsx("span",{className:"text-xs text-yellow-400 mt-1 block",children:"🎨 支援視覺分析功能"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["創造性程度: ",e.temperature]}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.temperature,onChange:ee=>E({temperature:parseFloat(ee.target.value)}),className:"w-full"}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[c.jsx("span",{children:"保守"}),c.jsx("span",{children:"創新"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["回答多樣性: ",e.topP]}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.topP,onChange:ee=>E({topP:parseFloat(ee.target.value)}),className:"w-full"}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[c.jsx("span",{children:"聚焦"}),c.jsx("span",{children:"多元"})]})]})]})]}),c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-800 rounded-lg min-h-96",children:[e.messages.map((ee,B)=>c.jsx("div",{className:`flex ${ee.role==="user"?"justify-end":"justify-start"}`,children:c.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${ee.role==="user"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-100"}`,children:ee.content})},B)),e.isProcessing&&c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:"bg-gray-700 text-gray-100 px-4 py-2 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-400"}),"思考中..."]})})}),c.jsx("div",{ref:_})]}),c.jsx("div",{className:"p-4 border-t border-gray-700",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:o,onChange:ee=>r(ee.target.value),onKeyPress:ee=>ee.key==="Enter"&&A(),placeholder:"輸入您的神學問題...",className:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white",disabled:e.isProcessing}),c.jsx("button",{onClick:A,disabled:e.isProcessing||!o.trim(),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors",children:c.jsx(sp,{className:"w-5 h-5"})})]})})]})]})},$=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"文檔上傳"}),c.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onClick:()=>{var Y;return(Y=N.current)==null?void 0:Y.click()},children:[c.jsx(Vb,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),c.jsx("p",{className:"text-gray-300",children:"點擊上傳神學文檔"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"支持 PDF, DOCX, TXT, MD 格式"})]}),c.jsx("input",{ref:N,type:"file",multiple:!0,accept:".pdf,.docx,.txt,.md",onChange:R,className:"hidden"}),e.documents.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"font-medium text-gray-300 mb-2",children:"已上傳的文檔："}),c.jsx("div",{className:"space-y-2",children:e.documents.map((Y,ne)=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-700 rounded",children:[c.jsx(ac,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:Y.name})]},ne))})]})]}),e.documents.length>0&&c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-800 rounded-lg min-h-96",children:[e.messages.map((Y,ne)=>c.jsx("div",{className:`flex ${Y.role==="user"?"justify-end":"justify-start"}`,children:c.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${Y.role==="user"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-100"}`,children:Y.content})},ne)),e.isProcessing&&c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:"bg-gray-700 text-gray-100 px-4 py-2 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-400"}),"分析文檔中..."]})})}),c.jsx("div",{ref:_})]}),c.jsx("div",{className:"p-4 border-t border-gray-700",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:o,onChange:Y=>r(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&A(),placeholder:"詢問關於已上傳文檔的問題...",className:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white",disabled:e.isProcessing}),c.jsx("button",{onClick:A,disabled:e.isProcessing||!o.trim(),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors",children:c.jsx(sp,{className:"w-5 h-5"})})]})})]})]}),Z=()=>c.jsxs("div",{className:"space-y-6",children:[e.assignmentStage===an.INPUT&&c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"作業設定"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"作業主題"}),c.jsx("input",{type:"text",value:e.assignmentTopic,onChange:Y=>E({assignmentTopic:Y.target.value}),placeholder:"例：三一神論的聖經基礎",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"神學領域"}),c.jsx("input",{type:"text",value:e.theologyArea,onChange:Y=>E({theologyArea:Y.target.value}),placeholder:"例：系統神學",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"學術水平"}),c.jsxs("select",{value:e.academicLevel,onChange:Y=>E({academicLevel:Y.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white",children:[c.jsx("option",{value:ha.UNDERGRADUATE,children:"學士"}),c.jsx("option",{value:ha.GRADUATE,children:"碩士"}),c.jsx("option",{value:ha.DOCTORAL,children:"博士"}),c.jsx("option",{value:ha.GENERAL,children:"一般"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"作業長度 (字數)"}),c.jsx("input",{type:"number",value:e.assignmentLength,onChange:Y=>E({assignmentLength:parseInt(Y.target.value)}),min:"500",max:"10000",step:"500",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white"})]})]}),c.jsx("button",{onClick:L,disabled:!e.assignmentTopic.trim()||!e.theologyArea.trim()||e.isProcessing,className:"mt-4 px-6 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors flex items-center gap-2",children:e.isProcessing?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"生成計劃中..."]}):c.jsxs(c.Fragment,{children:[c.jsx(kb,{className:"w-4 h-4"}),"創建作業計劃"]})})]}),e.currentPlan&&e.assignmentStage===an.DRAFTING&&c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"作業計劃"}),c.jsx(ap,{className:"w-5 h-5 text-green-400"})]}),c.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:c.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-200",children:e.currentPlan.content})}),c.jsx("button",{onClick:V,disabled:e.isProcessing,className:"px-6 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors flex items-center gap-2",children:e.isProcessing?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"生成草稿中..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ac,{className:"w-4 h-4"}),"創建作業草稿"]})})]}),e.currentDraft&&e.assignmentStage===an.CRITIQUING&&c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"作業草稿"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-gray-400",children:["修訂次數: ",e.revisionNumber]}),c.jsx(ap,{className:"w-5 h-5 text-green-400"})]})]}),c.jsx("div",{className:"bg-gray-700 rounded-lg p-4 max-h-96 overflow-y-auto",children:c.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-200",children:e.currentDraft.content})}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[c.jsx("button",{onClick:()=>E({assignmentStage:an.INPUT,currentPlan:void 0,currentDraft:void 0,revisionNumber:0}),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-medium transition-colors",children:"重新開始"}),c.jsxs("button",{onClick:()=>{alert("草稿已保存！")},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors flex items-center gap-2",children:[c.jsx(Ub,{className:"w-4 h-4"}),"保存草稿"]})]})]})]}),ae=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex gap-4 mb-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",value:u,onChange:Y=>f(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&M(),placeholder:"搜尋神學主題、作者或關鍵字...",className:"w-full pl-10 pr-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-green-500 text-white"})]}),c.jsx("button",{onClick:M,disabled:b||!u.trim(),className:"px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors flex items-center gap-2",children:b?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"搜尋中..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ms,{className:"w-5 h-5"}),"搜尋"]})})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(t0,{className:"w-5 h-5 text-gray-400"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"類型篩選:"}),c.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","book","article","commentary","encyclopedia","thesis"].map(Y=>c.jsx("button",{onClick:()=>y(Y),className:`px-3 py-1 rounded-full text-sm transition-colors ${p===Y?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:Y==="all"?"全部":q(Y)},Y))})]})]}),g.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h2",{className:"text-xl font-semibold text-gray-200",children:["找到 ",g.length," 個結果"]}),g.map((Y,ne)=>c.jsx("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors border border-gray-700 hover:border-green-500",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"text-4xl",children:G(Y.type)}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:Y.title}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["作者: ",Y.author]})]}),c.jsx("span",{className:"px-3 py-1 bg-green-600/20 text-green-400 rounded-full text-xs font-medium whitespace-nowrap",children:q(Y.type)})]}),c.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:Y.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex gap-2 flex-wrap",children:Y.tags.map((ee,B)=>c.jsx("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 rounded text-xs",children:ee},B))}),Y.url&&c.jsxs("a",{href:Y.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-green-400 hover:text-green-300 transition-colors",children:[c.jsx(hb,{className:"w-4 h-4"}),"查看資源"]})]})]})]})},ne))]}),g.length===0&&u&&!b&&c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"未找到相關資源"}),c.jsx("p",{className:"text-gray-400",children:"嘗試使用不同的關鍵字或調整篩選條件"})]}),g.length===0&&!u&&c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"text-6xl mb-4",children:"📚"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"開始搜尋神學資源"}),c.jsx("p",{className:"text-gray-400 mb-6",children:"輸入關鍵字搜尋書籍、文章、註釋和學術論文"}),c.jsxs("div",{className:"flex justify-center gap-4 text-sm text-gray-500",children:[c.jsx("span",{children:"熱門搜尋:"}),["三一神論","因信稱義","教會歷史","系統神學"].map(Y=>c.jsx("button",{onClick:()=>{f(Y),setTimeout(M,100)},className:"text-green-400 hover:text-green-300 transition-colors",children:Y},Y))]})]})]}),Q=()=>{switch(e.mode){case nn.THEOLOGY_CHAT:return F();case nn.READING_QA:return $();case nn.ASSIGNMENT_ASSISTANT:return Z();case nn.RESOURCE_SEARCH:return ae();default:return F()}};return c.jsxs("div",{className:"w-full max-w-7xl mx-auto h-full flex flex-col",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors mb-4",children:[c.jsx(Ta,{className:"w-5 h-5"}),"返回主頁"]}),c.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",children:"神學研究助手"}),c.jsx("p",{className:"text-gray-400",children:"探索信仰、聖經和神學理解的全方位平台"})]}),c.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[k(nn.THEOLOGY_CHAT,c.jsx(Ab,{className:"w-4 h-4"}),"神學對話"),k(nn.READING_QA,c.jsx(ac,{className:"w-4 h-4"}),"上傳文檔簡閱或問答"),k(nn.ASSIGNMENT_ASSISTANT,c.jsx(Sb,{className:"w-4 h-4"}),"作業助手"),k(nn.RESOURCE_SEARCH,c.jsx(Ms,{className:"w-4 h-4"}),"資源搜尋")]}),c.jsx("div",{className:"flex-1 min-h-0",children:Q()})]})};var ue=(n=>(n.HEBREW="Hebrew",n.GREEK="Greek",n))(ue||{});const _g=({title:n,description:e,language:a,onSelectMode:o})=>c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsx("h2",{className:"text-2xl font-bold text-sky-800 dark:text-sky-300 mb-4 text-center",children:n}),c.jsx("p",{className:"text-stone-600 dark:text-stone-400 mb-4 text-center",children:e}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("button",{onClick:()=>o("alphabet-learning",a),className:"p-6 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[c.jsx("div",{className:"text-lg font-bold mb-1",children:"字母表學習"}),c.jsx("div",{className:"text-sm opacity-90",children:"學習所有字母與發音"})]}),c.jsxs("button",{onClick:()=>o("word-practice",a),className:"p-6 bg-gradient-to-r from-sky-500 to-sky-600 hover:from-sky-600 hover:to-sky-700 text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[c.jsx("div",{className:"text-lg font-bold mb-1",children:"單字練習"}),c.jsx("div",{className:"text-sm opacity-90",children:"發音練習與AI反饋"})]}),c.jsxs("button",{onClick:()=>o("verse-learning",a),className:"p-6 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[c.jsx("div",{className:"text-lg font-bold mb-1",children:"經文學習"}),c.jsx("div",{className:"text-sm opacity-90",children:"聖經經文重點詞彙"})]}),c.jsxs("button",{onClick:()=>o("vocabulary-flashcards",a),className:"p-6 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[c.jsx("div",{className:"text-lg font-bold mb-1",children:"詞彙記憶卡"}),c.jsx("div",{className:"text-sm opacity-90",children:"間隔重複法學習詞彙"})]}),c.jsxs("button",{onClick:()=>o("listening-game",a),className:"p-6 bg-gradient-to-r from-pink-500 to-rose-600 hover:from-pink-600 hover:to-rose-700 text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[c.jsx("div",{className:"text-lg font-bold mb-1",children:"聽力理解遊戲"}),c.jsx("div",{className:"text-sm opacity-90",children:"聽音辨詞 100 詞挑戰"})]}),c.jsxs("button",{onClick:()=>o("pronunciation-challenge",a),className:"p-6 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[c.jsx("div",{className:"text-lg font-bold mb-1",children:"發音挑戰"}),c.jsx("div",{className:"text-sm opacity-90",children:"辨別正確與錯誤發音"})]})]})]}),PT=({onSelect:n,onSelectMode:e})=>c.jsxs("div",{className:"flex flex-col items-center justify-center h-full animate-fade-in px-4",children:[c.jsx("h1",{className:"text-5xl font-extrabold text-stone-700 dark:text-stone-200 mb-4 text-center",children:"歡迎來到聖經文本學習基礎"}),c.jsx("p",{className:"text-xl text-stone-500 dark:text-stone-400 mb-8 text-center",children:"選擇一種聖經語言來學習"}),c.jsxs("div",{className:"w-full max-w-2xl mb-8 p-6 bg-sky-50 dark:bg-sky-900/30 border border-sky-200 dark:border-sky-700 rounded-xl",children:[c.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[c.jsx(Tb,{className:"w-5 h-5 text-sky-600 dark:text-sky-400 mt-1 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-sky-900 dark:text-sky-100 mb-2",children:"需要權限"}),c.jsx("p",{className:"text-sm text-sky-800 dark:text-sky-200 mb-3",children:"此應用程式需要訪問您的麥克風和揚聲器才能正常運作："})]})]}),c.jsxs("div",{className:"space-y-3 ml-8",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ya,{className:"w-5 h-5 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-sky-900 dark:text-sky-100",children:"揚聲器權限"}),c.jsx("p",{className:"text-xs text-sky-700 dark:text-sky-300",children:"播放發音範例並聆聽正確的發音"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Rb,{className:"w-5 h-5 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-sky-900 dark:text-sky-100",children:"麥克風權限"}),c.jsx("p",{className:"text-xs text-sky-700 dark:text-sky-300",children:"錄製您的發音並接收 AI 反饋"})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-sky-200 dark:border-sky-700",children:c.jsxs("p",{className:"text-xs text-sky-600 dark:text-sky-400",children:[c.jsx("strong",{children:"提示："}),"瀏覽器會在需要時請求權限，請點擊「允許」以啟用所有功能。"]})})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[c.jsx(_g,{title:"希伯來文",description:"舊約聖經",language:ue.HEBREW,onSelectMode:e||((a,o)=>n(o))}),c.jsx(_g,{title:"古典希臘文",description:"新約聖經",language:ue.GREEK,onSelectMode:e||((a,o)=>n(o))})]})]}),jT=[{letter:"א",name:"Aleph",transliteration:"ʾ",pronunciation:"Silent or glottal stop",numericalValue:1,notes:"First letter of the Hebrew alphabet. Often silent or represents a glottal stop."},{letter:"ב",name:"Bet",transliteration:"b/v",pronunciation:"b as in boy, v as in very",numericalValue:2,notes:'With dagesh (dot): "b". Without dagesh: "v".'},{letter:"ג",name:"Gimel",transliteration:"g",pronunciation:"g as in go",numericalValue:3,notes:'Always hard "g" sound.'},{letter:"ד",name:"Dalet",transliteration:"d",pronunciation:"d as in door",numericalValue:4,notes:'Standard "d" sound.'},{letter:"ה",name:"He",transliteration:"h",pronunciation:"h as in house",numericalValue:5,notes:'Soft "h" sound. Often silent at end of words.'},{letter:"ו",name:"Vav",transliteration:"v/o/u",pronunciation:"v as in very",numericalValue:6,notes:'Consonant "v" or vowel "o"/"u" with vowel points.'},{letter:"ז",name:"Zayin",transliteration:"z",pronunciation:"z as in zoo",numericalValue:7,notes:'Standard "z" sound.'},{letter:"ח",name:"Chet",transliteration:"ḥ",pronunciation:"Strong guttural h (like clearing throat)",numericalValue:8,notes:'Guttural "h" sound, different from ה.'},{letter:"ט",name:"Tet",transliteration:"ṭ",pronunciation:"t as in top",numericalValue:9,notes:'Emphatic "t" sound.'},{letter:"י",name:"Yod",transliteration:"y",pronunciation:"y as in yes",numericalValue:10,notes:'Consonant "y" or part of vowel combinations.'},{letter:"כ",name:"Kaf",transliteration:"k/kh",pronunciation:"k as in king, kh as in Bach",numericalValue:20,notes:'With dagesh: "k". Without: "kh" (guttural). Final form: ך'},{letter:"ל",name:"Lamed",transliteration:"l",pronunciation:"l as in love",numericalValue:30,notes:'Standard "l" sound.'},{letter:"מ",name:"Mem",transliteration:"m",pronunciation:"m as in mother",numericalValue:40,notes:'Standard "m" sound. Final form: ם'},{letter:"נ",name:"Nun",transliteration:"n",pronunciation:"n as in no",numericalValue:50,notes:'Standard "n" sound. Final form: ן'},{letter:"ס",name:"Samekh",transliteration:"s",pronunciation:"s as in sun",numericalValue:60,notes:'Standard "s" sound.'},{letter:"ע",name:"Ayin",transliteration:"ʿ",pronunciation:"Deep guttural (like gargling)",numericalValue:70,notes:"Guttural sound, often silent in modern Hebrew."},{letter:"פ",name:"Pe",transliteration:"p/f",pronunciation:"p as in pat, f as in fine",numericalValue:80,notes:'With dagesh: "p". Without: "f". Final form: ף'},{letter:"צ",name:"Tsadi",transliteration:"ts",pronunciation:"ts as in cats",numericalValue:90,notes:'Combined "ts" sound. Final form: ץ'},{letter:"ק",name:"Qof",transliteration:"q",pronunciation:"k as in king (back of throat)",numericalValue:100,notes:'Deep "k" sound from back of throat.'},{letter:"ר",name:"Resh",transliteration:"r",pronunciation:"r as in roll (guttural)",numericalValue:200,notes:'Guttural "r" sound.'},{letter:"ש",name:"Shin/Sin",transliteration:"sh/s",pronunciation:"sh as in she, s as in sun",numericalValue:300,notes:'With right dot (ׁ): "sh". With left dot (ׂ): "s".'},{letter:"ת",name:"Tav",transliteration:"t",pronunciation:"t as in top",numericalValue:400,notes:'Standard "t" sound.'}],BT=[{letter:"Α α",name:"Alpha",transliteration:"a",pronunciation:"a as in father",numericalValue:1,notes:"First letter. Uppercase: Α, Lowercase: α"},{letter:"Β β",name:"Beta",transliteration:"b",pronunciation:"b as in boy",numericalValue:2,notes:"Uppercase: Β, Lowercase: β"},{letter:"Γ γ",name:"Gamma",transliteration:"g",pronunciation:"g as in go",numericalValue:3,notes:'Uppercase: Γ, Lowercase: γ. Before γ, κ, ξ, χ: nasal "ng".'},{letter:"Δ δ",name:"Delta",transliteration:"d",pronunciation:"d as in door",numericalValue:4,notes:"Uppercase: Δ, Lowercase: δ"},{letter:"Ε ε",name:"Epsilon",transliteration:"e",pronunciation:"e as in bet (short)",numericalValue:5,notes:'Short "e" sound. Uppercase: Ε, Lowercase: ε'},{letter:"Ζ ζ",name:"Zeta",transliteration:"z",pronunciation:"z as in zoo or dz",numericalValue:7,notes:"Uppercase: Ζ, Lowercase: ζ"},{letter:"Η η",name:"Eta",transliteration:"ē",pronunciation:"e as in they (long)",numericalValue:8,notes:'Long "e" sound. Uppercase: Η, Lowercase: η'},{letter:"Θ θ",name:"Theta",transliteration:"th",pronunciation:"th as in think",numericalValue:9,notes:"Uppercase: Θ, Lowercase: θ"},{letter:"Ι ι",name:"Iota",transliteration:"i",pronunciation:"i as in machine",numericalValue:10,notes:"Uppercase: Ι, Lowercase: ι"},{letter:"Κ κ",name:"Kappa",transliteration:"k",pronunciation:"k as in king",numericalValue:20,notes:"Uppercase: Κ, Lowercase: κ"},{letter:"Λ λ",name:"Lambda",transliteration:"l",pronunciation:"l as in love",numericalValue:30,notes:"Uppercase: Λ, Lowercase: λ"},{letter:"Μ μ",name:"Mu",transliteration:"m",pronunciation:"m as in mother",numericalValue:40,notes:"Uppercase: Μ, Lowercase: μ"},{letter:"Ν ν",name:"Nu",transliteration:"n",pronunciation:"n as in no",numericalValue:50,notes:"Uppercase: Ν, Lowercase: ν"},{letter:"Ξ ξ",name:"Xi",transliteration:"x",pronunciation:"x as in box",numericalValue:60,notes:"Uppercase: Ξ, Lowercase: ξ"},{letter:"Ο ο",name:"Omicron",transliteration:"o",pronunciation:"o as in pot (short)",numericalValue:70,notes:'Short "o" sound. Uppercase: Ο, Lowercase: ο'},{letter:"Π π",name:"Pi",transliteration:"p",pronunciation:"p as in pat",numericalValue:80,notes:"Uppercase: Π, Lowercase: π"},{letter:"Ρ ρ",name:"Rho",transliteration:"r",pronunciation:"r as in roll (trilled)",numericalValue:100,notes:'Trilled "r". Uppercase: Ρ, Lowercase: ρ'},{letter:"Σ σ/ς",name:"Sigma",transliteration:"s",pronunciation:"s as in sun",numericalValue:200,notes:"Uppercase: Σ. Lowercase: σ (middle), ς (final position)"},{letter:"Τ τ",name:"Tau",transliteration:"t",pronunciation:"t as in top",numericalValue:300,notes:"Uppercase: Τ, Lowercase: τ"},{letter:"Υ υ",name:"Upsilon",transliteration:"u/y",pronunciation:'u as in French "tu"',numericalValue:400,notes:"Uppercase: Υ, Lowercase: υ"},{letter:"Φ φ",name:"Phi",transliteration:"ph",pronunciation:"ph as in phone",numericalValue:500,notes:"Uppercase: Φ, Lowercase: φ"},{letter:"Χ χ",name:"Chi",transliteration:"ch",pronunciation:"ch as in Bach (guttural)",numericalValue:600,notes:"Uppercase: Χ, Lowercase: χ"},{letter:"Ψ ψ",name:"Psi",transliteration:"ps",pronunciation:"ps as in lips",numericalValue:700,notes:"Uppercase: Ψ, Lowercase: ψ"},{letter:"Ω ω",name:"Omega",transliteration:"ō",pronunciation:"o as in note (long)",numericalValue:800,notes:'Long "o" sound. Last letter. Uppercase: Ω, Lowercase: ω'}],zT=({language:n,onBack:e})=>{const[a,o]=H.useState(null),r=n===ue.HEBREW?jT:BT,u=n===ue.HEBREW?"希伯來文":"希臘文",f=n===ue.HEBREW?"rtl":"ltr",p=g=>{o(g)},y=g=>{const v=new SpeechSynthesisUtterance(g.name);v.lang=n===ue.HEBREW?"he-IL":"el-GR",v.rate=.8,speechSynthesis.speak(v)};return c.jsxs("div",{className:"w-full min-h-screen p-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-stone-600 dark:text-stone-300 hover:text-sky-600 dark:hover:text-sky-400 transition-colors",children:[c.jsx(Ta,{className:"w-5 h-5"}),c.jsx("span",{children:"返回"})]}),c.jsxs("h1",{className:"text-3xl font-bold text-stone-800 dark:text-stone-100",children:[u,"字母表"]}),c.jsx("div",{className:"w-20"})," "]}),c.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs("div",{className:"bg-white dark:bg-stone-800 rounded-2xl shadow-lg p-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-stone-700 dark:text-stone-200 mb-4",children:["所有字母 (",r.length," 個)"]}),c.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3",children:r.map((g,v)=>c.jsxs("button",{onClick:()=>p(g),className:`aspect-square rounded-xl flex flex-col items-center justify-center transition-all transform hover:scale-110 hover:shadow-lg ${a===g?"bg-sky-500 text-white shadow-xl scale-105":"bg-gradient-to-br from-sky-50 to-sky-100 dark:from-sky-900/30 dark:to-sky-800/30 text-stone-800 dark:text-stone-100 hover:from-sky-100 hover:to-sky-200 dark:hover:from-sky-800/40 dark:hover:to-sky-700/40"}`,children:[c.jsx("div",{className:"text-3xl font-bold mb-1",dir:f,style:{fontFamily:(n===ue.HEBREW,"serif")},children:g.letter.split(" ")[0]}),c.jsx("div",{className:"text-xs opacity-80",children:g.name})]},v))})]})}),c.jsx("div",{className:"lg:col-span-1",children:c.jsx("div",{className:"bg-white dark:bg-stone-800 rounded-2xl shadow-lg p-6 sticky top-6",children:a?c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("div",{className:"text-center pb-4 border-b border-stone-200 dark:border-stone-700",children:[c.jsx("div",{className:"text-7xl font-bold text-sky-600 dark:text-sky-400 mb-3",dir:f,style:{fontFamily:(n===ue.HEBREW,"serif")},children:a.letter}),c.jsx("h3",{className:"text-2xl font-semibold text-stone-800 dark:text-stone-100 mb-1",children:a.name}),c.jsxs("button",{onClick:()=>y(a),className:"inline-flex items-center gap-2 mt-2 px-4 py-2 bg-sky-100 dark:bg-sky-900/50 hover:bg-sky-200 dark:hover:bg-sky-800/50 rounded-lg transition-colors text-sky-700 dark:text-sky-300",children:[c.jsx(ya,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"播放發音"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 uppercase tracking-wide mb-1",children:"轉寫"}),c.jsx("p",{className:"text-lg text-stone-800 dark:text-stone-100 font-mono bg-stone-50 dark:bg-stone-900/50 px-3 py-2 rounded-lg",children:a.transliteration})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 uppercase tracking-wide mb-1",children:"發音"}),c.jsx("p",{className:"text-base text-stone-700 dark:text-stone-200 bg-stone-50 dark:bg-stone-900/50 px-3 py-2 rounded-lg",children:a.pronunciation})]}),a.numericalValue&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 uppercase tracking-wide mb-1",children:"數值"}),c.jsx("p",{className:"text-lg text-stone-800 dark:text-stone-100 font-mono bg-stone-50 dark:bg-stone-900/50 px-3 py-2 rounded-lg",children:a.numericalValue})]}),a.notes&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 uppercase tracking-wide mb-1",children:"注意事項"}),c.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-300 bg-amber-50 dark:bg-amber-900/20 px-3 py-2 rounded-lg border border-amber-200 dark:border-amber-800",children:a.notes})]})]})]}):c.jsxs("div",{className:"text-center py-12 text-stone-400 dark:text-stone-500",children:[c.jsx("p",{className:"text-lg mb-2",children:"點選字母"}),c.jsx("p",{className:"text-sm",children:"查看詳細資訊"})]})})})]})]})},OT=({wordData:n,language:e})=>{const[a,o]=H.useState(!1),r=()=>{if(!("speechSynthesis"in window)){console.error("Speech synthesis not supported");return}o(!0);const u=new SpeechSynthesisUtterance(n.transliteration);e==="Hebrew"?u.lang="he-IL":e==="Greek"&&(u.lang="el-GR"),u.rate=.8,u.pitch=1,u.onend=()=>{o(!1)},u.onerror=()=>{o(!1)},window.speechSynthesis.cancel(),window.speechSynthesis.speak(u)};return c.jsxs("div",{className:"w-full max-w-2xl bg-white dark:bg-stone-800 rounded-2xl shadow-lg p-8 md:p-12 text-center transform transition-all duration-500 animate-fade-in-up",children:[c.jsx("h2",{className:"text-6xl md:text-8xl font-serif text-sky-900 dark:text-sky-200 mb-4",lang:"he",dir:"rtl",children:n.word}),c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[c.jsx("p",{className:"text-2xl text-stone-600 dark:text-stone-400",children:n.transliteration}),c.jsx("button",{onClick:r,disabled:a,className:"p-2 rounded-full bg-sky-500 hover:bg-sky-600 disabled:bg-stone-400 text-white transition-all transform hover:scale-110 active:scale-95",title:"Play pronunciation",children:c.jsx(ya,{className:`w-5 h-5 ${a?"animate-pulse":""}`})})]}),c.jsxs("p",{className:"text-lg text-stone-500 dark:text-stone-500 italic",children:['"',n.meaning,'"']})]})},JT=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm5 10.5a.5.5 0 01.5.5v.5a.5.5 0 01-1 0V15a.5.5 0 01.5-.5zM7 15a.5.5 0 00-1 0v.5a.5.5 0 001 0V15z",clipRule:"evenodd"}),c.jsx("path",{d:"M5.5 11.5A3.5 3.5 0 019 8h2a3.5 3.5 0 013.5 3.5v.5a.5.5 0 01-1 0v-.5A2.5 2.5 0 0011 9H9a2.5 2.5 0 00-2.5 2.5v.5a.5.5 0 01-1 0v-.5z"}),c.jsx("path",{d:"M4 11a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1z"})]}),YT=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1zm4 0a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),FT=()=>c.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-4 border-white"}),KT=({gameState:n,onClick:e})=>{const a=n==="recording",o=n==="processing",r=n==="ready",u=()=>a?"bg-red-600 hover:bg-red-700 animate-pulse":o?"bg-gray-500 cursor-not-allowed":"bg-sky-600 hover:bg-sky-700";return c.jsxs("button",{onClick:e,disabled:o,className:`w-24 h-24 rounded-full flex items-center justify-center text-white shadow-lg transform transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-sky-300 dark:focus:ring-sky-800 ${u()} ${r?"hover:scale-110":""}`,"aria-label":a?"Stop recording":"Start recording",children:[o&&c.jsx(FT,{}),a&&c.jsx(YT,{}),(n==="ready"||n==="feedback"||n==="error")&&c.jsx(JT,{})]})},$T=({feedback:n})=>n?c.jsxs("div",{className:"w-full max-w-2xl mt-8 bg-sky-100 dark:bg-sky-900/50 border border-sky-200 dark:border-sky-700 rounded-xl p-6 animate-fade-in",children:[c.jsx("h3",{className:"text-lg font-semibold text-sky-800 dark:text-sky-200 mb-2",children:"反饋"}),c.jsx("p",{className:"text-stone-700 dark:text-stone-300",children:n})]}):null,QT=[{reference:"創世記 1:1",language:ue.HEBREW,translation:"In the beginning God created the heavens and the earth.",originalText:"בְּרֵאשִׁית בָּרָא אֱלֹהִים אֵת הַשָּׁמַיִם וְאֵת הָאָרֶץ",highlightedWords:[{original:"בְּרֵאשִׁית",transliteration:"Bereshit",meaning:"In the beginning",position:0},{original:"בָּרָא",transliteration:"Bara",meaning:"created",position:1},{original:"אֱלֹהִים",transliteration:"Elohim",meaning:"God",position:2}]},{reference:"詩篇 23:1",language:ue.HEBREW,translation:"The LORD is my shepherd; I shall not want.",originalText:"יְהוָה רֹעִי לֹא אֶחְסָר",highlightedWords:[{original:"יְהוָה",transliteration:"Yahweh",meaning:"The LORD",position:0},{original:"רֹעִי",transliteration:"Ro'i",meaning:"my shepherd",position:1}]},{reference:"以賽亞書 9:6",language:ue.HEBREW,translation:"For to us a child is born, to us a son is given.",originalText:"כִּי־יֶלֶד יֻלַּד־לָנוּ בֵּן נִתַּן־לָנוּ",highlightedWords:[{original:"יֶלֶד",transliteration:"Yeled",meaning:"child",position:0},{original:"בֵּן",transliteration:"Ben",meaning:"son",position:1}]},{reference:"申命記 6:4",language:ue.HEBREW,translation:"Hear, O Israel: The LORD our God, the LORD is one.",originalText:"שְׁמַע יִשְׂרָאֵל יְהוָה אֱלֹהֵינוּ יְהוָה אֶחָד",highlightedWords:[{original:"שְׁמַע",transliteration:"Shema",meaning:"Hear",position:0},{original:"יִשְׂרָאֵל",transliteration:"Yisrael",meaning:"Israel",position:1},{original:"אֶחָד",transliteration:"Echad",meaning:"one",position:2}]},{reference:"約翰福音 1:1",language:ue.GREEK,translation:"In the beginning was the Word, and the Word was with God, and the Word was God.",originalText:"Ἐν ἀρχῇ ἦν ὁ λόγος καὶ ὁ λόγος ἦν πρὸς τὸν θεόν καὶ θεὸς ἦν ὁ λόγος",highlightedWords:[{original:"ἀρχῇ",transliteration:"Arche",meaning:"beginning",position:0},{original:"λόγος",transliteration:"Logos",meaning:"Word",position:1},{original:"θεόν",transliteration:"Theos",meaning:"God",position:2}]},{reference:"約翰福音 3:16",language:ue.GREEK,translation:"For God so loved the world that he gave his one and only Son.",originalText:"οὕτως γὰρ ἠγάπησεν ὁ θεὸς τὸν κόσμον ὥστε τὸν υἱὸν τὸν μονογενῆ ἔδωκεν",highlightedWords:[{original:"ἠγάπησεν",transliteration:"Egapesen",meaning:"loved",position:0},{original:"θεὸς",transliteration:"Theos",meaning:"God",position:1},{original:"κόσμον",transliteration:"Kosmon",meaning:"world",position:2},{original:"υἱὸν",transliteration:"Huion",meaning:"Son",position:3}]},{reference:"哥林多前書 13:13",language:ue.GREEK,translation:"And now these three remain: faith, hope and love. But the greatest of these is love.",originalText:"νυνὶ δὲ μένει πίστις ἐλπίς ἀγάπη τὰ τρία ταῦτα μείζων δὲ τούτων ἡ ἀγάπη",highlightedWords:[{original:"πίστις",transliteration:"Pistis",meaning:"faith",position:0},{original:"ἐλπίς",transliteration:"Elpis",meaning:"hope",position:1},{original:"ἀγάπη",transliteration:"Agape",meaning:"love",position:2}]},{reference:"腓立比書 4:13",language:ue.GREEK,translation:"I can do all things through Christ who strengthens me.",originalText:"πάντα ἰσχύω ἐν τῷ ἐνδυναμοῦντί με",highlightedWords:[{original:"πάντα",transliteration:"Panta",meaning:"all things",position:0},{original:"ἰσχύω",transliteration:"Ischuo",meaning:"I am able/can do",position:1},{original:"ἐνδυναμοῦντί",transliteration:"Endunamounti",meaning:"strengthening",position:2}]},{reference:"創世記 1:3",language:ue.HEBREW,translation:'And God said, "Let there be light," and there was light.',originalText:"וַיֹּאמֶר אֱלֹהִים יְהִי אוֹר וַיְהִי־אוֹר",highlightedWords:[{original:"וַיֹּאמֶר",transliteration:"Vayomer",meaning:"and He said",position:0},{original:"יְהִי",transliteration:"Yehi",meaning:"let there be",position:1},{original:"אוֹר",transliteration:"Or",meaning:"light",position:2}]},{reference:"出埃及記 3:14",language:ue.HEBREW,translation:'God said to Moses, "I AM WHO I AM."',originalText:"וַיֹּאמֶר אֱלֹהִים אֶל־מֹשֶׁה אֶהְיֶה אֲשֶׁר אֶהְיֶה",highlightedWords:[{original:"אֶהְיֶה",transliteration:"Ehyeh",meaning:"I am/I will be",position:0},{original:"מֹשֶׁה",transliteration:"Moshe",meaning:"Moses",position:1}]},{reference:"詩篇 1:1",language:ue.HEBREW,translation:"Blessed is the man who does not walk in the counsel of the wicked.",originalText:"אַשְׁרֵי־הָאִישׁ אֲשֶׁר לֹא הָלַךְ בַּעֲצַת רְשָׁעִים",highlightedWords:[{original:"אַשְׁרֵי",transliteration:"Ashrei",meaning:"Blessed",position:0},{original:"הָאִישׁ",transliteration:"Ha'ish",meaning:"the man",position:1},{original:"רְשָׁעִים",transliteration:"Resha'im",meaning:"wicked",position:2}]},{reference:"箴言 3:5",language:ue.HEBREW,translation:"Trust in the LORD with all your heart.",originalText:"בְּטַח אֶל־יְהוָה בְּכָל־לִבֶּךָ",highlightedWords:[{original:"בְּטַח",transliteration:"Betach",meaning:"Trust",position:0},{original:"לִבֶּךָ",transliteration:"Libekha",meaning:"your heart",position:1}]},{reference:"傳道書 3:1",language:ue.HEBREW,translation:"There is a time for everything, and a season for every activity under the heavens.",originalText:"לַכֹּל זְמָן וְעֵת לְכָל־חֵפֶץ תַּחַת הַשָּׁמָיִם",highlightedWords:[{original:"זְמָן",transliteration:"Zeman",meaning:"time",position:0},{original:"עֵת",transliteration:"Et",meaning:"season",position:1},{original:"חֵפֶץ",transliteration:"Chefetz",meaning:"activity/purpose",position:2}]},{reference:"以賽亞書 6:3",language:ue.HEBREW,translation:"Holy, holy, holy is the LORD Almighty.",originalText:"קָדוֹשׁ קָדוֹשׁ קָדוֹשׁ יְהוָה צְבָאוֹת",highlightedWords:[{original:"קָדוֹשׁ",transliteration:"Qadosh",meaning:"Holy",position:0},{original:"צְבָאוֹת",transliteration:"Tzeva'ot",meaning:"of Hosts/Almighty",position:1}]},{reference:"耶利米書 29:11",language:ue.HEBREW,translation:"For I know the plans I have for you, declares the LORD.",originalText:"כִּי אָנֹכִי יָדַעְתִּי אֶת־הַמַּחֲשָׁבֹת אֲשֶׁר אָנֹכִי חֹשֵׁב עֲלֵיכֶם נְאֻם־יְהוָה",highlightedWords:[{original:"יָדַעְתִּי",transliteration:"Yada'ti",meaning:"I know",position:0},{original:"מַּחֲשָׁבֹת",transliteration:"Machashavot",meaning:"plans/thoughts",position:1},{original:"נְאֻם",transliteration:"Ne'um",meaning:"declares",position:2}]},{reference:"彌迦書 6:8",language:ue.HEBREW,translation:"He has shown you, O mortal, what is good.",originalText:"הִגִּיד לְךָ אָדָם מַה־טּוֹב",highlightedWords:[{original:"הִגִּיד",transliteration:"Higid",meaning:"He has shown",position:0},{original:"אָדָם",transliteration:"Adam",meaning:"man/mortal",position:1},{original:"טּוֹב",transliteration:"Tov",meaning:"good",position:2}]},{reference:"耶利米哀歌 3:22-23",language:ue.HEBREW,translation:"Because of the LORD's great love we are not consumed, for his compassions never fail.",originalText:"חַסְדֵי יְהוָה כִּי לֹא־תָמְנוּ כִּי לֹא־כָלוּ רַחֲמָיו",highlightedWords:[{original:"חַסְדֵי",transliteration:"Chasdei",meaning:"steadfast love",position:0},{original:"רַחֲמָיו",transliteration:"Rachamav",meaning:"His compassions",position:1}]},{reference:"瑪拉基書 3:10",language:ue.HEBREW,translation:"Bring the whole tithe into the storehouse.",originalText:"הָבִיאוּ אֶת־כָּל־הַמַּעֲשֵׂר אֶל־בֵּית הָאוֹצָר",highlightedWords:[{original:"הָבִיאוּ",transliteration:"Havi'u",meaning:"Bring",position:0},{original:"מַּעֲשֵׂר",transliteration:"Ma'aser",meaning:"tithe",position:1},{original:"אוֹצָר",transliteration:"Otzar",meaning:"storehouse",position:2}]},{reference:"民數記 6:24-26",language:ue.HEBREW,translation:"The LORD bless you and keep you.",originalText:"יְבָרֶכְךָ יְהוָה וְיִשְׁמְרֶךָ",highlightedWords:[{original:"יְבָרֶכְךָ",transliteration:"Yevarechecha",meaning:"bless you",position:0},{original:"וְיִשְׁמְרֶךָ",transliteration:"Veyishmerecha",meaning:"and keep you",position:1}]},{reference:"歷代志上 29:11",language:ue.HEBREW,translation:"Yours, O LORD, is the greatness and the power.",originalText:"לְךָ יְהוָה הַגְּדֻלָּה וְהַגְּבוּרָה",highlightedWords:[{original:"הַגְּדֻלָּה",transliteration:"Hagedulah",meaning:"the greatness",position:0},{original:"הַגְּבוּרָה",transliteration:"Hagevurah",meaning:"the power/might",position:1}]},{reference:"詩篇 46:1",language:ue.HEBREW,translation:"God is our refuge and strength.",originalText:"אֱלֹהִים לָנוּ מַחֲסֶה וָעֹז",highlightedWords:[{original:"מַחֲסֶה",transliteration:"Machaseh",meaning:"refuge",position:0},{original:"עֹז",transliteration:"Oz",meaning:"strength",position:1}]},{reference:"詩篇 119:105",language:ue.HEBREW,translation:"Your word is a lamp for my feet, a light on my path.",originalText:"נֵר־לְרַגְלִי דְבָרֶךָ וְאוֹר לִנְתִיבָתִי",highlightedWords:[{original:"נֵר",transliteration:"Ner",meaning:"lamp",position:0},{original:"דְבָרֶךָ",transliteration:"Devarecha",meaning:"Your word",position:1},{original:"אוֹר",transliteration:"Or",meaning:"light",position:2}]},{reference:"約書亞記 1:9",language:ue.HEBREW,translation:"Be strong and courageous. Do not be afraid.",originalText:"חֲזַק וֶאֱמָץ אַל־תַּעֲרֹץ וְאַל־תֵּחָת",highlightedWords:[{original:"חֲזַק",transliteration:"Chazaq",meaning:"Be strong",position:0},{original:"אֱמָץ",transliteration:"Ematz",meaning:"courageous",position:1},{original:"תַּעֲרֹץ",transliteration:"Ta'arotz",meaning:"be afraid",position:2}]},{reference:"但以理書 12:3",language:ue.HEBREW,translation:"Those who are wise will shine like the brightness of the heavens.",originalText:"וְהַמַּשְׂכִּלִים יַזְהִרוּ כְּזֹהַר הָרָקִיעַ",highlightedWords:[{original:"מַּשְׂכִּלִים",transliteration:"Maskilim",meaning:"wise ones",position:0},{original:"יַזְהִרוּ",transliteration:"Yazhiru",meaning:"will shine",position:1},{original:"רָקִיעַ",transliteration:"Raqi'a",meaning:"heavens/expanse",position:2}]},{reference:"馬太福音 5:3",language:ue.GREEK,translation:"Blessed are the poor in spirit, for theirs is the kingdom of heaven.",originalText:"Μακάριοι οἱ πτωχοὶ τῷ πνεύματι ὅτι αὐτῶν ἐστιν ἡ βασιλεία τῶν οὐρανῶν",highlightedWords:[{original:"Μακάριοι",transliteration:"Makarioi",meaning:"Blessed",position:0},{original:"πτωχοὶ",transliteration:"Ptochoi",meaning:"poor",position:1},{original:"πνεύματι",transliteration:"Pneumati",meaning:"in spirit",position:2},{original:"βασιλεία",transliteration:"Basileia",meaning:"kingdom",position:3}]},{reference:"馬太福音 6:9",language:ue.GREEK,translation:"Our Father in heaven, hallowed be your name.",originalText:"Πάτερ ἡμῶν ὁ ἐν τοῖς οὐρανοῖς ἁγιασθήτω τὸ ὄνομά σου",highlightedWords:[{original:"Πάτερ",transliteration:"Pater",meaning:"Father",position:0},{original:"ἁγιασθήτω",transliteration:"Hagiastheto",meaning:"hallowed be",position:1},{original:"ὄνομά",transliteration:"Onoma",meaning:"name",position:2}]},{reference:"馬太福音 28:19",language:ue.GREEK,translation:"Go and make disciples of all nations.",originalText:"πορευθέντες μαθητεύσατε πάντα τὰ ἔθνη",highlightedWords:[{original:"πορευθέντες",transliteration:"Poreuthentes",meaning:"Go",position:0},{original:"μαθητεύσατε",transliteration:"Matheteusate",meaning:"make disciples",position:1},{original:"ἔθνη",transliteration:"Ethne",meaning:"nations",position:2}]},{reference:"馬可福音 1:15",language:ue.GREEK,translation:"Repent and believe the good news.",originalText:"μετανοεῖτε καὶ πιστεύετε ἐν τῷ εὐαγγελίῳ",highlightedWords:[{original:"μετανοεῖτε",transliteration:"Metanoeite",meaning:"Repent",position:0},{original:"πιστεύετε",transliteration:"Pisteuete",meaning:"believe",position:1},{original:"εὐαγγελίῳ",transliteration:"Euangelio",meaning:"gospel/good news",position:2}]},{reference:"路加福音 2:11",language:ue.GREEK,translation:"Today in the town of David a Savior has been born to you; he is the Messiah, the Lord.",originalText:"ὅτι ἐτέχθη ὑμῖν σήμερον σωτὴρ ὅς ἐστιν χριστὸς κύριος",highlightedWords:[{original:"σωτὴρ",transliteration:"Soter",meaning:"Savior",position:0},{original:"χριστὸς",transliteration:"Christos",meaning:"Christ/Messiah",position:1},{original:"κύριος",transliteration:"Kyrios",meaning:"Lord",position:2}]},{reference:"約翰福音 14:6",language:ue.GREEK,translation:"I am the way and the truth and the life.",originalText:"ἐγώ εἰμι ἡ ὁδὸς καὶ ἡ ἀλήθεια καὶ ἡ ζωή",highlightedWords:[{original:"ὁδὸς",transliteration:"Hodos",meaning:"way",position:0},{original:"ἀλήθεια",transliteration:"Aletheia",meaning:"truth",position:1},{original:"ζωή",transliteration:"Zoe",meaning:"life",position:2}]},{reference:"使徒行傳 2:38",language:ue.GREEK,translation:"Repent and be baptized, every one of you, in the name of Jesus Christ.",originalText:"μετανοήσατε καὶ βαπτισθήτω ἕκαστος ὑμῶν ἐπὶ τῷ ὀνόματι Ἰησοῦ Χριστοῦ",highlightedWords:[{original:"μετανοήσατε",transliteration:"Metanoesate",meaning:"Repent",position:0},{original:"βαπτισθήτω",transliteration:"Baptistheto",meaning:"be baptized",position:1},{original:"ὀνόματι",transliteration:"Onomati",meaning:"name",position:2}]},{reference:"羅馬書 3:23",language:ue.GREEK,translation:"For all have sinned and fall short of the glory of God.",originalText:"πάντες γὰρ ἥμαρτον καὶ ὑστεροῦνται τῆς δόξης τοῦ θεοῦ",highlightedWords:[{original:"ἥμαρτον",transliteration:"Hemarton",meaning:"have sinned",position:0},{original:"δόξης",transliteration:"Doxes",meaning:"glory",position:1}]},{reference:"羅馬書 6:23",language:ue.GREEK,translation:"For the wages of sin is death, but the gift of God is eternal life.",originalText:"τὰ γὰρ ὀψώνια τῆς ἁμαρτίας θάνατος τὸ δὲ χάρισμα τοῦ θεοῦ ζωὴ αἰώνιος",highlightedWords:[{original:"ἁμαρτίας",transliteration:"Hamartias",meaning:"sin",position:0},{original:"θάνατος",transliteration:"Thanatos",meaning:"death",position:1},{original:"χάρισμα",transliteration:"Charisma",meaning:"gift",position:2},{original:"αἰώνιος",transliteration:"Aionios",meaning:"eternal",position:3}]},{reference:"羅馬書 8:28",language:ue.GREEK,translation:"And we know that in all things God works for the good of those who love him.",originalText:"οἴδαμεν δὲ ὅτι τοῖς ἀγαπῶσιν τὸν θεὸν πάντα συνεργεῖ εἰς ἀγαθόν",highlightedWords:[{original:"ἀγαπῶσιν",transliteration:"Agaposin",meaning:"love",position:0},{original:"συνεργεῖ",transliteration:"Synergei",meaning:"works together",position:1},{original:"ἀγαθόν",transliteration:"Agathon",meaning:"good",position:2}]},{reference:"哥林多前書 10:13",language:ue.GREEK,translation:"God is faithful; he will not let you be tempted beyond what you can bear.",originalText:"πιστὸς δὲ ὁ θεός ὃς οὐκ ἐάσει ὑμᾶς πειρασθῆναι ὑπὲρ ὃ δύνασθε",highlightedWords:[{original:"πιστὸς",transliteration:"Pistos",meaning:"faithful",position:0},{original:"πειρασθῆναι",transliteration:"Peirasthenai",meaning:"to be tempted",position:1},{original:"δύνασθε",transliteration:"Dynasthe",meaning:"you are able",position:2}]},{reference:"加拉太書 5:22-23",language:ue.GREEK,translation:"But the fruit of the Spirit is love, joy, peace.",originalText:"ὁ δὲ καρπὸς τοῦ πνεύματός ἐστιν ἀγάπη χαρὰ εἰρήνη",highlightedWords:[{original:"καρπὸς",transliteration:"Karpos",meaning:"fruit",position:0},{original:"χαρὰ",transliteration:"Chara",meaning:"joy",position:1},{original:"εἰρήνη",transliteration:"Eirene",meaning:"peace",position:2}]},{reference:"以弗所書 2:8-9",language:ue.GREEK,translation:"For it is by grace you have been saved, through faith.",originalText:"τῇ γὰρ χάριτί ἐστε σεσῳσμένοι διὰ πίστεως",highlightedWords:[{original:"χάριτί",transliteration:"Chariti",meaning:"grace",position:0},{original:"σεσῳσμένοι",transliteration:"Sesosmenoi",meaning:"saved",position:1},{original:"πίστεως",transliteration:"Pisteos",meaning:"faith",position:2}]},{reference:"腓立比書 4:4",language:ue.GREEK,translation:"Rejoice in the Lord always. I will say it again: Rejoice!",originalText:"χαίρετε ἐν κυρίῳ πάντοτε πάλιν ἐρῶ χαίρετε",highlightedWords:[{original:"χαίρετε",transliteration:"Chairete",meaning:"Rejoice",position:0},{original:"κυρίῳ",transliteration:"Kyrio",meaning:"Lord",position:1},{original:"πάντοτε",transliteration:"Pantote",meaning:"always",position:2}]},{reference:"歌羅西書 3:23",language:ue.GREEK,translation:"Whatever you do, work at it with all your heart, as working for the Lord.",originalText:"ὃ ἐὰν ποιῆτε ἐκ ψυχῆς ἐργάζεσθε ὡς τῷ κυρίῳ",highlightedWords:[{original:"ψυχῆς",transliteration:"Psyches",meaning:"soul/heart",position:0},{original:"ἐργάζεσθε",transliteration:"Ergazesthe",meaning:"work",position:1}]},{reference:"帖撒羅尼迦前書 5:16-18",language:ue.GREEK,translation:"Rejoice always, pray continually, give thanks in all circumstances.",originalText:"πάντοτε χαίρετε ἀδιαλείπτως προσεύχεσθε ἐν παντὶ εὐχαριστεῖτε",highlightedWords:[{original:"ἀδιαλείπτως",transliteration:"Adialeiptos",meaning:"continually/unceasingly",position:0},{original:"προσεύχεσθε",transliteration:"Proseuchesthe",meaning:"pray",position:1},{original:"εὐχαριστεῖτε",transliteration:"Eucharistei",meaning:"give thanks",position:2}]},{reference:"提摩太後書 3:16",language:ue.GREEK,translation:"All Scripture is God-breathed and is useful for teaching.",originalText:"πᾶσα γραφὴ θεόπνευστος καὶ ὠφέλιμος πρὸς διδασκαλίαν",highlightedWords:[{original:"γραφὴ",transliteration:"Graphe",meaning:"Scripture",position:0},{original:"θεόπνευστος",transliteration:"Theopneustos",meaning:"God-breathed",position:1},{original:"διδασκαλίαν",transliteration:"Didaskalian",meaning:"teaching",position:2}]},{reference:"希伯來書 11:1",language:ue.GREEK,translation:"Now faith is confidence in what we hope for.",originalText:"ἔστιν δὲ πίστις ἐλπιζομένων ὑπόστασις",highlightedWords:[{original:"πίστις",transliteration:"Pistis",meaning:"faith",position:0},{original:"ἐλπιζομένων",transliteration:"Elpizomenon",meaning:"things hoped for",position:1},{original:"ὑπόστασις",transliteration:"Hypostasis",meaning:"confidence/assurance",position:2}]},{reference:"雅各書 1:22",language:ue.GREEK,translation:"Do not merely listen to the word, and so deceive yourselves. Do what it says.",originalText:"γίνεσθε δὲ ποιηταὶ λόγου καὶ μὴ μόνον ἀκροαταί",highlightedWords:[{original:"ποιηταὶ",transliteration:"Poietai",meaning:"doers",position:0},{original:"λόγου",transliteration:"Logou",meaning:"word",position:1},{original:"ἀκροαταί",transliteration:"Akroatai",meaning:"hearers",position:2}]},{reference:"彼得前書 5:7",language:ue.GREEK,translation:"Cast all your anxiety on him because he cares for you.",originalText:"πᾶσαν τὴν μέριμναν ὑμῶν ἐπιρίψαντες ἐπ αὐτόν ὅτι αὐτῷ μέλει περὶ ὑμῶν",highlightedWords:[{original:"μέριμναν",transliteration:"Merimnan",meaning:"anxiety/care",position:0},{original:"ἐπιρίψαντες",transliteration:"Epiripsantes",meaning:"casting",position:1},{original:"μέλει",transliteration:"Melei",meaning:"cares",position:2}]},{reference:"約翰一書 4:8",language:ue.GREEK,translation:"Whoever does not love does not know God, because God is love.",originalText:"ὁ μὴ ἀγαπῶν οὐκ ἔγνω τὸν θεόν ὅτι ὁ θεὸς ἀγάπη ἐστίν",highlightedWords:[{original:"ἀγαπῶν",transliteration:"Agapon",meaning:"loving",position:0},{original:"ἔγνω",transliteration:"Egno",meaning:"knows",position:1},{original:"ἀγάπη",transliteration:"Agape",meaning:"love",position:2}]},{reference:"啟示錄 3:20",language:ue.GREEK,translation:"Here I am! I stand at the door and knock.",originalText:"ἰδοὺ ἕστηκα ἐπὶ τὴν θύραν καὶ κρούω",highlightedWords:[{original:"ἕστηκα",transliteration:"Hesteka",meaning:"I stand",position:0},{original:"θύραν",transliteration:"Thyran",meaning:"door",position:1},{original:"κρούω",transliteration:"Krouo",meaning:"I knock",position:2}]},{reference:"啟示錄 21:4",language:ue.GREEK,translation:"He will wipe every tear from their eyes.",originalText:"καὶ ἐξαλείψει πᾶν δάκρυον ἐκ τῶν ὀφθαλμῶν αὐτῶν",highlightedWords:[{original:"ἐξαλείψει",transliteration:"Exaleipsei",meaning:"will wipe away",position:0},{original:"δάκρυον",transliteration:"Dakryon",meaning:"tear",position:1},{original:"ὀφθαλμῶν",transliteration:"Ophthalmon",meaning:"eyes",position:2}]}],XT=n=>QT.filter(e=>e.language===n),ZT=({language:n,onSelectVerse:e,onBack:a})=>{const[o,r]=H.useState(""),[u,f]=H.useState("all"),p=XT(n),y=n===ue.HEBREW?"希伯來文經文":"希臘文經文",g=n===ue.HEBREW?"舊約聖經":"新約聖經",v=H.useMemo(()=>{const N=new Set(p.map(_=>{const E=_.reference.split(" ");return E[0]&&!isNaN(parseInt(E[0]))&&E.length>1?`${E[0]} ${E[1]}`:E[0]}));return["all",...Array.from(N)]},[p]),b=H.useMemo(()=>p.filter(N=>{const _=N.reference.toLowerCase().includes(o.toLowerCase())||N.translation.toLowerCase().includes(o.toLowerCase())||N.highlightedWords.some(A=>A.original.includes(o)||A.transliteration.toLowerCase().includes(o.toLowerCase())||A.meaning.toLowerCase().includes(o.toLowerCase())),E=u==="all"||N.reference.startsWith(u);return _&&E}),[p,o,u]),w={all:"全部經卷",Genesis:"創世記",出埃及記:"出埃及記",Exodus:"出埃及記",Psalm:"詩篇",箴言:"箴言",Proverbs:"箴言",傳道書:"傳道書",Ecclesiastes:"傳道書",Isaiah:"以賽亞書",耶利米書:"耶利米書",Jeremiah:"耶利米書",彌迦書:"彌迦書",Micah:"彌迦書",耶利米哀歌:"耶利米哀歌",Lamentations:"耶利米哀歌",瑪拉基書:"瑪拉基書",Malachi:"瑪拉基書",民數記:"民數記",Numbers:"民數記","1 Chronicles":"歷代志上",Chronicles:"歷代志",約書亞記:"約書亞記",Joshua:"約書亞記",但以理書:"但以理書",Daniel:"但以理書",Deuteronomy:"申命記",Matthew:"馬太福音",Mark:"馬可福音",Luke:"路加福音",John:"約翰福音",Acts:"使徒行傳",Romans:"羅馬書","1 Corinthians":"哥林多前書",Galatians:"加拉太書",Ephesians:"以弗所書",Philippians:"腓立比書",Colossians:"歌羅西書","1 Thessalonians":"帖撒羅尼迦前書","2 Timothy":"提摩太後書",Hebrews:"希伯來書",James:"雅各書","1 Peter":"彼得前書","1 John":"約翰一書",Revelation:"啟示錄"};return c.jsxs("div",{className:"w-full max-w-4xl p-6 animate-fade-in",children:[c.jsx("button",{onClick:a,className:"mb-6 text-sm text-stone-500 hover:text-sky-600 transition-colors",children:"← 返回練習模式"}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-4xl font-bold text-sky-800 dark:text-sky-300 mb-2",children:y}),c.jsx("p",{className:"text-lg text-stone-600 dark:text-stone-400",children:g})]}),c.jsxs("div",{className:"mb-6 space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-stone-400"}),c.jsx("input",{type:"text",value:o,onChange:N=>r(N.target.value),placeholder:"搜尋經文、詞彙或翻譯...",className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-stone-800 border border-stone-300 dark:border-stone-600 rounded-xl focus:ring-2 focus:ring-sky-500 focus:border-transparent outline-none transition-all"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(t0,{className:"w-5 h-5 text-stone-500"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(N=>c.jsx("button",{onClick:()=>f(N),className:`px-4 py-2 rounded-lg font-medium transition-all ${u===N?"bg-sky-600 text-white shadow-md":"bg-stone-200 dark:bg-stone-700 text-stone-700 dark:text-stone-300 hover:bg-stone-300 dark:hover:bg-stone-600"}`,children:w[N]||N},N))})]}),c.jsxs("p",{className:"text-sm text-stone-500 dark:text-stone-400",children:["找到 ",b.length," 個經文"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.length===0?c.jsxs("div",{className:"col-span-2 text-center py-12",children:[c.jsx("p",{className:"text-lg text-stone-500 dark:text-stone-400 mb-2",children:"沒有找到符合條件的經文"}),c.jsx("p",{className:"text-sm text-stone-400 dark:text-stone-500",children:"請嘗試其他搜尋條件"})]}):b.map(N=>c.jsx("button",{onClick:()=>e(N),className:"group p-6 bg-white dark:bg-stone-800 rounded-xl shadow-md hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left border-2 border-transparent hover:border-sky-500",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-2 bg-sky-100 dark:bg-sky-900/30 rounded-lg group-hover:bg-sky-200 dark:group-hover:bg-sky-800/50 transition-colors",children:c.jsx(Cc,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-sky-900 dark:text-sky-200 mb-2",children:N.reference}),c.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-400 line-clamp-2",children:N.translation}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[N.highlightedWords.slice(0,3).map((_,E)=>c.jsx("span",{className:"px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 text-xs rounded-md font-medium",children:_.original},E)),N.highlightedWords.length>3&&c.jsxs("span",{className:"px-2 py-1 text-stone-500 dark:text-stone-400 text-xs",children:["+",N.highlightedWords.length-3," more"]})]})]})]})},N.reference))})]})},WT=({verse:n,onBack:e})=>{const[a,o]=H.useState(null),[r,u]=H.useState(null),[f,p]=H.useState(!1),y=b=>{if(!("speechSynthesis"in window)){console.error("Speech synthesis not supported");return}u(b.original);const w=new SpeechSynthesisUtterance(b.transliteration);w.lang=n.language==="Hebrew"?"he-IL":"el-GR",w.rate=.7,w.pitch=1,w.onend=()=>{u(null)},w.onerror=()=>{u(null)},window.speechSynthesis.cancel(),window.speechSynthesis.speak(w)},g=()=>{if(!("speechSynthesis"in window)){console.error("Speech synthesis not supported");return}if(!n.originalText){console.error("No original text available");return}p(!0),window.speechSynthesis.cancel();const b=new SpeechSynthesisUtterance(n.originalText);b.lang=n.language==="Hebrew"?"he-IL":"el-GR",b.rate=.6,b.pitch=1,b.volume=1,b.onend=()=>{p(!1)},b.onerror=()=>{p(!1)},window.speechSynthesis.speak(b)},v=()=>{window.speechSynthesis.cancel(),p(!1)};return c.jsxs("div",{className:"w-full max-w-5xl p-6 animate-fade-in-up",children:[c.jsxs("button",{onClick:e,className:"mb-6 text-sm text-stone-500 hover:text-sky-600 transition-colors flex items-center gap-2",children:[c.jsx(Ta,{className:"w-4 h-4"}),"返回經文列表"]}),c.jsx("div",{className:"mb-8 text-center",children:c.jsxs("div",{className:"inline-flex items-center gap-3 mb-3 px-6 py-3 bg-sky-100 dark:bg-sky-900/30 rounded-full",children:[c.jsx(Cc,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"}),c.jsx("h2",{className:"text-2xl font-bold text-sky-800 dark:text-sky-300",children:n.reference})]})}),c.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-stone-800 rounded-2xl shadow-lg",children:[c.jsx("h3",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 mb-3 uppercase tracking-wide",children:"英文翻譯"}),c.jsxs("p",{className:"text-xl text-stone-700 dark:text-stone-200 leading-relaxed italic",children:['"',n.translation,'"']})]}),n.originalText&&c.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-amber-700 dark:text-amber-400 uppercase tracking-wide",children:"原文經文"}),c.jsxs("button",{onClick:f?v:g,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all ${f?"bg-red-600 hover:bg-red-700 text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:[c.jsx(ya,{className:`w-5 h-5 ${f?"animate-pulse":""}`}),c.jsx("span",{className:"text-sm",children:f?"停止朗讀":"朗讀整段經文"})]})]}),c.jsx("p",{className:"text-3xl md:text-4xl text-amber-900 dark:text-amber-200 leading-relaxed font-serif",dir:n.language==="Hebrew"?"rtl":"ltr",children:n.originalText}),c.jsxs("div",{className:"mt-3 text-xs text-amber-700 dark:text-amber-400 italic",children:[n.language==="Hebrew"?"希伯來語朗讀":"希臘語朗讀"," · 點擊上方按鈕聆聽完整經文發音"]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-lg font-bold text-sky-800 dark:text-sky-300 mb-4",children:"重點詞彙學習"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.highlightedWords.map((b,w)=>c.jsxs("button",{onClick:()=>{o(b),y(b)},className:`group p-5 rounded-xl transition-all duration-300 border-2 text-left ${(a==null?void 0:a.original)===b.original?"bg-sky-100 dark:bg-sky-900/50 border-sky-500 shadow-lg scale-105":"bg-white dark:bg-stone-800 border-stone-200 dark:border-stone-700 hover:border-sky-400 hover:shadow-md"}`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsx("div",{className:"text-3xl font-serif text-sky-900 dark:text-sky-200",dir:n.language==="Hebrew"?"rtl":"ltr",children:b.original}),c.jsx("button",{onClick:N=>{N.stopPropagation(),y(b)},className:`p-2 rounded-full transition-colors ${r===b.original?"bg-sky-500 text-white":"bg-sky-100 dark:bg-sky-900/30 text-sky-600 dark:text-sky-400 hover:bg-sky-200 dark:hover:bg-sky-800/50"}`,children:c.jsx(ya,{className:`w-4 h-4 ${r===b.original?"animate-pulse":""}`})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-lg font-medium text-stone-700 dark:text-stone-300",children:b.transliteration}),c.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-400",children:b.meaning})]})]},w))})]}),a&&c.jsxs("div",{className:"p-6 bg-gradient-to-r from-sky-500 to-indigo-600 rounded-2xl shadow-xl text-white animate-fade-in",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-3 opacity-90",children:"當前選擇的詞彙"}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"text-6xl font-serif",dir:n.language==="Hebrew"?"rtl":"ltr",children:a.original}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-2xl font-bold mb-1",children:a.transliteration}),c.jsx("p",{className:"text-lg opacity-90",children:a.meaning})]}),c.jsx("button",{onClick:()=>y(a),className:"p-4 bg-white/20 hover:bg-white/30 rounded-full transition-colors",children:c.jsx(ya,{className:"w-8 h-8"})})]})]})]})},eE="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4",tE=new ii({apiKey:eE}),nE=async(n,e,a)=>{try{const o="gemini-2.0-flash-exp",r=`You are an expert biblical language pronunciation coach specializing in ${n.language} (${n.language==="Hebrew"?"Biblical Hebrew":"Koine Greek"}).

The student is attempting to pronounce the word:
- Original: ${n.word}
- Transliteration: ${n.transliteration}
- Meaning: ${n.meanings.join(", ")}
- Part of Speech: ${n.partOfSpeech}
${n.grammaticalNotes?`- Grammar Notes: ${n.grammaticalNotes}`:""}

Please analyze their pronunciation and respond in JSON format with:
{
  "isCorrect": true/false (true if pronunciation is good enough, false if needs improvement),
  "score": 0-100 (0 = completely wrong, 100 = perfect),
  "feedback": "Brief encouraging feedback in Traditional Chinese (2-3 sentences)",
  "suggestions": "If not perfect, specific suggestions for improvement in Traditional Chinese (optional)"
}

Be encouraging but honest. Consider:
- Correct consonant sounds
- Correct vowel sounds
- Proper stress/emphasis
- Overall fluency

Respond ONLY with valid JSON, no other text.`,u={inlineData:{data:e,mimeType:a}},f={text:r},p=await tE.models.generateContent({model:o,contents:{parts:[f,u]},config:{responseMimeType:"application/json"}}),y=JSON.parse(p.text);return{isCorrect:y.isCorrect||!1,score:y.score||0,feedback:y.feedback||"無法分析發音",suggestions:y.suggestions}}catch(o){return console.error("Error getting pronunciation feedback from Gemini:",o),{isCorrect:!1,score:0,feedback:"抱歉，無法分析您的發音。請重試。",suggestions:void 0}}},iE=({card:n,onRate:e,showRating:a=!0})=>{const[o,r]=H.useState(!1),[u,f]=H.useState("idle"),[p,y]=H.useState(null),g=H.useRef(null),v=H.useRef([]),b=R=>new Promise((L,V)=>{const M=new FileReader;M.onloadend=()=>{if(typeof M.result!="string")return V(new Error("File could not be read as a string."));const q=M.result.split(",")[1];L(q)},M.onerror=V,M.readAsDataURL(R)}),w=()=>{u==="idle"&&r(!o)},N=R=>{const L=p==null?void 0:p.score;e(R,L),r(!1),f("idle"),y(null)},_=H.useCallback(async()=>{try{const R=await navigator.mediaDevices.getUserMedia({audio:!0});y(null),f("recording");const L=new MediaRecorder(R);g.current=L,v.current=[],L.ondataavailable=V=>{v.current.push(V.data)},L.onstop=async()=>{f("processing");const V=new Blob(v.current,{type:L.mimeType});try{const M=await b(V),G=await nE(n,M,L.mimeType);y(G),f("feedback")}catch(M){console.error("Error getting pronunciation feedback:",M),y({isCorrect:!1,score:0,feedback:"無法分析發音，請重試。"}),f("feedback")}R.getTracks().forEach(M=>M.stop())},L.start()}catch(R){console.error("Error accessing microphone:",R),alert("需要麥克風權限才能練習發音。請在瀏覽器設定中啟用麥克風。"),f("idle")}},[n]),E=H.useCallback(()=>{g.current&&g.current.state==="recording"&&g.current.stop()},[]),A=()=>{u==="recording"?E():u==="idle"&&_()};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[c.jsx("div",{className:"relative w-full h-96 cursor-pointer",style:{perspective:"1000px"},onClick:w,children:c.jsxs("div",{className:"relative w-full h-full transition-transform duration-500",style:{transformStyle:"preserve-3d",transform:o?"rotateY(180deg)":"rotateY(0deg)"},children:[c.jsx("div",{className:`absolute w-full h-full bg-gradient-to-br from-amber-50 to-amber-100 border-4 border-amber-600 rounded-2xl shadow-2xl flex flex-col items-center justify-center p-8 ${o?"invisible":"visible"}`,style:{backfaceVisibility:"hidden"},children:c.jsxs("div",{className:"text-center space-y-6",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("span",{className:`px-4 py-1 rounded-full text-sm font-semibold ${n.language==="Hebrew"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:n.language})}),c.jsx("div",{className:`text-6xl font-bold ${n.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:n.language==="Hebrew"?"rtl":"ltr",children:n.word}),c.jsx("div",{className:"text-2xl text-gray-600 italic",children:n.transliteration}),c.jsx("div",{className:"text-sm text-gray-500 uppercase tracking-wider",children:n.partOfSpeech}),c.jsxs("div",{className:"pt-8 border-t border-amber-300 w-full",children:[c.jsx("div",{className:"text-sm text-amber-700 font-semibold mb-3",children:"發音練習"}),c.jsxs("button",{onClick:R=>{R.stopPropagation(),A()},disabled:u==="processing",className:`w-full py-3 rounded-lg font-bold transition-all ${u==="recording"?"bg-red-500 hover:bg-red-600 text-white animate-pulse":u==="processing"?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 text-white"}`,children:[u==="recording"&&"🎤 錄音中... (點擊停止)",u==="processing"&&"⏳ AI 分析中...",u==="idle"&&"🎤 開始錄音",u==="feedback"&&"🎤 再試一次"]}),p&&u==="feedback"&&c.jsxs("div",{className:`mt-4 p-4 rounded-lg border-2 ${p.isCorrect?"bg-green-50 border-green-400":"bg-orange-50 border-orange-400"}`,onClick:R=>R.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-lg font-bold",children:p.isCorrect?"✅ 很好！":"📝 需要改進"}),c.jsxs("span",{className:"text-2xl font-bold text-gray-700",children:[p.score,"/100"]})]}),c.jsx("div",{className:"text-sm text-gray-700 mb-2",children:p.feedback}),p.suggestions&&c.jsxs("div",{className:"text-xs text-gray-600 bg-white/50 p-2 rounded mt-2",children:["💡 ",p.suggestions]})]})]}),c.jsxs("div",{className:"pt-4 text-amber-600 text-xs",children:[u==="idle"&&"點擊翻轉查看答案",u==="feedback"&&"錄音完成後點擊翻轉查看詳細資料"]})]})}),c.jsxs("div",{className:`absolute w-full h-full bg-gradient-to-br from-indigo-50 to-indigo-100 border-4 border-indigo-600 rounded-2xl shadow-2xl flex flex-col p-6 overflow-y-auto ${o?"visible":"invisible"}`,style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("div",{className:`text-3xl font-bold mb-2 ${n.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:n.language==="Hebrew"?"rtl":"ltr",children:n.word}),c.jsx("div",{className:"text-lg text-gray-600 italic",children:n.transliteration})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"意思"}),c.jsx("div",{className:"space-y-1",children:n.meanings.map((R,L)=>c.jsxs("div",{className:"text-lg",children:["• ",R]},L))})]}),n.grammaticalNotes&&c.jsxs("div",{className:"mb-4 bg-white/50 p-3 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"語法筆記"}),c.jsx("p",{className:"text-sm text-gray-700",children:n.grammaticalNotes})]}),n.examples.length>0&&c.jsxs("div",{className:"mb-4 bg-white/50 p-3 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"聖經例句"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs text-amber-700 font-semibold",children:n.examples[0].reference}),c.jsx("div",{className:`text-base ${n.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:n.language==="Hebrew"?"rtl":"ltr",children:n.examples[0].text}),c.jsx("div",{className:"text-sm text-gray-600 italic",children:n.examples[0].translation})]})]}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-auto pt-2",children:[c.jsxs("span",{children:["出現次數: ",n.frequency,"次"]}),c.jsxs("span",{children:["課程章節: ",n.chapter]})]})]})]})}),a&&o&&c.jsxs("div",{className:"mt-6 grid grid-cols-4 gap-4",children:[c.jsxs("button",{onClick:R=>{R.stopPropagation(),N("again")},className:"flex flex-col items-center justify-center p-4 bg-red-100 hover:bg-red-200 border-2 border-red-400 rounded-lg transition-colors",children:[c.jsx("span",{className:"text-2xl mb-1",children:"😰"}),c.jsx("span",{className:"text-sm font-semibold text-red-700",children:"再次"}),c.jsx("span",{className:"text-xs text-red-600",children:"< 1天"})]}),c.jsxs("button",{onClick:R=>{R.stopPropagation(),N("hard")},className:"flex flex-col items-center justify-center p-4 bg-orange-100 hover:bg-orange-200 border-2 border-orange-400 rounded-lg transition-colors",children:[c.jsx("span",{className:"text-2xl mb-1",children:"😅"}),c.jsx("span",{className:"text-sm font-semibold text-orange-700",children:"困難"}),c.jsx("span",{className:"text-xs text-orange-600",children:"3天"})]}),c.jsxs("button",{onClick:R=>{R.stopPropagation(),N("good")},className:"flex flex-col items-center justify-center p-4 bg-green-100 hover:bg-green-200 border-2 border-green-400 rounded-lg transition-colors",children:[c.jsx("span",{className:"text-2xl mb-1",children:"😊"}),c.jsx("span",{className:"text-sm font-semibold text-green-700",children:"良好"}),c.jsx("span",{className:"text-xs text-green-600",children:"7天"})]}),c.jsxs("button",{onClick:R=>{R.stopPropagation(),N("easy")},className:"flex flex-col items-center justify-center p-4 bg-blue-100 hover:bg-blue-200 border-2 border-blue-400 rounded-lg transition-colors",children:[c.jsx("span",{className:"text-2xl mb-1",children:"😎"}),c.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"容易"}),c.jsx("span",{className:"text-xs text-blue-600",children:"14天"})]})]}),!o&&u==="idle"&&c.jsx("div",{className:"mt-4 text-center text-gray-500 text-sm",children:"先練習發音，然後翻轉卡片查看意思和詳細資料"}),!o&&u==="feedback"&&p&&c.jsxs("div",{className:"mt-4 text-center space-y-2",children:[c.jsxs("div",{className:"text-sm text-gray-600",children:["發音分數: ",c.jsxs("span",{className:"font-bold text-lg",children:[p.score,"/100"]})]}),c.jsx("div",{className:"text-xs text-gray-500",children:"現在翻轉卡片查看詞彙意思，然後評估你的整體掌握程度"})]})]})},U0=[{id:"heb_001",language:"Hebrew",word:"אֱלֹהִים",transliteration:"Elohim",partOfSpeech:"noun",meanings:["God","gods"],frequency:2602,chapter:1,examples:[{reference:"Genesis 1:1",text:"בְּרֵאשִׁית בָּרָא אֱלֹהִים",translation:"In the beginning God created"}],grammaticalNotes:"Masculine plural form, but treated as singular when referring to the one true God"},{id:"heb_002",language:"Hebrew",word:"יהוה",transliteration:"YHWH / Yahweh",partOfSpeech:"noun",meanings:["LORD","Yahweh"],frequency:6828,chapter:1,examples:[{reference:"Genesis 2:4",text:"יְהוָה אֱלֹהִים",translation:"the LORD God"}],grammaticalNotes:"The covenant name of God, tetragrammaton (YHWH)"},{id:"heb_003",language:"Hebrew",word:"אָדָם",transliteration:"Adam",partOfSpeech:"noun",meanings:["man","mankind","Adam"],frequency:562,chapter:1,examples:[{reference:"Genesis 1:27",text:"וַיִּבְרָא אֱלֹהִים אֶת־הָאָדָם",translation:"And God created the man"}],grammaticalNotes:"Can mean individual person or humanity collectively"},{id:"heb_004",language:"Hebrew",word:"אֶרֶץ",transliteration:"Eretz",partOfSpeech:"noun",meanings:["land","earth","ground"],frequency:2505,chapter:1,examples:[{reference:"Genesis 1:1",text:"אֵת הַשָּׁמַיִם וְאֵת הָאָרֶץ",translation:"the heavens and the earth"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_005",language:"Hebrew",word:"שָׁמַיִם",transliteration:"Shamayim",partOfSpeech:"noun",meanings:["heavens","sky"],frequency:421,chapter:1,examples:[{reference:"Genesis 1:1",text:"בָּרָא אֱלֹהִים אֵת הַשָּׁמַיִם",translation:"God created the heavens"}],grammaticalNotes:"Masculine plural (dual) form, always plural"},{id:"heb_006",language:"Hebrew",word:"בַּיִת",transliteration:"Bayit",partOfSpeech:"noun",meanings:["house","household","temple"],frequency:2047,chapter:2,examples:[{reference:"Genesis 12:1",text:"מִבֵּיתְךָ",translation:"from your house"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_007",language:"Hebrew",word:"בֵּן",transliteration:"Ben",partOfSpeech:"noun",meanings:["son","child"],frequency:4941,chapter:2,examples:[{reference:"Genesis 4:17",text:"וַתֵּלֶד אֶת־בֶּן",translation:"and she bore a son"}],grammaticalNotes:"Masculine singular noun, plural: בָּנִים (banim)"},{id:"heb_008",language:"Hebrew",word:"בַּת",transliteration:"Bat",partOfSpeech:"noun",meanings:["daughter"],frequency:587,chapter:2,examples:[{reference:"Genesis 6:2",text:"בְּנוֹת הָאָדָם",translation:"daughters of man"}],grammaticalNotes:"Feminine singular noun, plural: בָּנוֹת (banot)"},{id:"heb_009",language:"Hebrew",word:"יוֹם",transliteration:"Yom",partOfSpeech:"noun",meanings:["day","time"],frequency:2304,chapter:2,examples:[{reference:"Genesis 1:5",text:"וַיִּקְרָא אֱלֹהִים לָאוֹר יוֹם",translation:"And God called the light day"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_010",language:"Hebrew",word:"לַיְלָה",transliteration:"Laylah",partOfSpeech:"noun",meanings:["night"],frequency:234,chapter:2,examples:[{reference:"Genesis 1:5",text:"וְלַחֹשֶׁךְ קָרָא לָיְלָה",translation:"and the darkness He called night"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_011",language:"Hebrew",word:"אָמַר",transliteration:"Amar",partOfSpeech:"verb",meanings:["to say","to speak"],frequency:5316,chapter:3,examples:[{reference:"Genesis 1:3",text:"וַיֹּאמֶר אֱלֹהִים",translation:"And God said"}],grammaticalNotes:"Qal perfect 3ms: אָמַר, Qal imperfect 3ms: יֹאמַר"},{id:"heb_012",language:"Hebrew",word:"עָשָׂה",transliteration:"Asah",partOfSpeech:"verb",meanings:["to do","to make"],frequency:2632,chapter:3,examples:[{reference:"Genesis 1:7",text:"וַיַּעַשׂ אֱלֹהִים",translation:"And God made"}],grammaticalNotes:"Qal perfect 3ms: עָשָׂה, Qal imperfect 3ms: יַעֲשֶׂה"},{id:"heb_013",language:"Hebrew",word:"בָּרָא",transliteration:"Bara",partOfSpeech:"verb",meanings:["to create"],frequency:54,chapter:3,examples:[{reference:"Genesis 1:1",text:"בָּרָא אֱלֹהִים",translation:"God created"}],grammaticalNotes:"Used exclusively with God as subject in Qal stem"},{id:"heb_014",language:"Hebrew",word:"הָלַךְ",transliteration:"Halakh",partOfSpeech:"verb",meanings:["to walk","to go"],frequency:1554,chapter:3,examples:[{reference:"Genesis 3:8",text:"מִתְהַלֵּךְ בַּגָּן",translation:"walking in the garden"}],grammaticalNotes:"Qal perfect 3ms: הָלַךְ, Qal imperfect 3ms: יֵלֵךְ"},{id:"heb_015",language:"Hebrew",word:"בּוֹא",transliteration:"Bo",partOfSpeech:"verb",meanings:["to come","to enter"],frequency:2592,chapter:4,examples:[{reference:"Genesis 6:18",text:"וּבָאתָ אֶל־הַתֵּבָה",translation:"and you shall come into the ark"}],grammaticalNotes:"Qal perfect 3ms: בָּא, Qal imperfect 3ms: יָבוֹא"},{id:"heb_016",language:"Hebrew",word:"יָצָא",transliteration:"Yatsa",partOfSpeech:"verb",meanings:["to go out","to come out"],frequency:1076,chapter:4,examples:[{reference:"Genesis 2:10",text:"וְנָהָר יֹצֵא מֵעֵדֶן",translation:"and a river went out from Eden"}],grammaticalNotes:"Qal perfect 3ms: יָצָא, Qal imperfect 3ms: יֵצֵא"},{id:"heb_017",language:"Hebrew",word:"נָתַן",transliteration:"Natan",partOfSpeech:"verb",meanings:["to give","to put","to set"],frequency:2014,chapter:4,examples:[{reference:"Genesis 1:17",text:"וַיִּתֵּן אֹתָם אֱלֹהִים",translation:"And God set them"}],grammaticalNotes:"Qal perfect 3ms: נָתַן, Qal imperfect 3ms: יִתֵּן"},{id:"heb_018",language:"Hebrew",word:"רָאָה",transliteration:"Raah",partOfSpeech:"verb",meanings:["to see","to look"],frequency:1311,chapter:4,examples:[{reference:"Genesis 1:4",text:"וַיַּרְא אֱלֹהִים אֶת־הָאוֹר",translation:"And God saw the light"}],grammaticalNotes:"Qal perfect 3ms: רָאָה, Qal imperfect 3ms: יִרְאֶה"},{id:"heb_019",language:"Hebrew",word:"שָׁמַע",transliteration:"Shama",partOfSpeech:"verb",meanings:["to hear","to listen","to obey"],frequency:1165,chapter:4,examples:[{reference:"Genesis 3:8",text:"וַיִּשְׁמְעוּ אֶת־קוֹל",translation:"And they heard the sound"}],grammaticalNotes:"Qal perfect 3ms: שָׁמַע, Qal imperfect 3ms: יִשְׁמַע"},{id:"heb_020",language:"Hebrew",word:"קָרָא",transliteration:"Qara",partOfSpeech:"verb",meanings:["to call","to proclaim","to read"],frequency:739,chapter:4,examples:[{reference:"Genesis 1:5",text:"וַיִּקְרָא אֱלֹהִים לָאוֹר יוֹם",translation:"And God called the light day"}],grammaticalNotes:"Qal perfect 3ms: קָרָא, Qal imperfect 3ms: יִקְרָא"},{id:"heb_021",language:"Hebrew",word:"אֵת",transliteration:"Et",partOfSpeech:"particle",meanings:["(direct object marker)"],frequency:10978,chapter:5,examples:[{reference:"Genesis 1:1",text:"בָּרָא אֱלֹהִים אֵת הַשָּׁמַיִם",translation:"God created the heavens"}],grammaticalNotes:"Marks the definite direct object, not translated in English"},{id:"heb_022",language:"Hebrew",word:"אֶל",transliteration:"El",partOfSpeech:"preposition",meanings:["to","toward","into"],frequency:5518,chapter:5,examples:[{reference:"Genesis 2:19",text:"וַיָּבֵא אֶל־הָאָדָם",translation:"and He brought to the man"}],grammaticalNotes:"Indicates motion toward or direction"},{id:"heb_023",language:"Hebrew",word:"בְּ",transliteration:"Be",partOfSpeech:"preposition",meanings:["in","at","with","by"],frequency:15559,chapter:5,examples:[{reference:"Genesis 1:1",text:"בְּרֵאשִׁית",translation:"In the beginning"}],grammaticalNotes:"Inseparable preposition, prefixed to nouns"},{id:"heb_024",language:"Hebrew",word:"לְ",transliteration:"Le",partOfSpeech:"preposition",meanings:["to","for","belonging to"],frequency:20321,chapter:5,examples:[{reference:"Genesis 1:5",text:"וַיִּקְרָא אֱלֹהִים לָאוֹר",translation:"And God called to the light"}],grammaticalNotes:"Inseparable preposition, most frequent in Hebrew"},{id:"heb_025",language:"Hebrew",word:"מִן",transliteration:"Min",partOfSpeech:"preposition",meanings:["from","out of","than"],frequency:7592,chapter:5,examples:[{reference:"Genesis 2:10",text:"יֹצֵא מֵעֵדֶן",translation:"going out from Eden"}],grammaticalNotes:"Can be separate word or inseparable prefix מִ/מֵ"},{id:"heb_026",language:"Hebrew",word:"עַל",transliteration:"Al",partOfSpeech:"preposition",meanings:["on","upon","over","concerning"],frequency:5777,chapter:5,examples:[{reference:"Genesis 1:2",text:"עַל־פְּנֵי הַמָּיִם",translation:"over the face of the waters"}],grammaticalNotes:"Indicates position above or concerning something"},{id:"heb_027",language:"Hebrew",word:"כְּ",transliteration:"Ke",partOfSpeech:"preposition",meanings:["as","like","according to"],frequency:3053,chapter:6,examples:[{reference:"Genesis 1:26",text:"נַעֲשֶׂה אָדָם בְּצַלְמֵנוּ כִּדְמוּתֵנוּ",translation:"Let us make man in our image, according to our likeness"}],grammaticalNotes:"Inseparable preposition for comparison"},{id:"heb_028",language:"Hebrew",word:"אִם",transliteration:"Im",partOfSpeech:"conjunction",meanings:["if","whether"],frequency:1070,chapter:6,examples:[{reference:"Genesis 4:7",text:"הֲלוֹא אִם־תֵּיטִיב",translation:"If you do well"}],grammaticalNotes:"Introduces conditional clauses"},{id:"heb_029",language:"Hebrew",word:"כִּי",transliteration:"Ki",partOfSpeech:"conjunction",meanings:["that","because","for","when"],frequency:4487,chapter:6,examples:[{reference:"Genesis 1:4",text:"וַיַּרְא אֱלֹהִים אֶת־הָאוֹר כִּי־טוֹב",translation:"And God saw the light, that it was good"}],grammaticalNotes:"Very common conjunction with multiple meanings depending on context"},{id:"heb_030",language:"Hebrew",word:"וְ",transliteration:"Ve",partOfSpeech:"conjunction",meanings:["and","but","also"],frequency:50524,chapter:6,examples:[{reference:"Genesis 1:1",text:"אֵת הַשָּׁמַיִם וְאֵת הָאָרֶץ",translation:"the heavens and the earth"}],grammaticalNotes:"Most frequent word in Hebrew Bible, inseparable conjunction"},{id:"heb_031",language:"Hebrew",word:"מֶלֶךְ",transliteration:"Melekh",partOfSpeech:"noun",meanings:["king"],frequency:2530,chapter:7,examples:[{reference:"1 Samuel 8:5",text:"שִׂימָה לָּנוּ מֶלֶךְ",translation:"appoint for us a king"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_032",language:"Hebrew",word:"עִיר",transliteration:"Ir",partOfSpeech:"noun",meanings:["city","town"],frequency:1092,chapter:7,examples:[{reference:"Genesis 4:17",text:"וַיִּבֶן עִיר",translation:"and he built a city"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_033",language:"Hebrew",word:"עַם",transliteration:"Am",partOfSpeech:"noun",meanings:["people","nation"],frequency:1869,chapter:7,examples:[{reference:"Exodus 1:9",text:"עַם בְּנֵי יִשְׂרָאֵל",translation:"the people of Israel"}],grammaticalNotes:"Masculine singular noun, collective"},{id:"heb_034",language:"Hebrew",word:"דָּבָר",transliteration:"Davar",partOfSpeech:"noun",meanings:["word","thing","matter"],frequency:1454,chapter:7,examples:[{reference:"Genesis 15:1",text:"הָיָה דְבַר־יְהוָה",translation:"the word of the LORD came"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_035",language:"Hebrew",word:"יָד",transliteration:"Yad",partOfSpeech:"noun",meanings:["hand","power"],frequency:1627,chapter:8,examples:[{reference:"Exodus 14:31",text:"אֶת־הַיָּד הַגְּדֹלָה",translation:"the great hand/power"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_036",language:"Hebrew",word:"לֵב",transliteration:"Lev",partOfSpeech:"noun",meanings:["heart","mind","will"],frequency:858,chapter:8,examples:[{reference:"Deuteronomy 6:5",text:"בְּכָל־לְבָבְךָ",translation:"with all your heart"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_037",language:"Hebrew",word:"נֶפֶשׁ",transliteration:"Nefesh",partOfSpeech:"noun",meanings:["soul","life","person"],frequency:757,chapter:8,examples:[{reference:"Genesis 2:7",text:"לְנֶפֶשׁ חַיָּה",translation:"a living soul"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_038",language:"Hebrew",word:"רוּחַ",transliteration:"Ruach",partOfSpeech:"noun",meanings:["spirit","wind","breath"],frequency:378,chapter:8,examples:[{reference:"Genesis 1:2",text:"וְרוּחַ אֱלֹהִים",translation:"and the Spirit of God"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_039",language:"Hebrew",word:"מַיִם",transliteration:"Mayim",partOfSpeech:"noun",meanings:["water","waters"],frequency:585,chapter:8,examples:[{reference:"Genesis 1:2",text:"עַל־פְּנֵי הַמָּיִם",translation:"over the face of the waters"}],grammaticalNotes:"Masculine plural (dual), always plural"},{id:"heb_040",language:"Hebrew",word:"אִשָּׁה",transliteration:"Ishah",partOfSpeech:"noun",meanings:["woman","wife"],frequency:781,chapter:9,examples:[{reference:"Genesis 2:22",text:"וַיִּבֶן אֶת־הַצֵּלָע לְאִשָּׁה",translation:"and fashioned the rib into a woman"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_041",language:"Hebrew",word:"אִישׁ",transliteration:"Ish",partOfSpeech:"noun",meanings:["man","husband"],frequency:2188,chapter:9,examples:[{reference:"Genesis 2:23",text:"זֹאת תִּקָּרֵא אִשָּׁה כִּי מֵאִישׁ",translation:"this shall be called woman because from man"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_042",language:"Hebrew",word:"אָב",transliteration:"Av",partOfSpeech:"noun",meanings:["father","ancestor"],frequency:1210,chapter:9,examples:[{reference:"Genesis 2:24",text:"יַעֲזָב־אִישׁ אֶת־אָבִיו",translation:"a man shall leave his father"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_043",language:"Hebrew",word:"אֵם",transliteration:"Em",partOfSpeech:"noun",meanings:["mother"],frequency:220,chapter:9,examples:[{reference:"Genesis 2:24",text:"וְאֶת־אִמּוֹ",translation:"and his mother"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_044",language:"Hebrew",word:"אָח",transliteration:"Ach",partOfSpeech:"noun",meanings:["brother"],frequency:629,chapter:9,examples:[{reference:"Genesis 4:2",text:"וַתֹּסֶף לָלֶדֶת אֶת־אָחִיו",translation:"and she bore his brother"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_045",language:"Hebrew",word:"אָחוֹת",transliteration:"Achot",partOfSpeech:"noun",meanings:["sister"],frequency:114,chapter:9,examples:[{reference:"Genesis 4:22",text:"וַאֲחוֹת תּוּבַל־קַיִן",translation:"and the sister of Tubal-cain"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_046",language:"Hebrew",word:"קוֹל",transliteration:"Qol",partOfSpeech:"noun",meanings:["voice","sound"],frequency:505,chapter:10,examples:[{reference:"Genesis 3:8",text:"אֶת־קוֹל יְהוָה אֱלֹהִים",translation:"the sound of the LORD God"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_047",language:"Hebrew",word:"שֵׁם",transliteration:"Shem",partOfSpeech:"noun",meanings:["name"],frequency:864,chapter:10,examples:[{reference:"Genesis 2:19",text:"לִרְאוֹת מַה־יִּקְרָא־לוֹ וְכֹל אֲשֶׁר יִקְרָא־לוֹ הָאָדָם נֶפֶשׁ חַיָּה הוּא שְׁמוֹ",translation:"to see what he would call it, and whatever the man called a living creature, that was its name"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_048",language:"Hebrew",word:"מָקוֹם",transliteration:"Maqom",partOfSpeech:"noun",meanings:["place","location"],frequency:401,chapter:10,examples:[{reference:"Genesis 1:9",text:"אֶל־מָקוֹם אֶחָד",translation:"to one place"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_049",language:"Hebrew",word:"עֵץ",transliteration:"Etz",partOfSpeech:"noun",meanings:["tree","wood"],frequency:330,chapter:10,examples:[{reference:"Genesis 2:9",text:"כָּל־עֵץ נֶחְמָד",translation:"every tree pleasant"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_050",language:"Hebrew",word:"כֹּהֵן",transliteration:"Kohen",partOfSpeech:"noun",meanings:["priest"],frequency:750,chapter:10,examples:[{reference:"Genesis 14:18",text:"וְהוּא כֹהֵן לְאֵל עֶלְיוֹן",translation:"and he was priest of God Most High"}],grammaticalNotes:"Masculine singular noun"}],q0=[{id:"grk_001",language:"Greek",word:"ὁ",transliteration:"ho",partOfSpeech:"article",meanings:["the"],frequency:19870,chapter:1,examples:[{reference:"John 1:1",text:"Ἐν ἀρχῇ ἦν ὁ λόγος",translation:"In the beginning was the Word"}],grammaticalNotes:"Definite article, nominative masculine singular. Full paradigm: ὁ, ἡ, τό (m, f, n)"},{id:"grk_002",language:"Greek",word:"θεός",transliteration:"theos",partOfSpeech:"noun",meanings:["God","god"],frequency:1317,chapter:1,examples:[{reference:"John 1:1",text:"καὶ θεὸς ἦν ὁ λόγος",translation:"and the Word was God"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_003",language:"Greek",word:"λόγος",transliteration:"logos",partOfSpeech:"noun",meanings:["word","message","reason"],frequency:330,chapter:1,examples:[{reference:"John 1:1",text:"Ἐν ἀρχῇ ἦν ὁ λόγος",translation:"In the beginning was the Word"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_004",language:"Greek",word:"ἄνθρωπος",transliteration:"anthrōpos",partOfSpeech:"noun",meanings:["man","person","humanity"],frequency:550,chapter:1,examples:[{reference:"Matthew 4:4",text:"οὐκ ἐπ' ἄρτῳ μόνῳ ζήσεται ὁ ἄνθρωπος",translation:"man shall not live by bread alone"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_005",language:"Greek",word:"υἱός",transliteration:"huios",partOfSpeech:"noun",meanings:["son"],frequency:377,chapter:2,examples:[{reference:"Matthew 3:17",text:"Οὗτός ἐστιν ὁ υἱός μου",translation:"This is my Son"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_006",language:"Greek",word:"κύριος",transliteration:"kyrios",partOfSpeech:"noun",meanings:["lord","master","Lord"],frequency:717,chapter:2,examples:[{reference:"Matthew 7:21",text:"Κύριε, κύριε",translation:"Lord, Lord"}],grammaticalNotes:"Masculine 2nd declension noun, often refers to Jesus or God"},{id:"grk_007",language:"Greek",word:"ἀδελφός",transliteration:"adelphos",partOfSpeech:"noun",meanings:["brother"],frequency:343,chapter:2,examples:[{reference:"Matthew 4:18",text:"δύο ἀδελφούς",translation:"two brothers"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_008",language:"Greek",word:"οὐρανός",transliteration:"ouranos",partOfSpeech:"noun",meanings:["heaven","sky"],frequency:273,chapter:2,examples:[{reference:"Matthew 3:2",text:"ἡ βασιλεία τῶν οὐρανῶν",translation:"the kingdom of heaven"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_009",language:"Greek",word:"καρδία",transliteration:"kardia",partOfSpeech:"noun",meanings:["heart"],frequency:156,chapter:2,examples:[{reference:"Matthew 5:8",text:"οἱ καθαροὶ τῇ καρδίᾳ",translation:"the pure in heart"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_010",language:"Greek",word:"ἡμέρα",transliteration:"hēmera",partOfSpeech:"noun",meanings:["day"],frequency:389,chapter:2,examples:[{reference:"Matthew 6:34",text:"ἀρκετὸν τῇ ἡμέρᾳ ἡ κακία αὐτῆς",translation:"sufficient for the day is its own trouble"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_011",language:"Greek",word:"εἰμί",transliteration:"eimi",partOfSpeech:"verb",meanings:["to be","I am"],frequency:2462,chapter:3,examples:[{reference:"John 8:58",text:"πρὶν Ἀβραὰμ γενέσθαι ἐγὼ εἰμί",translation:"Before Abraham was, I am"}],grammaticalNotes:"Irregular verb. Present: εἰμί, εἶ, ἐστί, ἐσμέν, ἐστέ, εἰσί"},{id:"grk_012",language:"Greek",word:"λέγω",transliteration:"legō",partOfSpeech:"verb",meanings:["to say","to speak","to tell"],frequency:2354,chapter:3,examples:[{reference:"Matthew 3:9",text:"μὴ δόξητε λέγειν ἐν ἑαυτοῖς",translation:"do not presume to say to yourselves"}],grammaticalNotes:"Present active indicative 1s. Future: ἐρῶ, Aorist: εἶπον"},{id:"grk_013",language:"Greek",word:"ἔχω",transliteration:"echō",partOfSpeech:"verb",meanings:["to have","to hold"],frequency:708,chapter:3,examples:[{reference:"Matthew 3:9",text:"πατέρα ἔχομεν τὸν Ἀβραάμ",translation:"we have Abraham as our father"}],grammaticalNotes:"Present active indicative 1s. Future: ἕξω, Aorist: ἔσχον"},{id:"grk_014",language:"Greek",word:"γίνομαι",transliteration:"ginomai",partOfSpeech:"verb",meanings:["to become","to be","to happen"],frequency:669,chapter:3,examples:[{reference:"John 1:3",text:"πάντα δι' αὐτοῦ ἐγένετο",translation:"all things came into being through him"}],grammaticalNotes:"Deponent verb (middle/passive forms with active meaning). Aorist: ἐγενόμην"},{id:"grk_015",language:"Greek",word:"ἀκούω",transliteration:"akouō",partOfSpeech:"verb",meanings:["to hear","to listen"],frequency:428,chapter:4,examples:[{reference:"Matthew 2:3",text:"ἀκούσας δὲ ὁ βασιλεὺς Ἡρῴδης",translation:"And when Herod the king heard"}],grammaticalNotes:"Regular ω-verb. Aorist: ἤκουσα. Takes genitive of person heard"},{id:"grk_016",language:"Greek",word:"βλέπω",transliteration:"blepō",partOfSpeech:"verb",meanings:["to see","to look"],frequency:133,chapter:4,examples:[{reference:"Matthew 5:28",text:"πᾶς ὁ βλέπων γυναῖκα",translation:"everyone who looks at a woman"}],grammaticalNotes:"Regular ω-verb. Aorist: ἔβλεψα"},{id:"grk_017",language:"Greek",word:"ποιέω",transliteration:"poieō",partOfSpeech:"verb",meanings:["to do","to make"],frequency:568,chapter:4,examples:[{reference:"Matthew 3:8",text:"ποιήσατε οὖν καρπὸν",translation:"therefore bear fruit"}],grammaticalNotes:"Contract verb (-εω). Aorist: ἐποίησα"},{id:"grk_018",language:"Greek",word:"ἔρχομαι",transliteration:"erchomai",partOfSpeech:"verb",meanings:["to come","to go"],frequency:634,chapter:4,examples:[{reference:"Matthew 3:11",text:"ὁ δὲ ὀπίσω μου ἐρχόμενος",translation:"but he who is coming after me"}],grammaticalNotes:"Deponent verb. Aorist: ἦλθον (from ἐλεύσομαι)"},{id:"grk_019",language:"Greek",word:"λαλέω",transliteration:"laleō",partOfSpeech:"verb",meanings:["to speak","to talk"],frequency:296,chapter:4,examples:[{reference:"Matthew 9:18",text:"ταῦτα αὐτοῦ λαλοῦντος αὐτοῖς",translation:"while he was saying these things to them"}],grammaticalNotes:"Contract verb (-εω). Aorist: ἐλάλησα"},{id:"grk_020",language:"Greek",word:"δίδωμι",transliteration:"didōmi",partOfSpeech:"verb",meanings:["to give"],frequency:415,chapter:4,examples:[{reference:"Matthew 4:9",text:"ταῦτά σοι πάντα δώσω",translation:"all these I will give you"}],grammaticalNotes:"μι-verb. Present: δίδωμι, δίδως, δίδωσι. Aorist: ἔδωκα"},{id:"grk_021",language:"Greek",word:"ἐν",transliteration:"en",partOfSpeech:"preposition",meanings:["in","by","with"],frequency:2752,chapter:5,examples:[{reference:"John 1:1",text:"Ἐν ἀρχῇ ἦν ὁ λόγος",translation:"In the beginning was the Word"}],grammaticalNotes:"Takes dative case only"},{id:"grk_022",language:"Greek",word:"εἰς",transliteration:"eis",partOfSpeech:"preposition",meanings:["into","to","for"],frequency:1768,chapter:5,examples:[{reference:"Matthew 2:1",text:"Ἰησοῦ γεννηθέντος ἐν Βηθλέεμ... εἰς Ἱεροσόλυμα",translation:"Jesus was born in Bethlehem... to Jerusalem"}],grammaticalNotes:"Takes accusative case only. Indicates motion toward"},{id:"grk_023",language:"Greek",word:"ἐκ",transliteration:"ek",partOfSpeech:"preposition",meanings:["from","out of"],frequency:914,chapter:5,examples:[{reference:"Matthew 1:3",text:"Φαρὲς ἐγέννησεν... ἐκ τῆς Θαμάρ",translation:"Perez... from Tamar"}],grammaticalNotes:"Takes genitive case only. ἐξ before vowels"},{id:"grk_024",language:"Greek",word:"ἀπό",transliteration:"apo",partOfSpeech:"preposition",meanings:["from","away from"],frequency:646,chapter:5,examples:[{reference:"Matthew 1:17",text:"ἀπὸ Ἀβραὰμ ἕως Δαυίδ",translation:"from Abraham to David"}],grammaticalNotes:"Takes genitive case only. ἀπ' before vowels"},{id:"grk_025",language:"Greek",word:"πρός",transliteration:"pros",partOfSpeech:"preposition",meanings:["to","toward","with"],frequency:700,chapter:5,examples:[{reference:"John 1:1",text:"καὶ ὁ λόγος ἦν πρὸς τὸν θεόν",translation:"and the Word was with God"}],grammaticalNotes:"Takes accusative (most common), genitive, or dative"},{id:"grk_026",language:"Greek",word:"διά",transliteration:"dia",partOfSpeech:"preposition",meanings:["through","because of"],frequency:667,chapter:6,examples:[{reference:"John 1:3",text:"πάντα δι' αὐτοῦ ἐγένετο",translation:"all things came into being through him"}],grammaticalNotes:"Takes genitive (through) or accusative (because of). δι' before vowels"},{id:"grk_027",language:"Greek",word:"μετά",transliteration:"meta",partOfSpeech:"preposition",meanings:["with","after"],frequency:469,chapter:6,examples:[{reference:"Matthew 1:23",text:"ὁ θεὸς μεθ' ἡμῶν",translation:"God with us"}],grammaticalNotes:"Takes genitive (with) or accusative (after). μετ' or μεθ' before vowels"},{id:"grk_028",language:"Greek",word:"ἐπί",transliteration:"epi",partOfSpeech:"preposition",meanings:["on","upon","over"],frequency:890,chapter:6,examples:[{reference:"Matthew 3:16",text:"καταβαῖνον ἐπ' αὐτόν",translation:"descending upon him"}],grammaticalNotes:"Takes genitive, dative, or accusative. ἐπ' before vowels"},{id:"grk_029",language:"Greek",word:"κατά",transliteration:"kata",partOfSpeech:"preposition",meanings:["according to","against","down"],frequency:473,chapter:6,examples:[{reference:"Matthew 1:20",text:"ἄγγελος κατ' ὄναρ ἐφάνη",translation:"an angel appeared in a dream"}],grammaticalNotes:"Takes genitive (against, down) or accusative (according to). κατ' before vowels"},{id:"grk_030",language:"Greek",word:"ὑπό",transliteration:"hypo",partOfSpeech:"preposition",meanings:["by","under"],frequency:220,chapter:6,examples:[{reference:"Matthew 3:6",text:"ἐβαπτίζοντο... ὑπ' αὐτοῦ",translation:"they were baptized by him"}],grammaticalNotes:"Takes genitive (by - agent) or accusative (under). ὑπ' before vowels"},{id:"grk_031",language:"Greek",word:"καί",transliteration:"kai",partOfSpeech:"conjunction",meanings:["and","also","even"],frequency:9161,chapter:5,examples:[{reference:"John 1:1",text:"καὶ ὁ λόγος ἦν πρὸς τὸν θεόν",translation:"and the Word was with God"}],grammaticalNotes:'Most frequent word in NT. Can mean "and", "also", "even", or "but"'},{id:"grk_032",language:"Greek",word:"δέ",transliteration:"de",partOfSpeech:"conjunction",meanings:["but","and","now"],frequency:2792,chapter:5,examples:[{reference:"Matthew 1:2",text:"Ἀβραὰμ ἐγέννησεν τὸν Ἰσαάκ, Ἰσαὰκ δὲ ἐγέννησεν",translation:"Abraham was the father of Isaac, and Isaac the father of"}],grammaticalNotes:"Postpositive (second position in clause). Usually weaker than ἀλλά"},{id:"grk_033",language:"Greek",word:"ἀλλά",transliteration:"alla",partOfSpeech:"conjunction",meanings:["but","rather","except"],frequency:638,chapter:6,examples:[{reference:"Matthew 4:4",text:"οὐκ ἐπ' ἄρτῳ μόνῳ... ἀλλ' ἐπὶ παντὶ ῥήματι",translation:"not on bread alone... but on every word"}],grammaticalNotes:"Strong adversative. ἀλλ' before vowels"},{id:"grk_034",language:"Greek",word:"γάρ",transliteration:"gar",partOfSpeech:"conjunction",meanings:["for","because"],frequency:1041,chapter:6,examples:[{reference:"Matthew 1:21",text:"αὐτὸς γὰρ σώσει τὸν λαὸν αὐτοῦ",translation:"for he will save his people"}],grammaticalNotes:"Postpositive. Gives explanation or reason"},{id:"grk_035",language:"Greek",word:"οὖν",transliteration:"oun",partOfSpeech:"conjunction",meanings:["therefore","then"],frequency:499,chapter:6,examples:[{reference:"Matthew 3:8",text:"ποιήσατε οὖν καρπὸν",translation:"therefore bear fruit"}],grammaticalNotes:"Postpositive. Draws inference or conclusion"},{id:"grk_036",language:"Greek",word:"ὅτι",transliteration:"hoti",partOfSpeech:"conjunction",meanings:["that","because"],frequency:1296,chapter:6,examples:[{reference:"Matthew 2:2",text:"εἴδομεν γὰρ αὐτοῦ τὸν ἀστέρα... καὶ ἤλθομεν προσκυνῆσαι αὐτῷ",translation:"for we saw his star... and have come to worship him"}],grammaticalNotes:"Introduces indirect discourse or causal clause"},{id:"grk_037",language:"Greek",word:"εἰ",transliteration:"ei",partOfSpeech:"conjunction",meanings:["if","whether"],frequency:502,chapter:6,examples:[{reference:"Matthew 4:3",text:"Εἰ υἱὸς εἶ τοῦ θεοῦ",translation:"If you are the Son of God"}],grammaticalNotes:"Introduces conditional clauses"},{id:"grk_038",language:"Greek",word:"ἵνα",transliteration:"hina",partOfSpeech:"conjunction",meanings:["in order that","that","so that"],frequency:663,chapter:6,examples:[{reference:"John 3:16",text:"ἵνα πᾶς ὁ πιστεύων... ἔχῃ ζωὴν αἰώνιον",translation:"so that whoever believes... may have eternal life"}],grammaticalNotes:"Purpose or result clause, takes subjunctive"},{id:"grk_039",language:"Greek",word:"ὡς",transliteration:"hōs",partOfSpeech:"conjunction",meanings:["as","like","when"],frequency:504,chapter:7,examples:[{reference:"Matthew 1:24",text:"ἐποίησεν ὡς προσέταξεν αὐτῷ",translation:"he did as the angel commanded him"}],grammaticalNotes:"Comparison, manner, or temporal"},{id:"grk_040",language:"Greek",word:"οὐ",transliteration:"ou",partOfSpeech:"particle",meanings:["not"],frequency:1606,chapter:5,examples:[{reference:"Matthew 4:4",text:"οὐκ ἐπ' ἄρτῳ μόνῳ",translation:"not on bread alone"}],grammaticalNotes:"Negates indicative mood. οὐκ before smooth breathing, οὐχ before rough breathing"},{id:"grk_041",language:"Greek",word:"πιστεύω",transliteration:"pisteuō",partOfSpeech:"verb",meanings:["to believe","to trust","to have faith"],frequency:241,chapter:7,examples:[{reference:"John 3:16",text:"πᾶς ὁ πιστεύων εἰς αὐτὸν",translation:"everyone who believes in him"}],grammaticalNotes:"Takes dative (believe someone) or εἰς + accusative (believe in)"},{id:"grk_042",language:"Greek",word:"ἀγαπάω",transliteration:"agapaō",partOfSpeech:"verb",meanings:["to love"],frequency:143,chapter:7,examples:[{reference:"John 3:16",text:"οὕτως γὰρ ἠγάπησεν ὁ θεὸς τὸν κόσμον",translation:"For God so loved the world"}],grammaticalNotes:"Contract verb (-αω). Aorist: ἠγάπησα"},{id:"grk_043",language:"Greek",word:"ζωή",transliteration:"zōē",partOfSpeech:"noun",meanings:["life"],frequency:135,chapter:7,examples:[{reference:"John 1:4",text:"ἐν αὐτῷ ζωὴ ἦν",translation:"In him was life"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_044",language:"Greek",word:"κόσμος",transliteration:"kosmos",partOfSpeech:"noun",meanings:["world","universe"],frequency:186,chapter:8,examples:[{reference:"John 3:16",text:"ἠγάπησεν ὁ θεὸς τὸν κόσμον",translation:"God loved the world"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_045",language:"Greek",word:"πνεῦμα",transliteration:"pneuma",partOfSpeech:"noun",meanings:["spirit","Spirit","wind","breath"],frequency:379,chapter:8,examples:[{reference:"Matthew 3:16",text:"τὸ πνεῦμα τοῦ θεοῦ",translation:"the Spirit of God"}],grammaticalNotes:"Neuter 3rd declension noun"},{id:"grk_046",language:"Greek",word:"δόξα",transliteration:"doxa",partOfSpeech:"noun",meanings:["glory","honor"],frequency:166,chapter:8,examples:[{reference:"John 1:14",text:"ἐθεασάμεθα τὴν δόξαν αὐτοῦ",translation:"we have seen his glory"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_047",language:"Greek",word:"ἁμαρτία",transliteration:"hamartia",partOfSpeech:"noun",meanings:["sin"],frequency:173,chapter:9,examples:[{reference:"John 1:29",text:"ὁ αἴρων τὴν ἁμαρτίαν τοῦ κόσμου",translation:"who takes away the sin of the world"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_048",language:"Greek",word:"ἐκκλησία",transliteration:"ekklēsia",partOfSpeech:"noun",meanings:["church","assembly"],frequency:114,chapter:9,examples:[{reference:"Matthew 16:18",text:"οἰκοδομήσω μου τὴν ἐκκλησίαν",translation:"I will build my church"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_049",language:"Greek",word:"βασιλεία",transliteration:"basileia",partOfSpeech:"noun",meanings:["kingdom","reign"],frequency:162,chapter:9,examples:[{reference:"Matthew 3:2",text:"ἤγγικεν ἡ βασιλεία τῶν οὐρανῶν",translation:"the kingdom of heaven is at hand"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_050",language:"Greek",word:"χάρις",transliteration:"charis",partOfSpeech:"noun",meanings:["grace","favor"],frequency:155,chapter:10,examples:[{reference:"John 1:14",text:"πλήρης χάριτος καὶ ἀληθείας",translation:"full of grace and truth"}],grammaticalNotes:"Feminine 3rd declension noun"}],aE=()=>[...U0,...q0],Uc=n=>n==="Hebrew"?U0:q0,sE=(n,e)=>{const a=new Date;if(e<3)return{...n,lastReviewed:a,nextReview:new Date(a.getTime()+1440*60*1e3),correctCount:n.correctCount,incorrectCount:n.incorrectCount+1,easinessFactor:Math.max(1.3,n.easinessFactor-.2),interval:1,repetitions:0};const o=n.repetitions+1,r=n.correctCount+1,u=Math.max(1.3,n.easinessFactor+(.1-(5-e)*(.08+(5-e)*.02)));let f;o===1?f=1:o===2?f=6:f=Math.round(n.interval*u);const p=new Date(a.getTime()+f*24*60*60*1e3);return{...n,lastReviewed:a,nextReview:p,correctCount:r,incorrectCount:n.incorrectCount,easinessFactor:u,interval:f,repetitions:o}},oE=n=>{const e=new Date;return{cardId:n,lastReviewed:e,nextReview:e,correctCount:0,incorrectCount:0,easinessFactor:2.5,interval:0,repetitions:0}},xc=(n,e=new Date)=>n.filter(a=>a.nextReview<=e).sort((a,o)=>a.nextReview.getTime()-o.nextReview.getTime()).map(a=>a.cardId),Cg=n=>{const e=n.correctCount+n.incorrectCount,a=e>0?n.correctCount/e:0;let o;return n.repetitions===0?o="new":n.repetitions<3?o="learning":n.repetitions<6?o="intermediate":n.repetitions<10?o="advanced":o="mastered",{totalReviews:e,retentionRate:a,masteryLevel:o}},lE=(n,e,a=10,o=20)=>{const u=xc(n,new Date),f=new Set(n.map(w=>w.cardId)),p=e-f.size,y=Math.min(a,p),g=Math.min(o,u.length),v=y+g;let b;return g>o?b=`You have ${u.length} cards due for review. Focus on reviews today to maintain your progress.`:p===0?b="Great job! You've studied all available cards. Keep reviewing to maintain mastery.":g===0?b=`No reviews due today. Perfect time to learn ${y} new cards!`:b=`Balance your session: ${g} reviews + ${y} new cards = ${v} cards total.`,{dueCards:u,newCards:y,totalForToday:v,recommendation:b}},rE=(n,e)=>{if(!n)return 1;switch(e){case"easy":return 5;case"medium":return 4;case"hard":return 3;default:return 4}},uE=n=>{try{const e=n.map(a=>({...a,lastReviewed:a.lastReviewed.toISOString(),nextReview:a.nextReview.toISOString()}));localStorage.setItem("biblical-language-vocab-progress",JSON.stringify(e))}catch(e){console.error("Failed to save vocabulary progress:",e)}},cE=()=>{try{const n=localStorage.getItem("biblical-language-vocab-progress");return n?JSON.parse(n).map(a=>({...a,lastReviewed:new Date(a.lastReviewed),nextReview:new Date(a.nextReview)})):[]}catch(n){return console.error("Failed to load vocabulary progress:",n),[]}},dE=()=>{const[n,e]=H.useState("menu"),[a,o]=H.useState("mixed"),[r,u]=H.useState("all"),[f,p]=H.useState([]),[y,g]=H.useState([]),[v,b]=H.useState(0),[w,N]=H.useState({total:0,completed:0,correct:0});H.useEffect(()=>{const M=cE();p(M)},[]),H.useEffect(()=>{f.length>0&&uE(f)},[f]);const _=aE(),E=lE(f,_.length),A=(M,G)=>{let q=[];const k=G==="all"?_:Uc(G),F=new Set(f.map(Z=>Z.cardId)),$=new Set(xc(f));if(M==="review")q=k.filter(Z=>$.has(Z.id));else if(M==="new")q=k.filter(Z=>!F.has(Z.id)).slice(0,10);else{const Z=k.filter(Q=>$.has(Q.id)),ae=k.filter(Q=>!F.has(Q.id)).slice(0,5);q=[...Z,...ae]}q=q.sort(()=>Math.random()-.5),g(q),b(0),N({total:q.length,completed:0,correct:0}),e("session")},R=(M,G)=>{if(y.length===0)return;const q=y[v],k=M!=="again",$=rE(k,M==="easy"?"easy":M==="good"?"medium":"hard");let Z=f.find(Q=>Q.cardId===q.id);Z||(Z=oE(q.id));const ae=sE(Z,$);p(Q=>[...Q.filter(ne=>ne.cardId!==q.id),ae]),N(Q=>({...Q,completed:Q.completed+1,correct:Q.correct+(k?1:0)})),v<y.length-1?b(v+1):setTimeout(()=>{e("menu")},2e3)},V=(()=>{const M=f.length,G=_.length,q=xc(f).length,k=f.filter(ne=>{const ee=_.find(B=>B.id===ne.cardId);return(ee==null?void 0:ee.language)==="Hebrew"}).length,F=f.filter(ne=>{const ee=_.find(B=>B.id===ne.cardId);return(ee==null?void 0:ee.language)==="Greek"}).length,$=f.map(ne=>Cg(ne).masteryLevel),Z=$.filter(ne=>ne==="mastered").length,ae=$.filter(ne=>ne==="advanced").length,Q=$.filter(ne=>ne==="intermediate").length,Y=$.filter(ne=>ne==="learning").length;return{totalStudied:M,totalCards:G,dueToday:q,hebrewStudied:k,greekStudied:F,mastered:Z,advanced:ae,intermediate:Q,learning:Y}})();if(n==="menu")return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-indigo-50 p-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"聖經語言詞彙練習"}),c.jsx("p",{className:"text-gray-600",children:"使用間隔重複法掌握希伯來文和希臘文詞彙"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:V.totalStudied}),c.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"已學習詞彙"}),c.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["/ ",V.totalCards," 總詞彙"]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-amber-600",children:V.dueToday}),c.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"今日待複習"}),c.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"需要你的注意"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-green-600",children:V.mastered}),c.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"已掌握"}),c.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"完全記住的詞彙"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-md p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"希伯來文進度"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"已學習:"}),c.jsxs("span",{className:"font-bold",children:[V.hebrewStudied," / 50"]})]}),c.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${V.hebrewStudied/50*100}%`}})})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-md p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"希臘文進度"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"已學習:"}),c.jsxs("span",{className:"font-bold",children:[V.greekStudied," / 50"]})]}),c.jsx("div",{className:"w-full bg-green-200 rounded-full h-2",children:c.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${V.greekStudied/50*100}%`}})})]})]})]}),c.jsx("div",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 border-2 border-indigo-300 rounded-lg p-6 mb-8",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"text-4xl",children:"💡"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-indigo-900 mb-2",children:"今日學習建議"}),c.jsx("p",{className:"text-indigo-800",children:E.recommendation})]})]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"選擇練習模式"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("button",{onClick:()=>o("review"),className:`p-4 rounded-lg border-2 transition-all ${a==="review"?"border-amber-500 bg-amber-50":"border-gray-300 hover:border-amber-300"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:"📚"}),c.jsx("div",{className:"font-semibold",children:"複習模式"}),c.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"只複習到期的詞彙"}),c.jsxs("div",{className:"text-xs text-amber-600 mt-2 font-bold",children:[E.dueCards.length," 張卡片"]})]}),c.jsxs("button",{onClick:()=>o("new"),className:`p-4 rounded-lg border-2 transition-all ${a==="new"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-300"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:"✨"}),c.jsx("div",{className:"font-semibold",children:"新詞彙"}),c.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"學習新的詞彙"}),c.jsxs("div",{className:"text-xs text-indigo-600 mt-2 font-bold",children:["最多 ",E.newCards," 張卡片"]})]}),c.jsxs("button",{onClick:()=>o("mixed"),className:`p-4 rounded-lg border-2 transition-all ${a==="mixed"?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-300"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:"🎯"}),c.jsx("div",{className:"font-semibold",children:"混合模式"}),c.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"複習 + 新詞彙"}),c.jsx("div",{className:"text-xs text-green-600 mt-2 font-bold",children:"平衡學習"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"語言選擇"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg transition-all ${r==="all"?"bg-gray-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"全部"}),c.jsx("button",{onClick:()=>u("Hebrew"),className:`px-4 py-2 rounded-lg transition-all ${r==="Hebrew"?"bg-blue-600 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:"希伯來文"}),c.jsx("button",{onClick:()=>u("Greek"),className:`px-4 py-2 rounded-lg transition-all ${r==="Greek"?"bg-green-600 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:"希臘文"})]})]}),c.jsx("button",{onClick:()=>A(a,r),className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold rounded-lg shadow-lg transition-all transform hover:scale-105",children:"開始練習"})]}),c.jsx("button",{onClick:()=>e("stats"),className:"w-full py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold rounded-lg transition-all",children:"查看詳細統計"})]})});if(n==="session"){if(y.length===0)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-indigo-50 flex items-center justify-center p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"沒有需要複習的詞彙！"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"所有詞彙都已完成，試試學習新詞彙吧！"}),c.jsx("button",{onClick:()=>e("menu"),className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg transition-all",children:"返回主選單"})]})});const M=y[v],G=w.completed===w.total;return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-indigo-50 p-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["練習中 ",w.completed+1," / ",w.total]}),c.jsx("button",{onClick:()=>{confirm("確定要結束練習嗎？進度將不會被保存。")&&e("menu")},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-all",children:"結束練習"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 h-3 rounded-full transition-all",style:{width:`${w.completed/w.total*100}%`}})}),c.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mt-2",children:[c.jsxs("span",{children:["已完成: ",w.completed]}),c.jsxs("span",{children:["正確率:"," ",w.completed>0?Math.round(w.correct/w.completed*100):0,"%"]})]})]}),!G&&c.jsx(iE,{card:M,onRate:R}),G&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),c.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"練習完成！"}),c.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["完成 ",w.total," 張卡片，正確率"," ",Math.round(w.correct/w.total*100),"%"]}),c.jsx("button",{onClick:()=>e("menu"),className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold rounded-lg shadow-lg transition-all transform hover:scale-105",children:"返回主選單"})]})]})})}if(n==="stats"){const M=f.map(G=>({cardId:G.cardId,card:_.find(q=>q.id===G.cardId),stats:Cg(G),progress:G}));return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-indigo-50 p-6",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"詳細統計"}),c.jsx("button",{onClick:()=>e("menu"),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-all",children:"返回主選單"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"掌握程度分布"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:V.mastered}),c.jsx("div",{className:"text-sm text-gray-600",children:"已掌握"})]}),c.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:V.advanced}),c.jsx("div",{className:"text-sm text-gray-600",children:"進階"})]}),c.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:V.intermediate}),c.jsx("div",{className:"text-sm text-gray-600",children:"中級"})]}),c.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:V.learning}),c.jsx("div",{className:"text-sm text-gray-600",children:"學習中"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"詞彙進度詳情"}),c.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:M.sort((G,q)=>q.progress.repetitions-G.progress.repetitions).map(({cardId:G,card:q,stats:k,progress:F})=>q?c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`text-xl font-bold ${q.language==="Hebrew"?"font-hebrew":"font-greek"}`,children:q.word}),c.jsx("div",{className:"text-sm text-gray-600",children:q.transliteration})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-xs text-gray-500",children:[k.totalReviews," 次複習"]}),c.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(k.retentionRate*100),"% 正確"]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${k.masteryLevel==="mastered"?"bg-green-100 text-green-700":k.masteryLevel==="advanced"?"bg-blue-100 text-blue-700":k.masteryLevel==="intermediate"?"bg-yellow-100 text-yellow-700":"bg-orange-100 text-orange-700"}`,children:k.masteryLevel==="mastered"?"已掌握":k.masteryLevel==="advanced"?"進階":k.masteryLevel==="intermediate"?"中級":"學習中"})]})]},G):null)})]})]})})}return null},fE="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4";new ii({apiKey:fE});const hE=n=>new Promise((e,a)=>{if(!("speechSynthesis"in window)){a(new Error("Speech synthesis not supported"));return}const o=new SpeechSynthesisUtterance(n.word),r=window.speechSynthesis.getVoices();if(n.language==="Hebrew"){const u=r.find(f=>f.lang.startsWith("he"));u&&(o.voice=u),o.lang="he-IL"}else{const u=r.find(f=>f.lang.startsWith("el"));u&&(o.voice=u),o.lang="el-GR"}o.rate=.8,o.pitch=1,o.onend=()=>e(),o.onerror=u=>a(u.error),window.speechSynthesis.speak(o)}),L0=()=>new Promise(n=>{if(!("speechSynthesis"in window)){n([]);return}const e=window.speechSynthesis.getVoices();if(e.length>0){n(e);return}window.speechSynthesis.onvoiceschanged=()=>{n(window.speechSynthesis.getVoices())}}),mE=({language:n,onBack:e})=>{const[a,o]=H.useState("ready"),[r,u]=H.useState(null),[f,p]=H.useState(null),[y,g]=H.useState({correct:0,total:0}),[v,b]=H.useState(0),[w,N]=H.useState(!1),[_,E]=H.useState(!1),A=10;H.useEffect(()=>{L0().then(()=>{E(!0)})},[]);const R=()=>{const G=Uc(n),q=G[Math.floor(Math.random()*G.length)],k=[],F=G.filter(Z=>Z.id!==q.id);for(;k.length<3&&F.length>0;){const Z=Math.floor(Math.random()*F.length);k.push(F[Z]),F.splice(Z,1)}const $=[q,...k].sort(()=>Math.random()-.5);u({correct:q,options:$}),p(null),o("playing")},L=()=>{g({correct:0,total:0}),b(0),R()},V=async()=>{if(!(!r||w)){N(!0);try{await hE(r.correct)}catch(G){console.error("Error playing audio:",G),alert("無法播放音頻。您的瀏覽器可能不支援此語言的語音合成。")}finally{N(!1)}}},M=G=>{if(a!=="playing")return;p(G.id);const q=G.id===(r==null?void 0:r.correct.id);g(k=>({correct:k.correct+(q?1:0),total:k.total+1})),o(q?"correct":"incorrect"),setTimeout(()=>{const k=v+1;b(k),k>=A?o("complete"):R()},2e3)};if(a==="ready")return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 p-6",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsx("button",{onClick:e,className:"mb-6 text-gray-600 hover:text-gray-800 transition-colors",children:"← 返回"}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[c.jsx("div",{className:"text-6xl mb-6",children:"👂"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"聽力理解遊戲"}),c.jsx("p",{className:"text-lg text-gray-600 mb-6",children:n==="Hebrew"?"希伯來文":"希臘文"}),c.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"遊戲規則"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-2 text-left max-w-md mx-auto",children:[c.jsx("li",{children:"🔊 點擊喇叭圖示聽取單詞發音"}),c.jsx("li",{children:"👀 查看 4 個選項"}),c.jsx("li",{children:"✅ 選擇你聽到的正確單詞"}),c.jsxs("li",{children:["🎯 完成 ",A," 個問題"]})]})]}),!_&&c.jsx("div",{className:"text-sm text-amber-600 mb-4",children:"載入語音中..."}),c.jsx("button",{onClick:L,disabled:!_,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold rounded-lg shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:"開始遊戲"}),c.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"提示：確保您的設備音量已開啟"})]})]})});if(a==="complete"){const G=Math.round(y.correct/y.total*100),q=G>=80,k=G>=60;return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 p-6",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[c.jsx("div",{className:"text-6xl mb-6",children:q?"🎉":k?"👍":"💪"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"遊戲完成！"}),c.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-indigo-100 rounded-lg p-8 mb-6",children:[c.jsxs("div",{className:"text-5xl font-bold text-purple-600 mb-2",children:[y.correct," / ",y.total]}),c.jsxs("div",{className:"text-2xl font-semibold text-gray-700",children:[G,"% 正確"]})]}),c.jsxs("div",{className:"text-lg text-gray-700 mb-8",children:[q&&"太棒了！您的聽力理解能力很出色！",k&&!q&&"做得不錯！繼續練習會更好！",!k&&"繼續加油！多聽多練習會進步的！"]}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:L,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold rounded-lg shadow-lg transition-all",children:"再玩一次"}),c.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold rounded-lg transition-all",children:"返回選單"})]})]})})})}return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 p-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("button",{onClick:e,className:"text-gray-600 hover:text-gray-800 transition-colors",children:"← 返回"}),c.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["問題 ",v+1," / ",A]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[c.jsx("span",{children:"進度"}),c.jsxs("span",{children:["正確: ",y.correct," / ",y.total]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 h-3 rounded-full transition-all",style:{width:`${(v+1)/A*100}%`}})})]}),c.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"你聽到哪個單詞？"}),c.jsx("button",{onClick:V,disabled:w||a!=="playing",className:`w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-6 transition-all transform hover:scale-110 shadow-2xl ${w?"bg-purple-400 cursor-wait":"bg-gradient-to-br from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700"}`,children:c.jsx("span",{className:"text-6xl text-white",children:w?"⏸️":"🔊"})}),c.jsx("p",{className:"text-gray-600 text-sm",children:w?"播放中...":"點擊播放發音"}),a==="playing"&&c.jsx("button",{onClick:V,disabled:w,className:"mt-4 text-sm text-purple-600 hover:text-purple-700 underline",children:"重新播放"})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r==null?void 0:r.options.map(G=>{const q=f===G.id,k=G.id===r.correct.id,F=a==="correct"||a==="incorrect";return c.jsxs("button",{onClick:()=>M(G),disabled:a!=="playing",className:`p-6 rounded-xl border-4 transition-all transform hover:scale-105 ${F&&k?"bg-green-100 border-green-500":F&&q&&!k?"bg-red-100 border-red-500":a==="playing"?"bg-white border-gray-300 hover:border-purple-400":"bg-white border-gray-300"}`,children:[c.jsx("div",{className:`text-4xl font-bold mb-2 ${G.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:G.language==="Hebrew"?"rtl":"ltr",children:G.word}),c.jsx("div",{className:"text-sm text-gray-600 italic mb-1",children:G.transliteration}),F&&c.jsx("div",{className:"text-xs text-gray-600 mt-2",children:G.meanings.join(", ")}),F&&k&&c.jsx("div",{className:"mt-3 text-green-600 font-bold",children:"✓ 正確答案"}),F&&q&&!k&&c.jsx("div",{className:"mt-3 text-red-600 font-bold",children:"✗ 錯誤"})]},G.id)})}),a==="correct"&&c.jsxs("div",{className:"mt-6 p-4 bg-green-100 border-2 border-green-400 rounded-lg text-center",children:[c.jsx("span",{className:"text-2xl mr-2",children:"🎉"}),c.jsx("span",{className:"text-green-800 font-semibold",children:"太棒了！答對了！"})]}),a==="incorrect"&&c.jsxs("div",{className:"mt-6 p-4 bg-red-100 border-2 border-red-400 rounded-lg text-center",children:[c.jsx("span",{className:"text-2xl mr-2",children:"💪"}),c.jsxs("span",{className:"text-red-800 font-semibold",children:["答錯了！正確答案是: ",r==null?void 0:r.correct.word]})]})]})})},pE="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4",gE=new ii({apiKey:pE}),yE=async n=>{try{const e="gemini-2.0-flash-exp",a=`You are a ${n.language==="Hebrew"?"Biblical Hebrew":"Koine Greek"} pronunciation expert teaching pronunciation.

Word: ${n.word}
Correct Transliteration: ${n.transliteration}
Meaning: ${n.meanings.join(", ")}
Part of Speech: ${n.partOfSpeech}

Generate 4 VERY DIFFERENT pronunciation attempts for this word - one correct and three with OBVIOUS, NOTICEABLE mistakes.

IMPORTANT: Make the incorrect pronunciations SIGNIFICANTLY different from the correct one. The differences should be CLEARLY AUDIBLE to learners.

For ${n.language==="Hebrew"?"Hebrew":"Greek"}, provide:
1. ONE correct pronunciation
2. THREE incorrect pronunciations with MAJOR, OBVIOUS errors:
   - Use DIFFERENT phonetic spellings that will sound distinctly wrong
   - Add or remove syllables
   - Change consonants or vowels significantly
   - Use wrong stress patterns that are very noticeable
   - Make mistakes that are EASY to hear

Respond in JSON format:
{
  "options": [
    {
      "phoneticText": "the word in original script (correct) OR significantly modified phonetic version (incorrect)",
      "description": "說明 in Traditional Chinese (either '正確發音' or specific description of the obvious mistake)",
      "isCorrect": true/false,
      "mistakeType": null (for correct) or one of: "stress" | "vowel" | "consonant" | "speed"
    }
  ]
}

CRITICAL REQUIREMENTS:
- The correct pronunciation uses the exact original word: ${n.word}
- The 3 incorrect ones MUST use NOTICEABLY DIFFERENT phonetic text that sounds VERY WRONG
- Make errors OBVIOUS - like adding syllables, wrong vowels, missing sounds, completely wrong stress
- Example: If correct is "שָׁלוֹם" (shalom), wrong ones could be "שָׁלוֹמִים" (shalomim), "סָלוֹם" (salom), "שַׁלוֹם" (shallom)
- Descriptions should clearly explain the OBVIOUS mistake in Traditional Chinese
- All 4 options should use the same script (${n.language==="Hebrew"?"Hebrew":"Greek"})`,o=await gE.models.generateContent({model:e,contents:{parts:[{text:a}]},config:{responseMimeType:"application/json",temperature:.9}}),u=JSON.parse(o.text).options.map((f,p)=>({id:`opt_${p}`,phoneticText:f.phoneticText,description:f.description,isCorrect:f.isCorrect,mistakeType:f.mistakeType})).sort(()=>Math.random()-.5);return{word:n,options:u}}catch(e){throw console.error("Error generating pronunciation challenge:",e),e}},xE=async(n,e,a)=>new Promise((o,r)=>{if(!("speechSynthesis"in window)){r(new Error("Speech synthesis not supported"));return}const u=new SpeechSynthesisUtterance(n),f=window.speechSynthesis.getVoices();if(e==="Hebrew"){const p=f.find(y=>y.lang.startsWith("he"));p&&(u.voice=p),u.lang="he-IL"}else{const p=f.find(y=>y.lang.startsWith("el"));p&&(u.voice=p),u.lang="el-GR"}switch(a){case"stress":u.rate=1.4,u.pitch=1.4;break;case"vowel":u.pitch=.7,u.rate=.8;break;case"consonant":u.rate=.7,u.pitch=.8;break;case"speed":u.rate=1.6,u.pitch=1.1;break;default:u.rate=.75,u.pitch=1}u.onend=()=>o(),u.onerror=p=>r(p.error),window.speechSynthesis.speak(u)}),vE=({language:n,onBack:e})=>{const[a,o]=H.useState("ready"),[r,u]=H.useState(null),[f,p]=H.useState(null),[y,g]=H.useState(null),[v,b]=H.useState({correct:0,total:0}),[w,N]=H.useState(0),[_,E]=H.useState(!1),[A,R]=H.useState(null),L=10;H.useEffect(()=>{L0().then(()=>{E(!0)})},[]);const V=async()=>{o("loading"),R(null);try{const k=Uc(n),F=k[Math.floor(Math.random()*k.length)],$=await yE(F);u($),p(null),o("playing")}catch(k){console.error("Error generating challenge:",k),R("生成挑戰失敗，請重試。"),o("ready")}},M=()=>{b({correct:0,total:0}),N(0),V()},G=async(k,F,$)=>{if(!(y||a!=="playing")){g(k);try{await xE(F,n,$)}catch(Z){console.error("Error playing pronunciation:",Z),R("無法播放音頻，請檢查瀏覽器設定。")}finally{g(null)}}},q=(k,F)=>{a==="playing"&&(p(k),b($=>({correct:$.correct+(F?1:0),total:$.total+1})),o(F?"correct":"incorrect"),setTimeout(()=>{const $=w+1;N($),$>=L?o("complete"):V()},3e3))};if(a==="ready")return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 p-6",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsx("button",{onClick:e,className:"mb-6 text-gray-600 hover:text-gray-800 transition-colors",children:"← 返回"}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[c.jsx("div",{className:"text-6xl mb-6",children:"🎯"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"發音挑戰"}),c.jsx("p",{className:"text-lg text-gray-600 mb-6",children:n==="Hebrew"?"希伯來文":"希臘文"}),c.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"挑戰規則"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-2 text-left max-w-md mx-auto",children:[c.jsx("li",{children:"👀 看到一個單詞"}),c.jsx("li",{children:"🔊 點擊聽 4 種不同的發音"}),c.jsx("li",{children:"✅ 選擇正確的發音"}),c.jsx("li",{children:"⚠️ 其他 3 個是常見錯誤"}),c.jsxs("li",{children:["🎯 完成 ",L," 個挑戰"]})]})]}),A&&c.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 rounded-lg text-red-700 text-sm",children:A}),!_&&c.jsx("div",{className:"text-sm text-amber-600 mb-4",children:"載入語音中..."}),c.jsx("button",{onClick:M,disabled:!_,className:"px-8 py-4 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-bold rounded-lg shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:"開始挑戰"}),c.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"提示：仔細聽每個發音的細微差異"})]})]})});if(a==="loading")return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 p-6 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🤖"}),c.jsx("div",{className:"text-xl font-semibold text-gray-700",children:"AI 正在生成挑戰..."})]})});if(a==="complete"){const k=Math.round(v.correct/v.total*100),F=k>=80,$=k>=60;return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 p-6",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[c.jsx("div",{className:"text-6xl mb-6",children:F?"🏆":$?"🎯":"💪"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"挑戰完成！"}),c.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-red-100 rounded-lg p-8 mb-6",children:[c.jsxs("div",{className:"text-5xl font-bold text-orange-600 mb-2",children:[v.correct," / ",v.total]}),c.jsxs("div",{className:"text-2xl font-semibold text-gray-700",children:[k,"% 正確"]})]}),c.jsxs("div",{className:"text-lg text-gray-700 mb-8",children:[F&&"驚人！您能辨別細微的發音差異！",$&&!F&&"不錯！您的發音辨識能力正在進步！",!$&&"繼續練習！多聽會幫助您的耳朵變得更敏銳！"]}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:M,className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-bold rounded-lg shadow-lg transition-all",children:"再挑戰一次"}),c.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold rounded-lg transition-all",children:"返回選單"})]})]})})})}return r?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 p-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("button",{onClick:e,className:"text-gray-600 hover:text-gray-800 transition-colors",children:"← 返回"}),c.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["挑戰 ",w+1," / ",L]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[c.jsx("span",{children:"進度"}),c.jsxs("span",{children:["正確: ",v.correct," / ",v.total]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 h-3 rounded-full transition-all",style:{width:`${(w+1)/L*100}%`}})})]}),c.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-600 mb-4",children:"哪個是正確的發音？"}),c.jsx("div",{className:`text-6xl font-bold mb-4 ${r.word.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:r.word.language==="Hebrew"?"rtl":"ltr",children:r.word.word}),c.jsx("div",{className:"text-xl text-gray-600 italic mb-2",children:r.word.transliteration}),c.jsx("div",{className:"text-sm text-gray-500",children:r.word.meanings.join(", ")})]})}),A&&c.jsx("div",{className:"mb-6 p-4 bg-red-100 border-2 border-red-300 rounded-lg text-red-700 text-center",children:A}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.options.map((k,F)=>{const $=f===k.id,Z=a==="correct"||a==="incorrect",ae=y===k.id;return c.jsxs("div",{className:`p-6 rounded-xl border-4 transition-all ${Z&&k.isCorrect?"bg-green-100 border-green-500":Z&&$&&!k.isCorrect?"bg-red-100 border-red-500":"bg-white border-gray-300"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("span",{className:"text-2xl font-bold text-gray-700",children:["選項 ",F+1]}),c.jsx("button",{onClick:()=>G(k.id,k.phoneticText,k.mistakeType),disabled:ae||a!=="playing",className:`w-12 h-12 rounded-full flex items-center justify-center transition-all ${ae?"bg-orange-400 cursor-wait animate-pulse":"bg-gradient-to-br from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 transform hover:scale-110"}`,children:c.jsx("span",{className:"text-2xl text-white",children:ae?"⏸️":"🔊"})})]}),Z&&c.jsx("div",{className:"text-sm text-gray-700 mb-3 bg-gray-50 p-3 rounded",children:k.description}),c.jsx("button",{onClick:()=>q(k.id,k.isCorrect),disabled:a!=="playing",className:`w-full py-3 rounded-lg font-bold transition-all ${a==="playing"?"bg-orange-600 hover:bg-orange-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:a==="playing"?"選擇此發音":"已選擇"}),Z&&k.isCorrect&&c.jsx("div",{className:"mt-3 text-green-600 font-bold text-center",children:"✓ 這是正確發音"}),Z&&$&&!k.isCorrect&&c.jsx("div",{className:"mt-3 text-red-600 font-bold text-center",children:"✗ 這是錯誤發音"})]},k.id)})}),a==="correct"&&c.jsxs("div",{className:"mt-6 p-4 bg-green-100 border-2 border-green-400 rounded-lg text-center",children:[c.jsx("span",{className:"text-2xl mr-2",children:"🎉"}),c.jsx("span",{className:"text-green-800 font-semibold",children:"太棒了！您選對了正確的發音！"})]}),a==="incorrect"&&c.jsxs("div",{className:"mt-6 p-4 bg-red-100 border-2 border-red-400 rounded-lg text-center",children:[c.jsx("span",{className:"text-2xl mr-2",children:"💪"}),c.jsx("span",{className:"text-red-800 font-semibold",children:"答錯了！仔細聽每個發音的差異。"})]})]})}):null},bE=[{word:"בְּרֵאשִׁית",transliteration:"Bereshit",meaning:"In the beginning"},{word:"אֱלֹהִים",transliteration:"Elohim",meaning:"God"},{word:"יְהוָה",transliteration:"Yahweh",meaning:"The LORD"},{word:"שָׁלוֹם",transliteration:"Shalom",meaning:"Peace, harmony, wholeness"},{word:"תוֹרָה",transliteration:"Torah",meaning:"Law, instruction"},{word:"אָמֵן",transliteration:"Amen",meaning:"Truly, so be it"}],wE=[{word:"Λόγος",transliteration:"Logos",meaning:"Word, reason"},{word:"ἀγάπη",transliteration:"Agape",meaning:"Love (unconditional)"},{word:"Χριστός",transliteration:"Christos",meaning:"Christ, Anointed One"},{word:"πνεῦμα",transliteration:"Pneuma",meaning:"Spirit, wind, breath"},{word:"εὐαγγέλιον",transliteration:"Euangelion",meaning:"Good news, gospel"},{word:"χάρις",transliteration:"Charis",meaning:"Grace, favor"}],SE={[ue.HEBREW]:bE,[ue.GREEK]:wE},NE="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4",TE=new ii({apiKey:NE}),EE=async(n,e,a,o)=>{try{const r="gemini-2.5-flash",u=`You are a friendly and encouraging biblical language pronunciation coach. The user is trying to pronounce the ${e} word "${n.word}". Please listen to the audio and provide brief, clear, and positive feedback on their pronunciation in 1-2 sentences. If they are correct, praise them. If they are slightly off, gently guide them on the correct sound. For reference, the word is transliterated as "${n.transliteration}" and means "${n.meaning}".`,f={inlineData:{data:a,mimeType:o}},p={text:u};return(await TE.models.generateContent({model:r,contents:{parts:[p,f]}})).text}catch(r){return console.error("Error getting feedback from Gemini:",r),"Sorry, I encountered an error trying to analyze your pronunciation. Please try again."}},_E=n=>new Promise((e,a)=>{const o=new FileReader;o.onloadend=()=>{if(typeof o.result!="string")return a(new Error("File could not be read as a string."));const u=o.result.split(",")[1];e(u)},o.onerror=a,o.readAsDataURL(n)});function CE(){const[n,e]=H.useState(null),[a,o]=H.useState("selecting"),[r,u]=H.useState(null),[f,p]=H.useState(0),[y,g]=H.useState(null),[v,b]=H.useState(null),[w,N]=H.useState(null),_=H.useRef(null),E=H.useRef([]),A=r?SE[r]:[],R=A[f],L=Q=>{u(Q),p(0),b(null),N(null),o("ready")},V=(Q,Y)=>{e(Q),u(Y),p(0),b(null),N(null),Q==="word-practice"&&o("ready")},M=Q=>{g(Q)},G=()=>{g(null)},q=()=>{e(null),u(null),g(null),o("selecting")},k=()=>{N(null),o("ready")},F=H.useCallback(()=>{_.current&&_.current.state==="recording"&&_.current.stop()},[]),$=H.useCallback(async()=>{if(!(!R||!r))try{const Q=await navigator.mediaDevices.getUserMedia({audio:!0});b(null),o("recording");const Y=new MediaRecorder(Q);_.current=Y,E.current=[],Y.ondataavailable=ne=>{E.current.push(ne.data)},Y.onstop=async()=>{o("processing");const ne=new Blob(E.current,{type:Y.mimeType});try{const ee=await _E(ne),B=await EE(R,r,ee,Y.mimeType);b(B)}catch(ee){console.error(ee),N("無法從 AI 獲取反饋，請重試。"),o("error")}finally{o("feedback")}Q.getTracks().forEach(ee=>ee.stop())},Y.start()}catch(Q){console.error("Error accessing microphone:",Q),N("需要麥克風權限才能使用。請在瀏覽器設定中啟用麥克風。"),o("error")}},[R,r]),Z=()=>{a==="recording"?F():$()},ae=()=>{b(null),N(null),p(Q=>(Q+1)%A.length),o("ready")};return c.jsx("main",{className:"container mx-auto p-4 flex flex-col items-center justify-center min-h-screen font-sans",children:c.jsxs("div",{className:"w-full max-w-5xl flex flex-col items-center",children:[!n&&a==="selecting"&&c.jsx(PT,{onSelectMode:V,onSelect:L}),n==="alphabet-learning"&&r&&c.jsx(zT,{language:r,onBack:q}),n==="verse-learning"&&r&&!y&&c.jsx(ZT,{language:r,onSelectVerse:M,onBack:q}),n==="verse-learning"&&y&&c.jsx(WT,{verse:y,onBack:G}),n==="vocabulary-flashcards"&&c.jsx(dE,{}),n==="listening-game"&&r&&c.jsx(mE,{language:r==="Hebrew"?"Hebrew":"Greek",onBack:q}),n==="pronunciation-challenge"&&r&&c.jsx(vE,{language:r==="Hebrew"?"Hebrew":"Greek",onBack:q}),n==="word-practice"&&a!=="selecting"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:q,className:"absolute top-4 left-4 text-sm text-stone-500 hover:text-sky-600 transition-colors",children:"← 切換模式"}),r&&R&&c.jsxs("div",{className:"flex flex-col items-center w-full",children:[c.jsx(OT,{wordData:R,language:r}),w&&c.jsxs("div",{className:"w-full max-w-2xl mt-8 bg-red-100 dark:bg-red-900/50 border border-red-300 dark:border-red-700 rounded-xl p-6 text-center animate-fade-in",children:[c.jsx("p",{className:"text-red-800 dark:text-red-200",children:w}),a==="error"&&w.includes("麥克風")&&c.jsx("button",{onClick:k,className:"mt-4 px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:"重試"})]}),c.jsx($T,{feedback:v}),c.jsxs("div",{className:"mt-12 flex flex-col items-center gap-6",children:[c.jsx(KT,{gameState:a,onClick:Z}),a==="feedback"&&c.jsx("button",{onClick:ae,className:"px-8 py-3 bg-green-600 text-white rounded-full font-bold shadow-md hover:bg-green-700 transition-all transform hover:scale-105 animate-fade-in",children:"下一個單字 →"})]})]})]})]})})}const AE=({onBack:n})=>c.jsxs("div",{className:"w-full h-full min-h-screen bg-gradient-to-br from-stone-50 to-sky-100 dark:from-gray-900 dark:to-stone-900 transition-colors",children:[c.jsx("div",{className:"absolute top-4 left-4 z-50",children:c.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-white/80 dark:bg-stone-800/80 backdrop-blur-sm rounded-lg shadow-md hover:shadow-lg transition-all hover:scale-105 text-stone-700 dark:text-stone-200",children:[c.jsx(Ta,{className:"w-4 h-4"}),c.jsx("span",{className:"font-medium",children:"返回主頁"})]})}),c.jsx(CE,{})]}),ME=({stages:n,currentStage:e,onSelectStage:a})=>c.jsxs("div",{className:"p-6 h-full border-r border-slate-700",children:[c.jsx("h2",{className:"text-xl font-bold text-sky-300 mb-6",children:"神學之旅"}),c.jsx("nav",{children:c.jsx("ol",{className:"relative border-l border-slate-600",children:n.map((o,r)=>c.jsxs("li",{className:"mb-10 ml-6",children:[c.jsx("span",{className:`absolute flex items-center justify-center w-6 h-6 rounded-full -left-3 ring-8 ring-slate-800 ${e===o.key?"bg-sky-500":"bg-slate-600"}`,children:c.jsx("span",{className:"text-white font-bold",children:r+1})}),c.jsxs("div",{className:"ml-2",children:[c.jsx("h3",{className:`flex items-center mb-1 text-lg font-semibold cursor-pointer ${e===o.key?"text-sky-300":"text-slate-200"}`,onClick:()=>a(o.key),children:o.title}),c.jsx("p",{className:"block mb-2 text-sm font-normal leading-none text-slate-400",children:o.description})]})]},o.key))})})]}),RE=({text:n,onTextChange:e,stage:a,onRefine:o,onGetCitations:r,onGenerateMindMap:u,isProcessing:f})=>c.jsxs("div",{className:"p-4 h-full flex flex-col",children:[c.jsx("h3",{className:"text-xl font-bold text-teal-300 mb-2",children:"神學日誌"}),c.jsxs("p",{className:"text-sm text-slate-400 mb-4 italic",children:["提示：",a.promptHint]}),c.jsx("textarea",{value:n,onChange:p=>e(p.target.value),className:"flex-grow w-full p-3 bg-slate-900 border border-slate-700 rounded-md resize-none focus:ring-2 focus:ring-teal-500 focus:outline-none",placeholder:"在此開始您的記錄..."}),c.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[c.jsx("button",{onClick:o,disabled:f||!n.trim(),className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 disabled:bg-teal-800 disabled:cursor-not-allowed text-white font-semibold rounded-md transition-colors duration-200",children:"潤色文字"}),c.jsx("button",{onClick:r,disabled:f||!n.trim(),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-800 disabled:cursor-not-allowed text-white font-semibold rounded-md transition-colors duration-200",children:"取得引文"}),c.jsx("button",{onClick:u,disabled:f||!n.trim(),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-800 disabled:cursor-not-allowed text-white font-semibold rounded-md transition-colors duration-200",children:"生成思維導圖"})]})]});var Ot=(n=>(n.InitialConcept="initial-concept",n.CreedContrast="creed-contrast",n.BiblicalInterpretation="biblical-interpretation",n.DoubtPhase="doubt-phase",n.Revelation="revelation",n))(Ot||{}),sn=(n=>(n.Socratic="socratic",n.Orthodox="orthodox",n.Reformed="reformed",n.Catholic="catholic",n))(sn||{});const Ag=[{key:Ot.InitialConcept,title:"初始概念",description:"闡述開始探究的基本想法或問題。",promptHint:"詳細說明這個神學概念的核心原則。"},{key:Ot.CreedContrast,title:"信經對比",description:"將您的概念與歷史信經和信仰告白進行分析比較。",promptHint:"這個概念如何與尼西亞信經一致或分歧？"},{key:Ot.BiblicalInterpretation,title:"聖經詮釋",description:"探索支持或挑戰您觀點的經文段落。",promptHint:"哪些關鍵的聖經經文影響這個概念？解經上有什麼挑戰？"},{key:Ot.DoubtPhase,title:"質疑與反駁",description:"面對弱點、反對論點和個人疑慮。",promptHint:"從懷疑的角度來看，這個觀點最重要的反對意見是什麼？"},{key:Ot.Revelation,title:"啟示與綜合",description:"將您的發現綜合成精煉且連貫的神學立場。",promptHint:"制定一個整合旅程見解的結論性論點。"}],IE=[{key:sn.Socratic,name:"蘇格拉底式引導"},{key:sn.Orthodox,name:"東正教傳統"},{key:sn.Reformed,name:"改革宗傳統"},{key:sn.Catholic,name:"天主教傳統"}],kE=({className:n})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`animate-spin ${n}`,children:c.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),DE=({history:n,perspective:e,onPerspectiveChange:a,onSubmit:o,isLoading:r})=>{const[u,f]=H.useState(""),p=H.useRef(null);H.useEffect(()=>{var g;(g=p.current)==null||g.scrollIntoView({behavior:"smooth"})},[n]);const y=g=>{g.preventDefault(),u.trim()&&!r&&(o(u),f(""))};return c.jsxs("div",{className:"p-4 h-full flex flex-col bg-slate-800/50 border-l border-slate-700",children:[c.jsx("h3",{className:"text-xl font-bold text-amber-300 mb-2",children:"AI 對話夥伴"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"perspective",className:"block text-sm font-medium text-slate-400 mb-1",children:"對話模式"}),c.jsx("select",{id:"perspective",value:e,onChange:g=>a(g.target.value),className:"w-full p-2 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-amber-500 focus:outline-none",children:IE.map(g=>c.jsx("option",{value:g.key,children:g.name},g.key))})]}),c.jsxs("div",{className:"flex-grow overflow-y-auto mb-4 pr-2 space-y-4",children:[n.map((g,v)=>c.jsx("div",{className:`flex ${g.role==="user"?"justify-end":"justify-start"}`,children:c.jsx("div",{className:`max-w-xs md:max-w-md lg:max-w-lg p-3 rounded-lg ${g.role==="user"?"bg-sky-800 text-white":"bg-slate-700 text-slate-200"}`,children:c.jsx("p",{className:"text-sm",style:{whiteSpace:"pre-wrap"},children:g.content})})},v)),r&&c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:"bg-slate-700 text-slate-200 p-3 rounded-lg",children:c.jsx(kE,{className:"w-6 h-6 text-amber-300"})})}),c.jsx("div",{ref:p})]}),c.jsxs("form",{onSubmit:y,className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",value:u,onChange:g=>f(g.target.value),placeholder:"挑戰你的想法...",className:"flex-grow p-2 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-amber-500 focus:outline-none",disabled:r}),c.jsx("button",{type:"submit",disabled:r||!u.trim(),className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 disabled:bg-amber-800 disabled:cursor-not-allowed text-white font-semibold rounded-md transition-colors duration-200",children:"傳送"})]})]})};class Mg extends Map{constructor(e,a=LE){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),e!=null)for(const[o,r]of e)this.set(o,r)}get(e){return super.get(Rg(this,e))}has(e){return super.has(Rg(this,e))}set(e,a){return super.set(UE(this,e),a)}delete(e){return super.delete(qE(this,e))}}function Rg({_intern:n,_key:e},a){const o=e(a);return n.has(o)?n.get(o):a}function UE({_intern:n,_key:e},a){const o=e(a);return n.has(o)?n.get(o):(n.set(o,a),a)}function qE({_intern:n,_key:e},a){const o=e(a);return n.has(o)&&(a=n.get(o),n.delete(o)),a}function LE(n){return n!==null&&typeof n=="object"?n.valueOf():n}var GE={value:()=>{}};function qc(){for(var n=0,e=arguments.length,a={},o;n<e;++n){if(!(o=arguments[n]+"")||o in a||/[\s.]/.test(o))throw new Error("illegal type: "+o);a[o]=[]}return new dl(a)}function dl(n){this._=n}function VE(n,e){return n.trim().split(/^|\s+/).map(function(a){var o="",r=a.indexOf(".");if(r>=0&&(o=a.slice(r+1),a=a.slice(0,r)),a&&!e.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:o}})}dl.prototype=qc.prototype={constructor:dl,on:function(n,e){var a=this._,o=VE(n+"",a),r,u=-1,f=o.length;if(arguments.length<2){for(;++u<f;)if((r=(n=o[u]).type)&&(r=HE(a[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++u<f;)if(r=(n=o[u]).type)a[r]=Ig(a[r],n.name,e);else if(e==null)for(r in a)a[r]=Ig(a[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var a in e)n[a]=e[a].slice();return new dl(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var a=new Array(r),o=0,r,u;o<r;++o)a[o]=arguments[o+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=this._[n],o=0,r=u.length;o<r;++o)u[o].value.apply(e,a)},apply:function(n,e,a){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var o=this._[n],r=0,u=o.length;r<u;++r)o[r].value.apply(e,a)}};function HE(n,e){for(var a=0,o=n.length,r;a<o;++a)if((r=n[a]).name===e)return r.value}function Ig(n,e,a){for(var o=0,r=n.length;o<r;++o)if(n[o].name===e){n[o]=GE,n=n.slice(0,o).concat(n.slice(o+1));break}return a!=null&&n.push({name:e,value:a}),n}var vc="http://www.w3.org/1999/xhtml";const kg={svg:"http://www.w3.org/2000/svg",xhtml:vc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ml(n){var e=n+="",a=e.indexOf(":");return a>=0&&(e=n.slice(0,a))!=="xmlns"&&(n=n.slice(a+1)),kg.hasOwnProperty(e)?{space:kg[e],local:n}:n}function PE(n){return function(){var e=this.ownerDocument,a=this.namespaceURI;return a===vc&&e.documentElement.namespaceURI===vc?e.createElement(n):e.createElementNS(a,n)}}function jE(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function G0(n){var e=Ml(n);return(e.local?jE:PE)(e)}function BE(){}function Lc(n){return n==null?BE:function(){return this.querySelector(n)}}function zE(n){typeof n!="function"&&(n=Lc(n));for(var e=this._groups,a=e.length,o=new Array(a),r=0;r<a;++r)for(var u=e[r],f=u.length,p=o[r]=new Array(f),y,g,v=0;v<f;++v)(y=u[v])&&(g=n.call(y,y.__data__,v,u))&&("__data__"in y&&(g.__data__=y.__data__),p[v]=g);return new Dt(o,this._parents)}function OE(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function JE(){return[]}function V0(n){return n==null?JE:function(){return this.querySelectorAll(n)}}function YE(n){return function(){return OE(n.apply(this,arguments))}}function FE(n){typeof n=="function"?n=YE(n):n=V0(n);for(var e=this._groups,a=e.length,o=[],r=[],u=0;u<a;++u)for(var f=e[u],p=f.length,y,g=0;g<p;++g)(y=f[g])&&(o.push(n.call(y,y.__data__,g,f)),r.push(y));return new Dt(o,r)}function H0(n){return function(){return this.matches(n)}}function P0(n){return function(e){return e.matches(n)}}var KE=Array.prototype.find;function $E(n){return function(){return KE.call(this.children,n)}}function QE(){return this.firstElementChild}function XE(n){return this.select(n==null?QE:$E(typeof n=="function"?n:P0(n)))}var ZE=Array.prototype.filter;function WE(){return Array.from(this.children)}function e_(n){return function(){return ZE.call(this.children,n)}}function t_(n){return this.selectAll(n==null?WE:e_(typeof n=="function"?n:P0(n)))}function n_(n){typeof n!="function"&&(n=H0(n));for(var e=this._groups,a=e.length,o=new Array(a),r=0;r<a;++r)for(var u=e[r],f=u.length,p=o[r]=[],y,g=0;g<f;++g)(y=u[g])&&n.call(y,y.__data__,g,u)&&p.push(y);return new Dt(o,this._parents)}function j0(n){return new Array(n.length)}function i_(){return new Dt(this._enter||this._groups.map(j0),this._parents)}function vl(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}vl.prototype={constructor:vl,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function a_(n){return function(){return n}}function s_(n,e,a,o,r,u){for(var f=0,p,y=e.length,g=u.length;f<g;++f)(p=e[f])?(p.__data__=u[f],o[f]=p):a[f]=new vl(n,u[f]);for(;f<y;++f)(p=e[f])&&(r[f]=p)}function o_(n,e,a,o,r,u,f){var p,y,g=new Map,v=e.length,b=u.length,w=new Array(v),N;for(p=0;p<v;++p)(y=e[p])&&(w[p]=N=f.call(y,y.__data__,p,e)+"",g.has(N)?r[p]=y:g.set(N,y));for(p=0;p<b;++p)N=f.call(n,u[p],p,u)+"",(y=g.get(N))?(o[p]=y,y.__data__=u[p],g.delete(N)):a[p]=new vl(n,u[p]);for(p=0;p<v;++p)(y=e[p])&&g.get(w[p])===y&&(r[p]=y)}function l_(n){return n.__data__}function r_(n,e){if(!arguments.length)return Array.from(this,l_);var a=e?o_:s_,o=this._parents,r=this._groups;typeof n!="function"&&(n=a_(n));for(var u=r.length,f=new Array(u),p=new Array(u),y=new Array(u),g=0;g<u;++g){var v=o[g],b=r[g],w=b.length,N=u_(n.call(v,v&&v.__data__,g,o)),_=N.length,E=p[g]=new Array(_),A=f[g]=new Array(_),R=y[g]=new Array(w);a(v,b,E,A,R,N,e);for(var L=0,V=0,M,G;L<_;++L)if(M=E[L]){for(L>=V&&(V=L+1);!(G=A[V])&&++V<_;);M._next=G||null}}return f=new Dt(f,o),f._enter=p,f._exit=y,f}function u_(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function c_(){return new Dt(this._exit||this._groups.map(j0),this._parents)}function d_(n,e,a){var o=this.enter(),r=this,u=this.exit();return typeof n=="function"?(o=n(o),o&&(o=o.selection())):o=o.append(n+""),e!=null&&(r=e(r),r&&(r=r.selection())),a==null?u.remove():a(u),o&&r?o.merge(r).order():r}function f_(n){for(var e=n.selection?n.selection():n,a=this._groups,o=e._groups,r=a.length,u=o.length,f=Math.min(r,u),p=new Array(r),y=0;y<f;++y)for(var g=a[y],v=o[y],b=g.length,w=p[y]=new Array(b),N,_=0;_<b;++_)(N=g[_]||v[_])&&(w[_]=N);for(;y<r;++y)p[y]=a[y];return new Dt(p,this._parents)}function h_(){for(var n=this._groups,e=-1,a=n.length;++e<a;)for(var o=n[e],r=o.length-1,u=o[r],f;--r>=0;)(f=o[r])&&(u&&f.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(f,u),u=f);return this}function m_(n){n||(n=p_);function e(b,w){return b&&w?n(b.__data__,w.__data__):!b-!w}for(var a=this._groups,o=a.length,r=new Array(o),u=0;u<o;++u){for(var f=a[u],p=f.length,y=r[u]=new Array(p),g,v=0;v<p;++v)(g=f[v])&&(y[v]=g);y.sort(e)}return new Dt(r,this._parents).order()}function p_(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function g_(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function y_(){return Array.from(this)}function x_(){for(var n=this._groups,e=0,a=n.length;e<a;++e)for(var o=n[e],r=0,u=o.length;r<u;++r){var f=o[r];if(f)return f}return null}function v_(){let n=0;for(const e of this)++n;return n}function b_(){return!this.node()}function w_(n){for(var e=this._groups,a=0,o=e.length;a<o;++a)for(var r=e[a],u=0,f=r.length,p;u<f;++u)(p=r[u])&&n.call(p,p.__data__,u,r);return this}function S_(n){return function(){this.removeAttribute(n)}}function N_(n){return function(){this.removeAttributeNS(n.space,n.local)}}function T_(n,e){return function(){this.setAttribute(n,e)}}function E_(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function __(n,e){return function(){var a=e.apply(this,arguments);a==null?this.removeAttribute(n):this.setAttribute(n,a)}}function C_(n,e){return function(){var a=e.apply(this,arguments);a==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,a)}}function A_(n,e){var a=Ml(n);if(arguments.length<2){var o=this.node();return a.local?o.getAttributeNS(a.space,a.local):o.getAttribute(a)}return this.each((e==null?a.local?N_:S_:typeof e=="function"?a.local?C_:__:a.local?E_:T_)(a,e))}function B0(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function M_(n){return function(){this.style.removeProperty(n)}}function R_(n,e,a){return function(){this.style.setProperty(n,e,a)}}function I_(n,e,a){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(n):this.style.setProperty(n,o,a)}}function k_(n,e,a){return arguments.length>1?this.each((e==null?M_:typeof e=="function"?I_:R_)(n,e,a??"")):Sa(this.node(),n)}function Sa(n,e){return n.style.getPropertyValue(e)||B0(n).getComputedStyle(n,null).getPropertyValue(e)}function D_(n){return function(){delete this[n]}}function U_(n,e){return function(){this[n]=e}}function q_(n,e){return function(){var a=e.apply(this,arguments);a==null?delete this[n]:this[n]=a}}function L_(n,e){return arguments.length>1?this.each((e==null?D_:typeof e=="function"?q_:U_)(n,e)):this.node()[n]}function z0(n){return n.trim().split(/^|\s+/)}function Gc(n){return n.classList||new O0(n)}function O0(n){this._node=n,this._names=z0(n.getAttribute("class")||"")}O0.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function J0(n,e){for(var a=Gc(n),o=-1,r=e.length;++o<r;)a.add(e[o])}function Y0(n,e){for(var a=Gc(n),o=-1,r=e.length;++o<r;)a.remove(e[o])}function G_(n){return function(){J0(this,n)}}function V_(n){return function(){Y0(this,n)}}function H_(n,e){return function(){(e.apply(this,arguments)?J0:Y0)(this,n)}}function P_(n,e){var a=z0(n+"");if(arguments.length<2){for(var o=Gc(this.node()),r=-1,u=a.length;++r<u;)if(!o.contains(a[r]))return!1;return!0}return this.each((typeof e=="function"?H_:e?G_:V_)(a,e))}function j_(){this.textContent=""}function B_(n){return function(){this.textContent=n}}function z_(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function O_(n){return arguments.length?this.each(n==null?j_:(typeof n=="function"?z_:B_)(n)):this.node().textContent}function J_(){this.innerHTML=""}function Y_(n){return function(){this.innerHTML=n}}function F_(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function K_(n){return arguments.length?this.each(n==null?J_:(typeof n=="function"?F_:Y_)(n)):this.node().innerHTML}function $_(){this.nextSibling&&this.parentNode.appendChild(this)}function Q_(){return this.each($_)}function X_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Z_(){return this.each(X_)}function W_(n){var e=typeof n=="function"?n:G0(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function eC(){return null}function tC(n,e){var a=typeof n=="function"?n:G0(n),o=e==null?eC:typeof e=="function"?e:Lc(e);return this.select(function(){return this.insertBefore(a.apply(this,arguments),o.apply(this,arguments)||null)})}function nC(){var n=this.parentNode;n&&n.removeChild(this)}function iC(){return this.each(nC)}function aC(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function sC(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function oC(n){return this.select(n?sC:aC)}function lC(n){return arguments.length?this.property("__data__",n):this.node().__data__}function rC(n){return function(e){n.call(this,e,this.__data__)}}function uC(n){return n.trim().split(/^|\s+/).map(function(e){var a="",o=e.indexOf(".");return o>=0&&(a=e.slice(o+1),e=e.slice(0,o)),{type:e,name:a}})}function cC(n){return function(){var e=this.__on;if(e){for(var a=0,o=-1,r=e.length,u;a<r;++a)u=e[a],(!n.type||u.type===n.type)&&u.name===n.name?this.removeEventListener(u.type,u.listener,u.options):e[++o]=u;++o?e.length=o:delete this.__on}}}function dC(n,e,a){return function(){var o=this.__on,r,u=rC(e);if(o){for(var f=0,p=o.length;f<p;++f)if((r=o[f]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=u,r.options=a),r.value=e;return}}this.addEventListener(n.type,u,a),r={type:n.type,name:n.name,value:e,listener:u,options:a},o?o.push(r):this.__on=[r]}}function fC(n,e,a){var o=uC(n+""),r,u=o.length,f;if(arguments.length<2){var p=this.node().__on;if(p){for(var y=0,g=p.length,v;y<g;++y)for(r=0,v=p[y];r<u;++r)if((f=o[r]).type===v.type&&f.name===v.name)return v.value}return}for(p=e?dC:cC,r=0;r<u;++r)this.each(p(o[r],e,a));return this}function F0(n,e,a){var o=B0(n),r=o.CustomEvent;typeof r=="function"?r=new r(e,a):(r=o.document.createEvent("Event"),a?(r.initEvent(e,a.bubbles,a.cancelable),r.detail=a.detail):r.initEvent(e,!1,!1)),n.dispatchEvent(r)}function hC(n,e){return function(){return F0(this,n,e)}}function mC(n,e){return function(){return F0(this,n,e.apply(this,arguments))}}function pC(n,e){return this.each((typeof e=="function"?mC:hC)(n,e))}function*gC(){for(var n=this._groups,e=0,a=n.length;e<a;++e)for(var o=n[e],r=0,u=o.length,f;r<u;++r)(f=o[r])&&(yield f)}var K0=[null];function Dt(n,e){this._groups=n,this._parents=e}function Ls(){return new Dt([[document.documentElement]],K0)}function yC(){return this}Dt.prototype=Ls.prototype={constructor:Dt,select:zE,selectAll:FE,selectChild:XE,selectChildren:t_,filter:n_,data:r_,enter:i_,exit:c_,join:d_,merge:f_,selection:yC,order:h_,sort:m_,call:g_,nodes:y_,node:x_,size:v_,empty:b_,each:w_,attr:A_,style:k_,property:L_,classed:P_,text:O_,html:K_,raise:Q_,lower:Z_,append:W_,insert:tC,remove:iC,clone:oC,datum:lC,on:fC,dispatch:pC,[Symbol.iterator]:gC};function xC(n){return typeof n=="string"?new Dt([[document.querySelector(n)]],[document.documentElement]):new Dt([[n]],K0)}function Vc(n,e,a){n.prototype=e.prototype=a,a.constructor=n}function $0(n,e){var a=Object.create(n.prototype);for(var o in e)a[o]=e[o];return a}function Gs(){}var Is=.7,bl=1/Is,wa="\\s*([+-]?\\d+)\\s*",ks="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vC=/^#([0-9a-f]{3,8})$/,bC=new RegExp(`^rgb\\(${wa},${wa},${wa}\\)$`),wC=new RegExp(`^rgb\\(${on},${on},${on}\\)$`),SC=new RegExp(`^rgba\\(${wa},${wa},${wa},${ks}\\)$`),NC=new RegExp(`^rgba\\(${on},${on},${on},${ks}\\)$`),TC=new RegExp(`^hsl\\(${ks},${on},${on}\\)$`),EC=new RegExp(`^hsla\\(${ks},${on},${on},${ks}\\)$`),Dg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vc(Gs,Ds,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Ug,formatHex:Ug,formatHex8:_C,formatHsl:CC,formatRgb:qg,toString:qg});function Ug(){return this.rgb().formatHex()}function _C(){return this.rgb().formatHex8()}function CC(){return Q0(this).formatHsl()}function qg(){return this.rgb().formatRgb()}function Ds(n){var e,a;return n=(n+"").trim().toLowerCase(),(e=vC.exec(n))?(a=e[1].length,e=parseInt(e[1],16),a===6?Lg(e):a===3?new wt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):a===8?ol(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):a===4?ol(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bC.exec(n))?new wt(e[1],e[2],e[3],1):(e=wC.exec(n))?new wt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=SC.exec(n))?ol(e[1],e[2],e[3],e[4]):(e=NC.exec(n))?ol(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=TC.exec(n))?Hg(e[1],e[2]/100,e[3]/100,1):(e=EC.exec(n))?Hg(e[1],e[2]/100,e[3]/100,e[4]):Dg.hasOwnProperty(n)?Lg(Dg[n]):n==="transparent"?new wt(NaN,NaN,NaN,0):null}function Lg(n){return new wt(n>>16&255,n>>8&255,n&255,1)}function ol(n,e,a,o){return o<=0&&(n=e=a=NaN),new wt(n,e,a,o)}function AC(n){return n instanceof Gs||(n=Ds(n)),n?(n=n.rgb(),new wt(n.r,n.g,n.b,n.opacity)):new wt}function bc(n,e,a,o){return arguments.length===1?AC(n):new wt(n,e,a,o??1)}function wt(n,e,a,o){this.r=+n,this.g=+e,this.b=+a,this.opacity=+o}Vc(wt,bc,$0(Gs,{brighter(n){return n=n==null?bl:Math.pow(bl,n),new wt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Is:Math.pow(Is,n),new wt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new wt(Ti(this.r),Ti(this.g),Ti(this.b),wl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gg,formatHex:Gg,formatHex8:MC,formatRgb:Vg,toString:Vg}));function Gg(){return`#${Ni(this.r)}${Ni(this.g)}${Ni(this.b)}`}function MC(){return`#${Ni(this.r)}${Ni(this.g)}${Ni(this.b)}${Ni((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vg(){const n=wl(this.opacity);return`${n===1?"rgb(":"rgba("}${Ti(this.r)}, ${Ti(this.g)}, ${Ti(this.b)}${n===1?")":`, ${n})`}`}function wl(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Ti(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Ni(n){return n=Ti(n),(n<16?"0":"")+n.toString(16)}function Hg(n,e,a,o){return o<=0?n=e=a=NaN:a<=0||a>=1?n=e=NaN:e<=0&&(n=NaN),new $t(n,e,a,o)}function Q0(n){if(n instanceof $t)return new $t(n.h,n.s,n.l,n.opacity);if(n instanceof Gs||(n=Ds(n)),!n)return new $t;if(n instanceof $t)return n;n=n.rgb();var e=n.r/255,a=n.g/255,o=n.b/255,r=Math.min(e,a,o),u=Math.max(e,a,o),f=NaN,p=u-r,y=(u+r)/2;return p?(e===u?f=(a-o)/p+(a<o)*6:a===u?f=(o-e)/p+2:f=(e-a)/p+4,p/=y<.5?u+r:2-u-r,f*=60):p=y>0&&y<1?0:f,new $t(f,p,y,n.opacity)}function RC(n,e,a,o){return arguments.length===1?Q0(n):new $t(n,e,a,o??1)}function $t(n,e,a,o){this.h=+n,this.s=+e,this.l=+a,this.opacity=+o}Vc($t,RC,$0(Gs,{brighter(n){return n=n==null?bl:Math.pow(bl,n),new $t(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Is:Math.pow(Is,n),new $t(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,a=this.l,o=a+(a<.5?a:1-a)*e,r=2*a-o;return new wt(lc(n>=240?n-240:n+120,r,o),lc(n,r,o),lc(n<120?n+240:n-120,r,o),this.opacity)},clamp(){return new $t(Pg(this.h),ll(this.s),ll(this.l),wl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=wl(this.opacity);return`${n===1?"hsl(":"hsla("}${Pg(this.h)}, ${ll(this.s)*100}%, ${ll(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Pg(n){return n=(n||0)%360,n<0?n+360:n}function ll(n){return Math.max(0,Math.min(1,n||0))}function lc(n,e,a){return(n<60?e+(a-e)*n/60:n<180?a:n<240?e+(a-e)*(240-n)/60:e)*255}const X0=n=>()=>n;function IC(n,e){return function(a){return n+a*e}}function kC(n,e,a){return n=Math.pow(n,a),e=Math.pow(e,a)-n,a=1/a,function(o){return Math.pow(n+o*e,a)}}function DC(n){return(n=+n)==1?Z0:function(e,a){return a-e?kC(e,a,n):X0(isNaN(e)?a:e)}}function Z0(n,e){var a=e-n;return a?IC(n,a):X0(isNaN(n)?e:n)}const jg=(function n(e){var a=DC(e);function o(r,u){var f=a((r=bc(r)).r,(u=bc(u)).r),p=a(r.g,u.g),y=a(r.b,u.b),g=Z0(r.opacity,u.opacity);return function(v){return r.r=f(v),r.g=p(v),r.b=y(v),r.opacity=g(v),r+""}}return o.gamma=n,o})(1);function ti(n,e){return n=+n,e=+e,function(a){return n*(1-a)+e*a}}var wc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rc=new RegExp(wc.source,"g");function UC(n){return function(){return n}}function qC(n){return function(e){return n(e)+""}}function LC(n,e){var a=wc.lastIndex=rc.lastIndex=0,o,r,u,f=-1,p=[],y=[];for(n=n+"",e=e+"";(o=wc.exec(n))&&(r=rc.exec(e));)(u=r.index)>a&&(u=e.slice(a,u),p[f]?p[f]+=u:p[++f]=u),(o=o[0])===(r=r[0])?p[f]?p[f]+=r:p[++f]=r:(p[++f]=null,y.push({i:f,x:ti(o,r)})),a=rc.lastIndex;return a<e.length&&(u=e.slice(a),p[f]?p[f]+=u:p[++f]=u),p.length<2?y[0]?qC(y[0].x):UC(e):(e=y.length,function(g){for(var v=0,b;v<e;++v)p[(b=y[v]).i]=b.x(g);return p.join("")})}var Bg=180/Math.PI,Sc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function W0(n,e,a,o,r,u){var f,p,y;return(f=Math.sqrt(n*n+e*e))&&(n/=f,e/=f),(y=n*a+e*o)&&(a-=n*y,o-=e*y),(p=Math.sqrt(a*a+o*o))&&(a/=p,o/=p,y/=p),n*o<e*a&&(n=-n,e=-e,y=-y,f=-f),{translateX:r,translateY:u,rotate:Math.atan2(e,n)*Bg,skewX:Math.atan(y)*Bg,scaleX:f,scaleY:p}}var rl;function GC(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Sc:W0(e.a,e.b,e.c,e.d,e.e,e.f)}function VC(n){return n==null||(rl||(rl=document.createElementNS("http://www.w3.org/2000/svg","g")),rl.setAttribute("transform",n),!(n=rl.transform.baseVal.consolidate()))?Sc:(n=n.matrix,W0(n.a,n.b,n.c,n.d,n.e,n.f))}function ey(n,e,a,o){function r(g){return g.length?g.pop()+" ":""}function u(g,v,b,w,N,_){if(g!==b||v!==w){var E=N.push("translate(",null,e,null,a);_.push({i:E-4,x:ti(g,b)},{i:E-2,x:ti(v,w)})}else(b||w)&&N.push("translate("+b+e+w+a)}function f(g,v,b,w){g!==v?(g-v>180?v+=360:v-g>180&&(g+=360),w.push({i:b.push(r(b)+"rotate(",null,o)-2,x:ti(g,v)})):v&&b.push(r(b)+"rotate("+v+o)}function p(g,v,b,w){g!==v?w.push({i:b.push(r(b)+"skewX(",null,o)-2,x:ti(g,v)}):v&&b.push(r(b)+"skewX("+v+o)}function y(g,v,b,w,N,_){if(g!==b||v!==w){var E=N.push(r(N)+"scale(",null,",",null,")");_.push({i:E-4,x:ti(g,b)},{i:E-2,x:ti(v,w)})}else(b!==1||w!==1)&&N.push(r(N)+"scale("+b+","+w+")")}return function(g,v){var b=[],w=[];return g=n(g),v=n(v),u(g.translateX,g.translateY,v.translateX,v.translateY,b,w),f(g.rotate,v.rotate,b,w),p(g.skewX,v.skewX,b,w),y(g.scaleX,g.scaleY,v.scaleX,v.scaleY,b,w),g=v=null,function(N){for(var _=-1,E=w.length,A;++_<E;)b[(A=w[_]).i]=A.x(N);return b.join("")}}}var HC=ey(GC,"px, ","px)","deg)"),PC=ey(VC,", ",")",")"),Na=0,_s=0,Ts=0,ty=1e3,Sl,Cs,Nl=0,_i=0,Rl=0,Us=typeof performance=="object"&&performance.now?performance:Date,ny=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Hc(){return _i||(ny(jC),_i=Us.now()+Rl)}function jC(){_i=0}function Tl(){this._call=this._time=this._next=null}Tl.prototype=Pc.prototype={constructor:Tl,restart:function(n,e,a){if(typeof n!="function")throw new TypeError("callback is not a function");a=(a==null?Hc():+a)+(e==null?0:+e),!this._next&&Cs!==this&&(Cs?Cs._next=this:Sl=this,Cs=this),this._call=n,this._time=a,Nc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nc())}};function Pc(n,e,a){var o=new Tl;return o.restart(n,e,a),o}function BC(){Hc(),++Na;for(var n=Sl,e;n;)(e=_i-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Na}function zg(){_i=(Nl=Us.now())+Rl,Na=_s=0;try{BC()}finally{Na=0,OC(),_i=0}}function zC(){var n=Us.now(),e=n-Nl;e>ty&&(Rl-=e,Nl=n)}function OC(){for(var n,e=Sl,a,o=1/0;e;)e._call?(o>e._time&&(o=e._time),n=e,e=e._next):(a=e._next,e._next=null,e=n?n._next=a:Sl=a);Cs=n,Nc(o)}function Nc(n){if(!Na){_s&&(_s=clearTimeout(_s));var e=n-_i;e>24?(n<1/0&&(_s=setTimeout(zg,n-Us.now()-Rl)),Ts&&(Ts=clearInterval(Ts))):(Ts||(Nl=Us.now(),Ts=setInterval(zC,ty)),Na=1,ny(zg))}}function Og(n,e,a){var o=new Tl;return e=e==null?0:+e,o.restart(r=>{o.stop(),n(r+e)},e,a),o}var JC=qc("start","end","cancel","interrupt"),YC=[],iy=0,Jg=1,Tc=2,fl=3,Yg=4,Ec=5,hl=6;function Il(n,e,a,o,r,u){var f=n.__transition;if(!f)n.__transition={};else if(a in f)return;FC(n,a,{name:e,index:o,group:r,on:JC,tween:YC,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:iy})}function jc(n,e){var a=Xt(n,e);if(a.state>iy)throw new Error("too late; already scheduled");return a}function ln(n,e){var a=Xt(n,e);if(a.state>fl)throw new Error("too late; already running");return a}function Xt(n,e){var a=n.__transition;if(!a||!(a=a[e]))throw new Error("transition not found");return a}function FC(n,e,a){var o=n.__transition,r;o[e]=a,a.timer=Pc(u,0,a.time);function u(g){a.state=Jg,a.timer.restart(f,a.delay,a.time),a.delay<=g&&f(g-a.delay)}function f(g){var v,b,w,N;if(a.state!==Jg)return y();for(v in o)if(N=o[v],N.name===a.name){if(N.state===fl)return Og(f);N.state===Yg?(N.state=hl,N.timer.stop(),N.on.call("interrupt",n,n.__data__,N.index,N.group),delete o[v]):+v<e&&(N.state=hl,N.timer.stop(),N.on.call("cancel",n,n.__data__,N.index,N.group),delete o[v])}if(Og(function(){a.state===fl&&(a.state=Yg,a.timer.restart(p,a.delay,a.time),p(g))}),a.state=Tc,a.on.call("start",n,n.__data__,a.index,a.group),a.state===Tc){for(a.state=fl,r=new Array(w=a.tween.length),v=0,b=-1;v<w;++v)(N=a.tween[v].value.call(n,n.__data__,a.index,a.group))&&(r[++b]=N);r.length=b+1}}function p(g){for(var v=g<a.duration?a.ease.call(null,g/a.duration):(a.timer.restart(y),a.state=Ec,1),b=-1,w=r.length;++b<w;)r[b].call(n,v);a.state===Ec&&(a.on.call("end",n,n.__data__,a.index,a.group),y())}function y(){a.state=hl,a.timer.stop(),delete o[e];for(var g in o)return;delete n.__transition}}function KC(n,e){var a=n.__transition,o,r,u=!0,f;if(a){e=e==null?null:e+"";for(f in a){if((o=a[f]).name!==e){u=!1;continue}r=o.state>Tc&&o.state<Ec,o.state=hl,o.timer.stop(),o.on.call(r?"interrupt":"cancel",n,n.__data__,o.index,o.group),delete a[f]}u&&delete n.__transition}}function $C(n){return this.each(function(){KC(this,n)})}function QC(n,e){var a,o;return function(){var r=ln(this,n),u=r.tween;if(u!==a){o=a=u;for(var f=0,p=o.length;f<p;++f)if(o[f].name===e){o=o.slice(),o.splice(f,1);break}}r.tween=o}}function XC(n,e,a){var o,r;if(typeof a!="function")throw new Error;return function(){var u=ln(this,n),f=u.tween;if(f!==o){r=(o=f).slice();for(var p={name:e,value:a},y=0,g=r.length;y<g;++y)if(r[y].name===e){r[y]=p;break}y===g&&r.push(p)}u.tween=r}}function ZC(n,e){var a=this._id;if(n+="",arguments.length<2){for(var o=Xt(this.node(),a).tween,r=0,u=o.length,f;r<u;++r)if((f=o[r]).name===n)return f.value;return null}return this.each((e==null?QC:XC)(a,n,e))}function Bc(n,e,a){var o=n._id;return n.each(function(){var r=ln(this,o);(r.value||(r.value={}))[e]=a.apply(this,arguments)}),function(r){return Xt(r,o).value[e]}}function ay(n,e){var a;return(typeof e=="number"?ti:e instanceof Ds?jg:(a=Ds(e))?(e=a,jg):LC)(n,e)}function WC(n){return function(){this.removeAttribute(n)}}function eA(n){return function(){this.removeAttributeNS(n.space,n.local)}}function tA(n,e,a){var o,r=a+"",u;return function(){var f=this.getAttribute(n);return f===r?null:f===o?u:u=e(o=f,a)}}function nA(n,e,a){var o,r=a+"",u;return function(){var f=this.getAttributeNS(n.space,n.local);return f===r?null:f===o?u:u=e(o=f,a)}}function iA(n,e,a){var o,r,u;return function(){var f,p=a(this),y;return p==null?void this.removeAttribute(n):(f=this.getAttribute(n),y=p+"",f===y?null:f===o&&y===r?u:(r=y,u=e(o=f,p)))}}function aA(n,e,a){var o,r,u;return function(){var f,p=a(this),y;return p==null?void this.removeAttributeNS(n.space,n.local):(f=this.getAttributeNS(n.space,n.local),y=p+"",f===y?null:f===o&&y===r?u:(r=y,u=e(o=f,p)))}}function sA(n,e){var a=Ml(n),o=a==="transform"?PC:ay;return this.attrTween(n,typeof e=="function"?(a.local?aA:iA)(a,o,Bc(this,"attr."+n,e)):e==null?(a.local?eA:WC)(a):(a.local?nA:tA)(a,o,e))}function oA(n,e){return function(a){this.setAttribute(n,e.call(this,a))}}function lA(n,e){return function(a){this.setAttributeNS(n.space,n.local,e.call(this,a))}}function rA(n,e){var a,o;function r(){var u=e.apply(this,arguments);return u!==o&&(a=(o=u)&&lA(n,u)),a}return r._value=e,r}function uA(n,e){var a,o;function r(){var u=e.apply(this,arguments);return u!==o&&(a=(o=u)&&oA(n,u)),a}return r._value=e,r}function cA(n,e){var a="attr."+n;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!="function")throw new Error;var o=Ml(n);return this.tween(a,(o.local?rA:uA)(o,e))}function dA(n,e){return function(){jc(this,n).delay=+e.apply(this,arguments)}}function fA(n,e){return e=+e,function(){jc(this,n).delay=e}}function hA(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?dA:fA)(e,n)):Xt(this.node(),e).delay}function mA(n,e){return function(){ln(this,n).duration=+e.apply(this,arguments)}}function pA(n,e){return e=+e,function(){ln(this,n).duration=e}}function gA(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?mA:pA)(e,n)):Xt(this.node(),e).duration}function yA(n,e){if(typeof e!="function")throw new Error;return function(){ln(this,n).ease=e}}function xA(n){var e=this._id;return arguments.length?this.each(yA(e,n)):Xt(this.node(),e).ease}function vA(n,e){return function(){var a=e.apply(this,arguments);if(typeof a!="function")throw new Error;ln(this,n).ease=a}}function bA(n){if(typeof n!="function")throw new Error;return this.each(vA(this._id,n))}function wA(n){typeof n!="function"&&(n=H0(n));for(var e=this._groups,a=e.length,o=new Array(a),r=0;r<a;++r)for(var u=e[r],f=u.length,p=o[r]=[],y,g=0;g<f;++g)(y=u[g])&&n.call(y,y.__data__,g,u)&&p.push(y);return new Cn(o,this._parents,this._name,this._id)}function SA(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,a=n._groups,o=e.length,r=a.length,u=Math.min(o,r),f=new Array(o),p=0;p<u;++p)for(var y=e[p],g=a[p],v=y.length,b=f[p]=new Array(v),w,N=0;N<v;++N)(w=y[N]||g[N])&&(b[N]=w);for(;p<o;++p)f[p]=e[p];return new Cn(f,this._parents,this._name,this._id)}function NA(n){return(n+"").trim().split(/^|\s+/).every(function(e){var a=e.indexOf(".");return a>=0&&(e=e.slice(0,a)),!e||e==="start"})}function TA(n,e,a){var o,r,u=NA(e)?jc:ln;return function(){var f=u(this,n),p=f.on;p!==o&&(r=(o=p).copy()).on(e,a),f.on=r}}function EA(n,e){var a=this._id;return arguments.length<2?Xt(this.node(),a).on.on(n):this.each(TA(a,n,e))}function _A(n){return function(){var e=this.parentNode;for(var a in this.__transition)if(+a!==n)return;e&&e.removeChild(this)}}function CA(){return this.on("end.remove",_A(this._id))}function AA(n){var e=this._name,a=this._id;typeof n!="function"&&(n=Lc(n));for(var o=this._groups,r=o.length,u=new Array(r),f=0;f<r;++f)for(var p=o[f],y=p.length,g=u[f]=new Array(y),v,b,w=0;w<y;++w)(v=p[w])&&(b=n.call(v,v.__data__,w,p))&&("__data__"in v&&(b.__data__=v.__data__),g[w]=b,Il(g[w],e,a,w,g,Xt(v,a)));return new Cn(u,this._parents,e,a)}function MA(n){var e=this._name,a=this._id;typeof n!="function"&&(n=V0(n));for(var o=this._groups,r=o.length,u=[],f=[],p=0;p<r;++p)for(var y=o[p],g=y.length,v,b=0;b<g;++b)if(v=y[b]){for(var w=n.call(v,v.__data__,b,y),N,_=Xt(v,a),E=0,A=w.length;E<A;++E)(N=w[E])&&Il(N,e,a,E,w,_);u.push(w),f.push(v)}return new Cn(u,f,e,a)}var RA=Ls.prototype.constructor;function IA(){return new RA(this._groups,this._parents)}function kA(n,e){var a,o,r;return function(){var u=Sa(this,n),f=(this.style.removeProperty(n),Sa(this,n));return u===f?null:u===a&&f===o?r:r=e(a=u,o=f)}}function sy(n){return function(){this.style.removeProperty(n)}}function DA(n,e,a){var o,r=a+"",u;return function(){var f=Sa(this,n);return f===r?null:f===o?u:u=e(o=f,a)}}function UA(n,e,a){var o,r,u;return function(){var f=Sa(this,n),p=a(this),y=p+"";return p==null&&(y=p=(this.style.removeProperty(n),Sa(this,n))),f===y?null:f===o&&y===r?u:(r=y,u=e(o=f,p))}}function qA(n,e){var a,o,r,u="style."+e,f="end."+u,p;return function(){var y=ln(this,n),g=y.on,v=y.value[u]==null?p||(p=sy(e)):void 0;(g!==a||r!==v)&&(o=(a=g).copy()).on(f,r=v),y.on=o}}function LA(n,e,a){var o=(n+="")=="transform"?HC:ay;return e==null?this.styleTween(n,kA(n,o)).on("end.style."+n,sy(n)):typeof e=="function"?this.styleTween(n,UA(n,o,Bc(this,"style."+n,e))).each(qA(this._id,n)):this.styleTween(n,DA(n,o,e),a).on("end.style."+n,null)}function GA(n,e,a){return function(o){this.style.setProperty(n,e.call(this,o),a)}}function VA(n,e,a){var o,r;function u(){var f=e.apply(this,arguments);return f!==r&&(o=(r=f)&&GA(n,f,a)),o}return u._value=e,u}function HA(n,e,a){var o="style."+(n+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,VA(n,e,a??""))}function PA(n){return function(){this.textContent=n}}function jA(n){return function(){var e=n(this);this.textContent=e??""}}function BA(n){return this.tween("text",typeof n=="function"?jA(Bc(this,"text",n)):PA(n==null?"":n+""))}function zA(n){return function(e){this.textContent=n.call(this,e)}}function OA(n){var e,a;function o(){var r=n.apply(this,arguments);return r!==a&&(e=(a=r)&&zA(r)),e}return o._value=n,o}function JA(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,OA(n))}function YA(){for(var n=this._name,e=this._id,a=oy(),o=this._groups,r=o.length,u=0;u<r;++u)for(var f=o[u],p=f.length,y,g=0;g<p;++g)if(y=f[g]){var v=Xt(y,e);Il(y,n,a,g,f,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Cn(o,this._parents,n,a)}function FA(){var n,e,a=this,o=a._id,r=a.size();return new Promise(function(u,f){var p={value:f},y={value:function(){--r===0&&u()}};a.each(function(){var g=ln(this,o),v=g.on;v!==n&&(e=(n=v).copy(),e._.cancel.push(p),e._.interrupt.push(p),e._.end.push(y)),g.on=e}),r===0&&u()})}var KA=0;function Cn(n,e,a,o){this._groups=n,this._parents=e,this._name=a,this._id=o}function oy(){return++KA}var _n=Ls.prototype;Cn.prototype={constructor:Cn,select:AA,selectAll:MA,selectChild:_n.selectChild,selectChildren:_n.selectChildren,filter:wA,merge:SA,selection:IA,transition:YA,call:_n.call,nodes:_n.nodes,node:_n.node,size:_n.size,empty:_n.empty,each:_n.each,on:EA,attr:sA,attrTween:cA,style:LA,styleTween:HA,text:BA,textTween:JA,remove:CA,tween:ZC,delay:hA,duration:gA,ease:xA,easeVarying:bA,end:FA,[Symbol.iterator]:_n[Symbol.iterator]};function $A(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var QA={time:null,delay:0,duration:250,ease:$A};function XA(n,e){for(var a;!(a=n.__transition)||!(a=a[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return a}function ZA(n){var e,a;n instanceof Cn?(e=n._id,n=n._name):(e=oy(),(a=QA).time=Hc(),n=n==null?null:n+"");for(var o=this._groups,r=o.length,u=0;u<r;++u)for(var f=o[u],p=f.length,y,g=0;g<p;++g)(y=f[g])&&Il(y,n,e,g,f,a||XA(y,e));return new Cn(o,this._parents,n,e)}Ls.prototype.interrupt=$C;Ls.prototype.transition=ZA;function WA(n,e){var a,o=1;n==null&&(n=0),e==null&&(e=0);function r(){var u,f=a.length,p,y=0,g=0;for(u=0;u<f;++u)p=a[u],y+=p.x,g+=p.y;for(y=(y/f-n)*o,g=(g/f-e)*o,u=0;u<f;++u)p=a[u],p.x-=y,p.y-=g}return r.initialize=function(u){a=u},r.x=function(u){return arguments.length?(n=+u,r):n},r.y=function(u){return arguments.length?(e=+u,r):e},r.strength=function(u){return arguments.length?(o=+u,r):o},r}function e3(n){const e=+this._x.call(null,n),a=+this._y.call(null,n);return ly(this.cover(e,a),e,a,n)}function ly(n,e,a,o){if(isNaN(e)||isNaN(a))return n;var r,u=n._root,f={data:o},p=n._x0,y=n._y0,g=n._x1,v=n._y1,b,w,N,_,E,A,R,L;if(!u)return n._root=f,n;for(;u.length;)if((E=e>=(b=(p+g)/2))?p=b:g=b,(A=a>=(w=(y+v)/2))?y=w:v=w,r=u,!(u=u[R=A<<1|E]))return r[R]=f,n;if(N=+n._x.call(null,u.data),_=+n._y.call(null,u.data),e===N&&a===_)return f.next=u,r?r[R]=f:n._root=f,n;do r=r?r[R]=new Array(4):n._root=new Array(4),(E=e>=(b=(p+g)/2))?p=b:g=b,(A=a>=(w=(y+v)/2))?y=w:v=w;while((R=A<<1|E)===(L=(_>=w)<<1|N>=b));return r[L]=u,r[R]=f,n}function t3(n){var e,a,o=n.length,r,u,f=new Array(o),p=new Array(o),y=1/0,g=1/0,v=-1/0,b=-1/0;for(a=0;a<o;++a)isNaN(r=+this._x.call(null,e=n[a]))||isNaN(u=+this._y.call(null,e))||(f[a]=r,p[a]=u,r<y&&(y=r),r>v&&(v=r),u<g&&(g=u),u>b&&(b=u));if(y>v||g>b)return this;for(this.cover(y,g).cover(v,b),a=0;a<o;++a)ly(this,f[a],p[a],n[a]);return this}function n3(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var a=this._x0,o=this._y0,r=this._x1,u=this._y1;if(isNaN(a))r=(a=Math.floor(n))+1,u=(o=Math.floor(e))+1;else{for(var f=r-a||1,p=this._root,y,g;a>n||n>=r||o>e||e>=u;)switch(g=(e<o)<<1|n<a,y=new Array(4),y[g]=p,p=y,f*=2,g){case 0:r=a+f,u=o+f;break;case 1:a=r-f,u=o+f;break;case 2:r=a+f,o=u-f;break;case 3:a=r-f,o=u-f;break}this._root&&this._root.length&&(this._root=p)}return this._x0=a,this._y0=o,this._x1=r,this._y1=u,this}function i3(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function a3(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ft(n,e,a,o,r){this.node=n,this.x0=e,this.y0=a,this.x1=o,this.y1=r}function s3(n,e,a){var o,r=this._x0,u=this._y0,f,p,y,g,v=this._x1,b=this._y1,w=[],N=this._root,_,E;for(N&&w.push(new ft(N,r,u,v,b)),a==null?a=1/0:(r=n-a,u=e-a,v=n+a,b=e+a,a*=a);_=w.pop();)if(!(!(N=_.node)||(f=_.x0)>v||(p=_.y0)>b||(y=_.x1)<r||(g=_.y1)<u))if(N.length){var A=(f+y)/2,R=(p+g)/2;w.push(new ft(N[3],A,R,y,g),new ft(N[2],f,R,A,g),new ft(N[1],A,p,y,R),new ft(N[0],f,p,A,R)),(E=(e>=R)<<1|n>=A)&&(_=w[w.length-1],w[w.length-1]=w[w.length-1-E],w[w.length-1-E]=_)}else{var L=n-+this._x.call(null,N.data),V=e-+this._y.call(null,N.data),M=L*L+V*V;if(M<a){var G=Math.sqrt(a=M);r=n-G,u=e-G,v=n+G,b=e+G,o=N.data}}return o}function o3(n){if(isNaN(v=+this._x.call(null,n))||isNaN(b=+this._y.call(null,n)))return this;var e,a=this._root,o,r,u,f=this._x0,p=this._y0,y=this._x1,g=this._y1,v,b,w,N,_,E,A,R;if(!a)return this;if(a.length)for(;;){if((_=v>=(w=(f+y)/2))?f=w:y=w,(E=b>=(N=(p+g)/2))?p=N:g=N,e=a,!(a=a[A=E<<1|_]))return this;if(!a.length)break;(e[A+1&3]||e[A+2&3]||e[A+3&3])&&(o=e,R=A)}for(;a.data!==n;)if(r=a,!(a=a.next))return this;return(u=a.next)&&delete a.next,r?(u?r.next=u:delete r.next,this):e?(u?e[A]=u:delete e[A],(a=e[0]||e[1]||e[2]||e[3])&&a===(e[3]||e[2]||e[1]||e[0])&&!a.length&&(o?o[R]=a:this._root=a),this):(this._root=u,this)}function l3(n){for(var e=0,a=n.length;e<a;++e)this.remove(n[e]);return this}function r3(){return this._root}function u3(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function c3(n){var e=[],a,o=this._root,r,u,f,p,y;for(o&&e.push(new ft(o,this._x0,this._y0,this._x1,this._y1));a=e.pop();)if(!n(o=a.node,u=a.x0,f=a.y0,p=a.x1,y=a.y1)&&o.length){var g=(u+p)/2,v=(f+y)/2;(r=o[3])&&e.push(new ft(r,g,v,p,y)),(r=o[2])&&e.push(new ft(r,u,v,g,y)),(r=o[1])&&e.push(new ft(r,g,f,p,v)),(r=o[0])&&e.push(new ft(r,u,f,g,v))}return this}function d3(n){var e=[],a=[],o;for(this._root&&e.push(new ft(this._root,this._x0,this._y0,this._x1,this._y1));o=e.pop();){var r=o.node;if(r.length){var u,f=o.x0,p=o.y0,y=o.x1,g=o.y1,v=(f+y)/2,b=(p+g)/2;(u=r[0])&&e.push(new ft(u,f,p,v,b)),(u=r[1])&&e.push(new ft(u,v,p,y,b)),(u=r[2])&&e.push(new ft(u,f,b,v,g)),(u=r[3])&&e.push(new ft(u,v,b,y,g))}a.push(o)}for(;o=a.pop();)n(o.node,o.x0,o.y0,o.x1,o.y1);return this}function f3(n){return n[0]}function h3(n){return arguments.length?(this._x=n,this):this._x}function m3(n){return n[1]}function p3(n){return arguments.length?(this._y=n,this):this._y}function ry(n,e,a){var o=new zc(e??f3,a??m3,NaN,NaN,NaN,NaN);return n==null?o:o.addAll(n)}function zc(n,e,a,o,r,u){this._x=n,this._y=e,this._x0=a,this._y0=o,this._x1=r,this._y1=u,this._root=void 0}function Fg(n){for(var e={data:n.data},a=e;n=n.next;)a=a.next={data:n.data};return e}var ht=ry.prototype=zc.prototype;ht.copy=function(){var n=new zc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,a,o;if(!e)return n;if(!e.length)return n._root=Fg(e),n;for(a=[{source:e,target:n._root=new Array(4)}];e=a.pop();)for(var r=0;r<4;++r)(o=e.source[r])&&(o.length?a.push({source:o,target:e.target[r]=new Array(4)}):e.target[r]=Fg(o));return n};ht.add=e3;ht.addAll=t3;ht.cover=n3;ht.data=i3;ht.extent=a3;ht.find=s3;ht.remove=o3;ht.removeAll=l3;ht.root=r3;ht.size=u3;ht.visit=c3;ht.visitAfter=d3;ht.x=h3;ht.y=p3;function kt(n){return function(){return n}}function pa(n){return(n()-.5)*1e-6}function g3(n){return n.index}function Kg(n,e){var a=n.get(e);if(!a)throw new Error("node not found: "+e);return a}function y3(n){var e=g3,a=b,o,r=kt(30),u,f,p,y,g,v=1;n==null&&(n=[]);function b(A){return 1/Math.min(p[A.source.index],p[A.target.index])}function w(A){for(var R=0,L=n.length;R<v;++R)for(var V=0,M,G,q,k,F,$,Z;V<L;++V)M=n[V],G=M.source,q=M.target,k=q.x+q.vx-G.x-G.vx||pa(g),F=q.y+q.vy-G.y-G.vy||pa(g),$=Math.sqrt(k*k+F*F),$=($-u[V])/$*A*o[V],k*=$,F*=$,q.vx-=k*(Z=y[V]),q.vy-=F*Z,G.vx+=k*(Z=1-Z),G.vy+=F*Z}function N(){if(f){var A,R=f.length,L=n.length,V=new Map(f.map((G,q)=>[e(G,q,f),G])),M;for(A=0,p=new Array(R);A<L;++A)M=n[A],M.index=A,typeof M.source!="object"&&(M.source=Kg(V,M.source)),typeof M.target!="object"&&(M.target=Kg(V,M.target)),p[M.source.index]=(p[M.source.index]||0)+1,p[M.target.index]=(p[M.target.index]||0)+1;for(A=0,y=new Array(L);A<L;++A)M=n[A],y[A]=p[M.source.index]/(p[M.source.index]+p[M.target.index]);o=new Array(L),_(),u=new Array(L),E()}}function _(){if(f)for(var A=0,R=n.length;A<R;++A)o[A]=+a(n[A],A,n)}function E(){if(f)for(var A=0,R=n.length;A<R;++A)u[A]=+r(n[A],A,n)}return w.initialize=function(A,R){f=A,g=R,N()},w.links=function(A){return arguments.length?(n=A,N(),w):n},w.id=function(A){return arguments.length?(e=A,w):e},w.iterations=function(A){return arguments.length?(v=+A,w):v},w.strength=function(A){return arguments.length?(a=typeof A=="function"?A:kt(+A),_(),w):a},w.distance=function(A){return arguments.length?(r=typeof A=="function"?A:kt(+A),E(),w):r},w}const x3=1664525,v3=1013904223,$g=4294967296;function b3(){let n=1;return()=>(n=(x3*n+v3)%$g)/$g}function w3(n){return n.x}function S3(n){return n.y}var N3=10,T3=Math.PI*(3-Math.sqrt(5));function E3(n){var e,a=1,o=.001,r=1-Math.pow(o,1/300),u=0,f=.6,p=new Map,y=Pc(b),g=qc("tick","end"),v=b3();n==null&&(n=[]);function b(){w(),g.call("tick",e),a<o&&(y.stop(),g.call("end",e))}function w(E){var A,R=n.length,L;E===void 0&&(E=1);for(var V=0;V<E;++V)for(a+=(u-a)*r,p.forEach(function(M){M(a)}),A=0;A<R;++A)L=n[A],L.fx==null?L.x+=L.vx*=f:(L.x=L.fx,L.vx=0),L.fy==null?L.y+=L.vy*=f:(L.y=L.fy,L.vy=0);return e}function N(){for(var E=0,A=n.length,R;E<A;++E){if(R=n[E],R.index=E,R.fx!=null&&(R.x=R.fx),R.fy!=null&&(R.y=R.fy),isNaN(R.x)||isNaN(R.y)){var L=N3*Math.sqrt(.5+E),V=E*T3;R.x=L*Math.cos(V),R.y=L*Math.sin(V)}(isNaN(R.vx)||isNaN(R.vy))&&(R.vx=R.vy=0)}}function _(E){return E.initialize&&E.initialize(n,v),E}return N(),e={tick:w,restart:function(){return y.restart(b),e},stop:function(){return y.stop(),e},nodes:function(E){return arguments.length?(n=E,N(),p.forEach(_),e):n},alpha:function(E){return arguments.length?(a=+E,e):a},alphaMin:function(E){return arguments.length?(o=+E,e):o},alphaDecay:function(E){return arguments.length?(r=+E,e):+r},alphaTarget:function(E){return arguments.length?(u=+E,e):u},velocityDecay:function(E){return arguments.length?(f=1-E,e):1-f},randomSource:function(E){return arguments.length?(v=E,p.forEach(_),e):v},force:function(E,A){return arguments.length>1?(A==null?p.delete(E):p.set(E,_(A)),e):p.get(E)},find:function(E,A,R){var L=0,V=n.length,M,G,q,k,F;for(R==null?R=1/0:R*=R,L=0;L<V;++L)k=n[L],M=E-k.x,G=A-k.y,q=M*M+G*G,q<R&&(F=k,R=q);return F},on:function(E,A){return arguments.length>1?(g.on(E,A),e):g.on(E)}}}function _3(){var n,e,a,o,r=kt(-30),u,f=1,p=1/0,y=.81;function g(N){var _,E=n.length,A=ry(n,w3,S3).visitAfter(b);for(o=N,_=0;_<E;++_)e=n[_],A.visit(w)}function v(){if(n){var N,_=n.length,E;for(u=new Array(_),N=0;N<_;++N)E=n[N],u[E.index]=+r(E,N,n)}}function b(N){var _=0,E,A,R=0,L,V,M;if(N.length){for(L=V=M=0;M<4;++M)(E=N[M])&&(A=Math.abs(E.value))&&(_+=E.value,R+=A,L+=A*E.x,V+=A*E.y);N.x=L/R,N.y=V/R}else{E=N,E.x=E.data.x,E.y=E.data.y;do _+=u[E.data.index];while(E=E.next)}N.value=_}function w(N,_,E,A){if(!N.value)return!0;var R=N.x-e.x,L=N.y-e.y,V=A-_,M=R*R+L*L;if(V*V/y<M)return M<p&&(R===0&&(R=pa(a),M+=R*R),L===0&&(L=pa(a),M+=L*L),M<f&&(M=Math.sqrt(f*M)),e.vx+=R*N.value*o/M,e.vy+=L*N.value*o/M),!0;if(N.length||M>=p)return;(N.data!==e||N.next)&&(R===0&&(R=pa(a),M+=R*R),L===0&&(L=pa(a),M+=L*L),M<f&&(M=Math.sqrt(f*M)));do N.data!==e&&(V=u[N.data.index]*o/M,e.vx+=R*V,e.vy+=L*V);while(N=N.next)}return g.initialize=function(N,_){n=N,a=_,v()},g.strength=function(N){return arguments.length?(r=typeof N=="function"?N:kt(+N),v(),g):r},g.distanceMin=function(N){return arguments.length?(f=N*N,g):Math.sqrt(f)},g.distanceMax=function(N){return arguments.length?(p=N*N,g):Math.sqrt(p)},g.theta=function(N){return arguments.length?(y=N*N,g):Math.sqrt(y)},g}function C3(n){var e=kt(.1),a,o,r;typeof n!="function"&&(n=kt(n==null?0:+n));function u(p){for(var y=0,g=a.length,v;y<g;++y)v=a[y],v.vx+=(r[y]-v.x)*o[y]*p}function f(){if(a){var p,y=a.length;for(o=new Array(y),r=new Array(y),p=0;p<y;++p)o[p]=isNaN(r[p]=+n(a[p],p,a))?0:+e(a[p],p,a)}}return u.initialize=function(p){a=p,f()},u.strength=function(p){return arguments.length?(e=typeof p=="function"?p:kt(+p),f(),u):e},u.x=function(p){return arguments.length?(n=typeof p=="function"?p:kt(+p),f(),u):n},u}function A3(n){var e=kt(.1),a,o,r;typeof n!="function"&&(n=kt(n==null?0:+n));function u(p){for(var y=0,g=a.length,v;y<g;++y)v=a[y],v.vy+=(r[y]-v.y)*o[y]*p}function f(){if(a){var p,y=a.length;for(o=new Array(y),r=new Array(y),p=0;p<y;++p)o[p]=isNaN(r[p]=+n(a[p],p,a))?0:+e(a[p],p,a)}}return u.initialize=function(p){a=p,f()},u.strength=function(p){return arguments.length?(e=typeof p=="function"?p:kt(+p),f(),u):e},u.y=function(p){return arguments.length?(n=typeof p=="function"?p:kt(+p),f(),u):n},u}function M3(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const Qg=Symbol("implicit");function uy(){var n=new Mg,e=[],a=[],o=Qg;function r(u){let f=n.get(u);if(f===void 0){if(o!==Qg)return o;n.set(u,f=e.push(u)-1)}return a[f%a.length]}return r.domain=function(u){if(!arguments.length)return e.slice();e=[],n=new Mg;for(const f of u)n.has(f)||n.set(f,e.push(f)-1);return r},r.range=function(u){return arguments.length?(a=Array.from(u),r):a.slice()},r.unknown=function(u){return arguments.length?(o=u,r):o},r.copy=function(){return uy(e,a).unknown(o)},M3.apply(r,arguments),r}function R3(n){for(var e=n.length/6|0,a=new Array(e),o=0;o<e;)a[o]="#"+n.slice(o*6,++o*6);return a}const I3=R3("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function As(n,e,a){this.k=n,this.x=e,this.y=a}As.prototype={constructor:As,scale:function(n){return n===1?this:new As(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new As(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};As.prototype;const k3=({data:n})=>{const e=H.useRef(null);return H.useEffect(()=>{var w,N;if(!n||n.nodes.length===0||!e.current)return;const a=xC(e.current);a.selectAll("*").remove();const o=((w=a.node())==null?void 0:w.getBoundingClientRect().width)||600,r=((N=a.node())==null?void 0:N.getBoundingClientRect().height)||400,u=n.links.map(_=>Object.create(_)),f=n.nodes.map(_=>Object.create(_)),p=E3(f).force("link",y3(u).id(_=>_.id).distance(70)).force("charge",_3().strength(-150)).force("center",WA(o/2,r/2)).force("x",C3()).force("y",A3()),y=uy(I3),g=a.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(u).join("line").attr("stroke-width",_=>Math.sqrt(_.value)),v=a.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(f).join("circle").attr("r",8).attr("fill",_=>y(_.group.toString())),b=a.append("g").attr("class","labels").selectAll("text").data(f).enter().append("text").attr("class","label").attr("fill","#ddd").attr("font-size","10px").attr("dx",12).attr("dy",".35em").text(_=>_.label);v.append("title").text(_=>_.label),p.on("tick",()=>{g.attr("x1",_=>_.source.x).attr("y1",_=>_.source.y).attr("x2",_=>_.target.x).attr("y2",_=>_.target.y),v.attr("cx",_=>_.x).attr("cy",_=>_.y),b.attr("x",_=>_.x).attr("y",_=>_.y)})},[n]),c.jsxs("div",{className:"w-full h-full p-4 bg-slate-800/50 border-l border-slate-700",children:[c.jsx("h3",{className:"text-xl font-bold text-purple-300 mb-2",children:"Concept Map"}),n.nodes.length===0?c.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:c.jsx("p",{children:"Generate a map from your text to visualize connections."})}):c.jsx("svg",{ref:e,className:"w-full h-full"})]})},D3="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4",kl=new ii({apiKey:D3}),U3=n=>{switch(n){case sn.Orthodox:return"You are a theologian from the Eastern Orthodox tradition. Engage with the user's points by drawing upon the Church Fathers, liturgy, and conciliar canons. Emphasize mystery, theosis, and apostolic tradition.";case sn.Reformed:return"You are a theologian from the Reformed tradition. Engage with the user's points by focusing on the sovereignty of God, scriptural authority (Sola Scriptura), and covenant theology. Reference key figures like Calvin and documents like the Westminster Confession.";case sn.Catholic:return"You are a theologian from the Roman Catholic tradition. Engage with the user's points by integrating Scripture, Sacred Tradition, and the Magisterium. Use scholastic reasoning and cite sources like Aquinas, Augustine, and papal encyclicals.";case sn.Socratic:default:return"You are a Socratic guide. Your goal is to deepen the user's theological thinking by asking probing questions. Do not provide direct answers. Instead, challenge assumptions, ask for clarifications, and explore the logical consequences of their statements to help them discover their own conclusions."}},q3=async(n,e)=>{const a=`
    As a theological editor, refine the following text. Improve its clarity, academic rigor, and eloquence while preserving the core meaning. The user is currently in the "${e}" phase of their theological journey.

    Original Text:
    ---
    ${n}
    ---

    Refined Text:
  `;return(await kl.models.generateContent({model:"gemini-2.5-flash",contents:a})).text},L3=async n=>{const e=`
    Based on the following theological text, provide a list of relevant citations. Include:
    1.  Key Scripture passages (book, chapter, verse).
    2.  Relevant writings from Church Fathers (e.g., Augustine, Athanasius).
    3.  Major theological works or thinkers that address these themes.

    Format the output clearly.

    Text:
    ---
    ${n}
    ---

    Citations:
    `;return(await kl.models.generateContent({model:"gemini-2.5-flash",contents:e})).text},G3=async(n,e,a)=>{const o=U3(e),r=n.map(f=>({role:f.role,parts:[{text:f.content}]}));return r.push({role:"user",parts:[{text:a}]}),(await kl.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{systemInstruction:o}})).text},V3=async n=>{try{const a=(await kl.models.generateContent({model:"gemini-2.5-flash",contents:`Analyze the following theological text and generate a JSON object representing a mind map of the key concepts. The JSON should have two keys: "nodes" and "links".
            - "nodes" should be an array of objects, each with "id" (a string), "label" (a string for the concept name), and "group" (a number representing the concept cluster).
            - "links" should be an array of objects, each with "source" (an id from nodes), "target" (an id from nodes), and "value" (a number from 1-10 for link strength).
            - Identify a central theme as group 1. Branch out to related theological concepts, scriptural references, and historical figures.
            
            Text to analyze:
            ---
            ${n}
            ---
            `,config:{responseMimeType:"application/json",responseSchema:{type:me.OBJECT,properties:{nodes:{type:me.ARRAY,items:{type:me.OBJECT,properties:{id:{type:me.STRING},label:{type:me.STRING},group:{type:me.INTEGER}}}},links:{type:me.ARRAY,items:{type:me.OBJECT,properties:{source:{type:me.STRING},target:{type:me.STRING},value:{type:me.INTEGER}}}}}}}})).text.trim(),o=JSON.parse(a);return o&&Array.isArray(o.nodes)&&Array.isArray(o.links)?o:(console.error("Parsed JSON does not match expected MindMapData structure:",o),{nodes:[],links:[]})}catch(e){return console.error("Error generating or parsing mind map data:",e),{nodes:[],links:[]}}},H3=()=>{const[n,e]=H.useState(Ot.InitialConcept),[a,o]=H.useState({[Ot.InitialConcept]:"",[Ot.CreedContrast]:"",[Ot.BiblicalInterpretation]:"",[Ot.DoubtPhase]:"",[Ot.Revelation]:""}),[r,u]=H.useState([]),[f,p]=H.useState(sn.Socratic),[y,g]=H.useState({nodes:[],links:[]}),[v,b]=H.useState(!1),[w,N]=H.useState(!1),_=H.useMemo(()=>Ag.find(G=>G.key===n),[n]),E=a[n],A=G=>{o(q=>({...q,[n]:G}))},R=async G=>{const q={role:"user",content:G},k=[...r];u(F=>[...F,q]),b(!0);try{const $={role:"model",content:await G3(k,f,G)};u(Z=>[...Z,$])}catch(F){console.error("Error fetching dialogue response:",F);const $={role:"model",content:"抱歉，發生錯誤。"};u(Z=>[...Z,$])}finally{b(!1)}},L=async()=>{if(E){N(!0);try{const G=await q3(E,_.title);A(G)}catch(G){console.error("Error refining text:",G)}finally{N(!1)}}},V=async()=>{if(E){N(!0);try{const G=await L3(E);A(E+`

--- Citations ---
`+G)}catch(G){console.error("Error getting citations:",G)}finally{N(!1)}}},M=async()=>{if(E){N(!0);try{const G=await V3(E);g(G)}catch(G){console.error("Error generating mind map:",G)}finally{N(!1)}}};return c.jsxs("main",{className:"bg-slate-900 text-slate-200 h-screen w-screen flex flex-col font-sans",children:[c.jsx("header",{className:"p-4 border-b border-slate-700",children:c.jsx("h1",{className:"text-2xl font-bold text-center",children:"神學家羅盤"})}),c.jsxs("div",{className:"flex-grow grid grid-cols-1 md:grid-cols-12 lg:grid-cols-10 gap-0 overflow-hidden",children:[c.jsx("div",{className:"md:col-span-3 lg:col-span-2 overflow-y-auto",children:c.jsx(ME,{stages:Ag,currentStage:n,onSelectStage:e})}),c.jsxs("div",{className:"md:col-span-9 lg:col-span-8 grid grid-cols-1 lg:grid-cols-2 gap-0 overflow-hidden",children:[c.jsx("div",{className:"overflow-y-auto",children:c.jsx(RE,{text:E,onTextChange:A,stage:_,onRefine:L,onGetCitations:V,onGenerateMindMap:M,isProcessing:w})}),c.jsxs("div",{className:"grid grid-rows-2 gap-0 overflow-hidden",children:[c.jsx("div",{className:"overflow-y-auto",children:c.jsx(DE,{history:r,perspective:f,onPerspectiveChange:p,onSubmit:R,isLoading:v})}),c.jsx("div",{className:"overflow-y-auto",children:c.jsx(k3,{data:y})})]})]})]})]})},P3=({onBack:n})=>c.jsxs("div",{className:"w-full h-full min-h-screen relative",children:[c.jsx("div",{className:"absolute top-4 left-4 z-50",children:c.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-slate-800/90 backdrop-blur-sm rounded-lg shadow-lg hover:shadow-xl transition-all hover:scale-105 text-slate-200 border border-slate-700",children:[c.jsx(Ta,{className:"w-4 h-4"}),c.jsx("span",{className:"font-medium",children:"返回主頁"})]})}),c.jsx(H3,{})]}),cy=new ii({apiKey:"AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4"}),uc=async n=>`data:image/jpeg;base64,${(await cy.models.generateImages({model:"imagen-4.0-generate-001",prompt:n,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"16:9"}})).generatedImages[0].image.imageBytes}`,j3={type:me.OBJECT,properties:{summary:{type:me.STRING,description:"A concise, one-paragraph summary of the sermon's key message and main points."},slides:{type:me.ARRAY,description:"An array of 5 slide objects for the presentation.",items:{type:me.OBJECT,properties:{title:{type:me.STRING,description:"A short, engaging title for the sermon section."},talkingPoints:{type:me.ARRAY,description:"An array of 2-3 brief talking points for this section. Where appropriate, these should include supporting scripture references (e.g., 'The command to love your neighbor (Leviticus 19:18)').",items:{type:me.STRING}},speakerNotes:{type:me.STRING,description:"Detailed speaker notes for this section, forming part of a cohesive sermon of the requested length. This text MUST include scripture references (e.g., 'As it is written in John 3:16...') to support its points."},imagePrompt:{type:me.STRING,description:"A descriptive prompt for an image generation model to create a background image for this slide. e.g., 'An abstract representation of the Holy Trinity'."}},required:["title","talkingPoints","speakerNotes","imagePrompt"]}},fullScript:{type:me.STRING,description:"The complete, concatenated sermon script from all speaker notes, formatted for readability. This text MUST be well-supported with scripture references."}},required:["summary","slides","fullScript"]},B3=n=>`You are an AI assistant designed to generate Christian sermons. Your persona should be that of a knowledgeable, thoughtful, and humble theologian or pastor. Adhere to the following persona settings:
- Ethical Framework: Your approach to sensitive topics should be ${n.ethics}.
- Political Stance: Maintain a strictly ${n.politicalStand} position.
- Powerfulness of Tone: Your language should be ${n.powerfulness} and convincing, yet pastoral.
- Sentiment: The overall sentiment of the speech should be ${n.sentiment}.
- Empathy Level: Exhibit a ${n.empathy} level of empathy in your writing.
- Personality: Your core personality is: "${n.personality}".
Your primary goal is to create a sermon script that is theologically sound, engaging, and flows logically. Your points MUST be supported with accurate and contextually appropriate scripture references. Do not break character.`,z3=async(n,e,a,o,r)=>{let u;try{const q=localStorage.getItem("ai-insights-prompt-config");u=q?JSON.parse(q):ml}catch{u=ml}const f={[ga.BIBLICAL_STUDY]:"Focus on Biblical Study. Provide a careful exegesis of the text, considering its historical and literary context. Explain its meaning and provide practical applications for a modern Christian audience.",[ga.CHURCH_HISTORY]:"Focus on Church History. Discuss the specified historical event, figure, or movement. Extract key lessons and explain its relevance to the Church today.",[ga.SYSTEMATIC_THEOLOGY]:"Focus on Systematic Theology. Explain the theological doctrine clearly and concisely. Ground the explanation in Scripture and discuss its importance for Christian faith and life."},p=e.filter(q=>q.trim()!=="").map(q=>`- ${q}`).join(`
`),y=`
      Generate a compelling ${o}-minute sermon, a concise summary, and a 5-part presentation structure on the following topic.
      The tone should be reverent, insightful, and suitable for a church congregation.

      **Crucial Requirement:** Throughout the sermon manuscript and talking points, you MUST include relevant scripture references (e.g., John 3:16, Romans 8:28) to support your points. These references must be accurate and contextually appropriate.

      Topic: "${n}"
      Sermon Basis: "${a}"

      Key Verses or Points to include:
      ${p}
      
      Instructions based on Sermon Basis:
      ${f[a]}

      Structure the output as a JSON object that strictly follows the provided schema.
      The summary should be a brief, single-paragraph overview of the sermon's core message.
      The entire sermon should flow logically across the 5 parts. Each part's speaker notes should be a section of this continuous sermon.
      The final 'fullScript' field should be the concatenation of all speaker notes into one cohesive text.
    `,g={responseMimeType:"application/json",responseSchema:j3};u.personaEnabled?(r("正在讀取 AI 神學家角色設定..."),g.systemInstruction=B3(u)):(r("正在使用預設 AI 角色..."),g.temperature=.5),r("正在撰寫講道手稿...");const v=await cy.models.generateContent({model:"gemini-2.5-flash",contents:y,config:g}),b=JSON.parse(v.text),w=b.slides,N=b.fullScript,_=b.summary;r("正在生成視覺素材...");const E=uc("A pastor or theologian, depicted as a thoughtful and kind person, professional headshot, looking at the camera, photorealistic, warm lighting."),A=uc("Silhouette of a congregation in a church, looking towards a softly lit pulpit area, shallow depth of field."),R=w.map(q=>{const k=`${q.imagePrompt}, digital painting, stained glass art style, reverent, detailed, cinematic lighting.`;return uc(k)}),[L,V,...M]=await Promise.all([E,A,...R]),G=w.map((q,k)=>({...q,backgroundUrl:M[k]}));return r("正在彙整講道..."),{slides:G,speakerImageUrl:L,audienceImageUrl:V,fullScript:N,summary:_}},Xg=[{title:"Introduction: A Road and a Question",talkingPoints:["The setting: Jericho to Jerusalem","A test from an expert in the law (Luke 10:25)","What must I do to inherit eternal life?"],speakerNotes:"Welcome. We find ourselves today on a dangerous road, the path from Jerusalem to Jericho. It's on this road that a lawyer, an expert in religious law, tests Jesus with a question that echoes in every human heart, as recorded in Luke 10:25: 'Teacher, what shall I do to inherit eternal life?'",imagePrompt:"An ancient, dusty road winding through a desert landscape at sunset, digital painting."},{title:"The Broken and the Passing By",talkingPoints:["A man is beaten, robbed, and left for dead.","The priest and the Levite see and pass by (Luke 10:31-32).","Religious duty vs. genuine compassion."],speakerNotes:"Jesus responds with a story. A man, beaten and left for dead. A priest and a Levite, men of God, see him. They are the ones who should help, but as Luke 10:31-32 tells us, they cross to the other side. They chose religious purity over human compassion. Their piety was hollow.",imagePrompt:"A lone figure lying on the side of a road, with two other figures walking away in the distance, dramatic shadows."},{title:"The Unexpected Neighbor",talkingPoints:["A Samaritan appears - a despised outsider.","He is moved with pity (Luke 10:33).","He bandages the man's wounds, showing radical love."],speakerNotes:"But then, someone unexpected arrives. A Samaritan. In that culture, Samaritans and Jews were bitter enemies. Yet, this Samaritan doesn't see an enemy; he sees a person in need. The scripture says he was 'moved with pity' (Luke 10:33), and he acts. He cleans the wounds, provides for the man, and ensures his care. This is what true neighborly love looks like.",imagePrompt:"One person kneeling to help another on a roadside, with warm light emanating from them, stained glass style."},{title:"The Cost of Compassion",talkingPoints:["The Samaritan used his own oil and wine.","He put the man on his own donkey.","He paid the innkeeper from his own pocket (Luke 10:35)."],speakerNotes:"Notice the cost. This wasn't easy compassion. The Samaritan used his own resources—his time, his energy, his money. As Luke 10:35 describes, he even paid an innkeeper to continue the man's care. True love, the love God calls us to in passages like 1 John 3:17, is sacrificial. It costs us something.",imagePrompt:"Close-up of two hands, one bandaging the other, conveying care and gentleness."},{title:"Conclusion: 'Go and Do Likewise'",talkingPoints:["Jesus asks: 'Who was a neighbor?' (Luke 10:36)","The answer: 'The one who had mercy.'","A call to action for all of us."],speakerNotes:"Jesus then turns the lawyer's question back on him. 'Which of these three, do you think, proved to be a neighbor to the man who fell among the robbers?' (Luke 10:36). The answer is clear: the one who showed mercy. Jesus' final command to the lawyer, and to us, is simple yet profound: 'You go, and do likewise.' Our call is not to define who is worthy of our love, but to be a neighbor to anyone and everyone we meet. Thank you.",imagePrompt:"A diverse group of people helping each other in a modern city street, symbolizing universal neighborly love."}],ul=n=>new Promise(e=>setTimeout(e,n)),O3=async(n,e,a,o,r)=>{r("正在啟動模擬引擎..."),await ul(1e3),r("正在查閱神學檔案..."),await ul(1e3),r("正在描繪神聖概念..."),await ul(1e3),r("正在彙整模擬講道..."),await ul(500);const u=Xg.map(p=>p.speakerNotes).join(`

`),f=`This mock ${o}-minute sermon on "${n}" explores the Parable of the Good Samaritan, emphasizing that true neighborly love transcends social boundaries and requires sacrificial compassion. It challenges believers to move beyond mere religious observance to actively show mercy to those in need, following Jesus' command to 'go and do likewise.'`;return{slides:Xg.map(p=>({...p,title:`${p.title} (關於 "${n}" 的講道)`,backgroundUrl:`https://placehold.co/1280x720/1A202C/7F9CF5/png?text=${encodeURIComponent(p.title)}`})),speakerImageUrl:"https://placehold.co/128x128/4A5568/E2E8F0/png?text=AI",audienceImageUrl:"https://placehold.co/1280x240/111827/4B5563/png?text=",fullScript:`這是一篇 ${o} 分鐘關於 "${n}" 的模擬講道，基於 ${a}，並涵蓋以下要點：${e.join("、")}。

---

${u}`,summary:f}},J3=async(n,e,a=.7)=>{const o="a1fa9d11a66540bc96f0e4367b9539ae.W_ogeNGe8qiaPaT70sCzKSND",r="https://api.ollama.cloud";try{const u=await fetch(`${r}/v1/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({model:n,messages:[{role:"user",content:e}],temperature:a,max_tokens:4e3,stream:!1})});if(!u.ok){const p=await u.text();throw new Error(`Ollama Cloud API error (${u.status}): ${p}`)}const f=await u.json();if(f.choices&&f.choices[0]&&f.choices[0].message)return f.choices[0].message.content;throw new Error("Invalid response format from Ollama Cloud API")}catch(u){throw console.error("Ollama Cloud API error:",u),new Error(`Failed to generate with Ollama Cloud: ${u.message}`)}},Y3=async(n,e,a,o,r,u)=>{console.log("Generating sermon with Ollama Cloud:",u.model),r("連接到 Ollama Cloud API...");const p=`你是一位經驗豐富的牧師和講道專家。請為以下主題創作一篇${o}分鐘的基督教講道。

主題：${n}
神學基礎：${a} - ${{"Biblical Study":"進行深入的釋經研究，關注原文、歷史背景和文學結構","Church History":"從教會歷史的角度來理解，連接過去的智慧與當代應用","Systematic Theology":"系統神學的方法，清晰闡述教義並以聖經為根基"}[a]}
重點要點：${e.join("、")}

請生成一個結構化的講道，包含：
1. 引言 - 吸引會眾注意並介紹主題
2. 聖經基礎 - 深入經文分析
3. 神學反思 - 深層的教義理解
4. 實際應用 - 具體的生活應用
5. 結論與呼召 - 有力的總結和生命邀請

請以JSON格式回應，包含以下結構：
{
  "summary": "講道摘要（200字以內）",
  "slides": [
    {
      "title": "幻燈片標題",
      "talkingPoints": ["要點1", "要點2", "要點3"],
      "speakerNotes": "講員備註（詳細內容）"
    }
  ],
  "fullScript": "完整的講道稿文本"
}

請確保內容：
- 包含準確的聖經經文引用
- 適合${o}分鐘的講道長度
- 語言溫暖、鼓勵且充滿信心
- 神學上準確且實用`;r(`使用 ${u.model} 生成講道內容...`);try{const y=await J3(u.model,p,u.temperature);r("解析生成內容...");let g;try{const w=y.match(/\{[\s\S]*\}/);if(w)g=JSON.parse(w[0]);else throw new Error("No JSON found in response")}catch(w){console.warn("Failed to parse JSON, creating structure from text:",w),g=F3(y,n,e,a,o)}r("組裝最終演示文稿...");const v=(g.slides||[]).map((w,N)=>({title:w.title||`第 ${N+1} 部分`,talkingPoints:Array.isArray(w.talkingPoints)?w.talkingPoints:["重點 1","重點 2","重點 3"],speakerNotes:w.speakerNotes||w.content||"",imagePrompt:w.imagePrompt||`講道場景 ${N+1}`,backgroundUrl:`https://picsum.photos/seed/sermon${N}/800/600`})),b={slides:v.length>0?v:dy(n,e,a,u.model,o),speakerImageUrl:"https://picsum.photos/seed/speaker/150/150",audienceImageUrl:"https://picsum.photos/seed/audience/300/200",fullScript:g.fullScript||y,summary:g.summary||`使用 ${u.model} 生成的關於「${n}」的講道，基於${a}的神學研究方法。`};return r("完成生成！"),b}catch(y){return console.error("Ollama Cloud generation error:",y),r("生成失敗，使用備用內容..."),K3(n,e,a,o,u)}};function F3(n,e,a,o,r){const f=n.split(`

`).filter(p=>p.trim().length>0).slice(0,5).map((p,y)=>{var v;const g=p.split(`
`).filter(b=>b.trim());return{title:((v=g[0])==null?void 0:v.substring(0,50))||`第 ${y+1} 部分`,talkingPoints:g.slice(1,4).length>0?g.slice(1,4):["要點 1","要點 2","要點 3"],speakerNotes:p,imagePrompt:`講道插圖 ${y+1}`,backgroundUrl:`https://picsum.photos/seed/sermon${y}/800/600`}});return{summary:n.substring(0,200)+"...",slides:f,fullScript:n}}function dy(n,e,a,o,r){return[{title:`${n} - 引言`,talkingPoints:["歡迎與開場祈禱",`介紹今日主題：${n}`,"建立會眾期待"],speakerNotes:`使用 ${o} 生成的引言部分。根據${a}的角度來介紹${n}。`,imagePrompt:"教會聚會開始的溫馨場景",backgroundUrl:"https://picsum.photos/seed/sermon1/800/600"},{title:"聖經基礎",talkingPoints:e.length>0?e:["主要經文分析","歷史背景","原文含義"],speakerNotes:`深入探討聖經根據，運用${a}的研究方法。`,imagePrompt:"聖經攤開在講台上的神聖場景",backgroundUrl:"https://picsum.photos/seed/sermon2/800/600"},{title:"神學反思",talkingPoints:["教義的深層含義","與傳統教導的關聯","現代詮釋的平衡"],speakerNotes:`神學分析部分，展現對${a}相關神學觀點的理解。`,imagePrompt:"思考和默想的安靜空間",backgroundUrl:"https://picsum.photos/seed/sermon3/800/600"},{title:"實際應用",talkingPoints:["日常生活的實踐","具體的行動步驟","社群中的見證"],speakerNotes:"應用部分要求實用性和可操作性，貼近會眾需求。",imagePrompt:"基督徒在日常生活中實踐信仰",backgroundUrl:"https://picsum.photos/seed/sermon4/800/600"},{title:"結論與呼召",talkingPoints:["總結核心信息","發出生命的邀請","祝禱與差遣"],speakerNotes:`結尾部分需要有力且溫暖。講道時間控制在${r}分鐘。`,imagePrompt:"會眾響應呼召的感動場面",backgroundUrl:"https://picsum.photos/seed/sermon5/800/600"}]}function K3(n,e,a,o,r){return{slides:dy(n,e,a,r.model,o),speakerImageUrl:"https://picsum.photos/seed/speaker/150/150",audienceImageUrl:"https://picsum.photos/seed/audience/300/200",fullScript:`【${r.model} 備用講道稿】

親愛的弟兄姊妹們，平安！

今天我們要一起探討「${n}」這個重要的主題。

${e.length>0?e.map((u,f)=>`${f+1}. ${u}`).join(`
`):""}

願上帝的話語成為我們腳前的燈，路上的光。

阿們。`,summary:`關於「${n}」的講道，基於${a}的研究方法。預計時長${o}分鐘。`}}const $3=()=>{const[n,e]=H.useState(_e.LANDING),[a,o]=H.useState(nt.GEMINI),[r,u]=H.useState(""),[f,p]=H.useState(null),[y,g]=H.useState(""),[v,b]=H.useState(null),[w,N]=H.useState([]),[_,E]=H.useState(ml);H.useEffect(()=>{try{const Z=localStorage.getItem("ai-insights-presentations");Z&&N(JSON.parse(Z));const ae=localStorage.getItem("ai-insights-prompt-config");ae&&E(JSON.parse(ae))}catch(Z){console.error("Failed to load data from local storage",Z)}},[]);const A=H.useCallback(async(Z,ae,Q,Y,ne)=>{e(_e.LOADING),b(null),p(null),g(Z);try{let ee;a===nt.GEMINI?ee=await z3(Z,ae,Q,Y,u):a===nt.LOCAL_LLM&&ne?ee=await Y3(Z,ae,Q,Y,u,ne):ee=await O3(Z,ae,Q,Y,u),p(ee),e(_e.RESULT)}catch(ee){console.error("Generation failed:",ee);const B=ee instanceof Error?ee.message:"An unknown error occurred.";b(`生成失敗。 ${B}`),e(_e.ERROR)}},[a]),R=()=>{e(_e.INPUT),p(null),b(null),g("")},L=()=>{e(_e.LANDING),p(null),b(null),g("")},V=Z=>{switch(Z){case"sermon":e(_e.INPUT);break;case"bible-game":e(_e.BIBLE);break;case"theology-search":e(_e.THEOLOGY_SEARCH);break;case"biblical-language":e(_e.BIBLICAL_LANGUAGE);break;case"theological-journey":e(_e.THEOLOGICAL_JOURNEY);break}},M=Z=>{if(!y)return;const ae={...Z,id:new Date().toISOString(),topic:y,savedAt:new Date().toISOString()},Q=[...w,ae];N(Q),localStorage.setItem("ai-insights-presentations",JSON.stringify(Q)),p(ae)},G=Z=>{p(Z),g(Z.topic),e(_e.RESULT)},q=Z=>{const ae=w.filter(Q=>Q.id!==Z);N(ae),localStorage.setItem("ai-insights-presentations",JSON.stringify(ae))},k=Z=>{E(Z),localStorage.setItem("ai-insights-prompt-config",JSON.stringify(Z)),e(_e.INPUT)},F=()=>{switch(n){case _e.LANDING:return c.jsx(Pb,{onNavigate:V});case _e.BIBLE:return c.jsx(LT,{onBack:L});case _e.THEOLOGY_SEARCH:return c.jsx(HT,{onBack:L});case _e.BIBLICAL_LANGUAGE:return c.jsx(AE,{onBack:L});case _e.THEOLOGICAL_JOURNEY:return c.jsx(P3,{onBack:L});case _e.LOADING:return c.jsx(Zv,{message:r});case _e.RESULT:return f&&c.jsx(tb,{presentation:f,topic:y,onReset:R,onSave:M,isSaved:"id"in f});case _e.ERROR:return c.jsxs("div",{className:"text-center p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"生成失敗"}),c.jsx("p",{className:"text-gray-300 mb-6",children:v}),c.jsx("button",{onClick:R,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-md font-semibold transition-colors",children:"再試一次"})]});case _e.SAVED:return c.jsx(nb,{presentations:w,onLoad:G,onDelete:q,onBack:R});case _e.ADMIN:return c.jsx(ab,{config:_,onSave:k,onBack:R});case _e.INPUT:default:return c.jsx(Xv,{onGenerate:A,selectedEngine:a,onEngineChange:o,onShowSaved:()=>e(_e.SAVED),onBackToLanding:L,hasSavedPresentations:w.length>0})}},$=n!==_e.LANDING&&n!==_e.BIBLE&&n!==_e.THEOLOGY_SEARCH&&n!==_e.BIBLICAL_LANGUAGE&&n!==_e.THEOLOGICAL_JOURNEY;return c.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 flex flex-col",children:[$&&c.jsx(Kv,{aiEngine:a,onShowAdmin:()=>e(_e.ADMIN)}),c.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex flex-col items-center justify-center",children:F()})]})},fy=document.getElementById("root");if(!fy)throw new Error("Could not find root element to mount to");const Q3=Fv.createRoot(fy);Q3.render(c.jsx(Hv.StrictMode,{children:c.jsx($3,{})}));
